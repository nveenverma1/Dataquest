(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1025:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),p=o(r(1104)),f=o(r(1107)),m=o(r(1108)),h=o(r(1109)),v=o(r(1110)),y=o(r(1111)),b=o(r(1112)),g=o(r(1113)),C=o(r(1114)),_=o(r(1115)),O=o(r(1116)),P=o(r(1117)),w=o(r(1118)),E=o(r(1119)),j=o(r(1126)),s=r(820);function o(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(l){var e,t;function r(){for(var e,t,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=l.call.apply(l,[this].concat(a))||this,t=u(u(e)),n=function(e){var t=c(e.target,"href");t&&(0,s.openLink)(t)&&e.preventDefault()},(r="handleClick")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderBlock=function(e,t){var r=this.props,n=r.zoomable,o=r.maxImageWidth,a=r.onImageClick,i=r.author,l=r.autoPlay,s=r.isLastPart,u=r.frameWindow,c={key:t,block:e,isLastPart:s};switch(e.type){case"image":return Object.assign(c,{onImageClick:a,zoomable:n,maxWidth:o}),d.default.createElement(p.default,S({},c,{frameWindow:u}));case"video":return d.default.createElement(h.default,c);case"videoFile":return Object.assign(c,{autoPlay:l,author:i}),d.default.createElement(E.default,c);case"videoReply":return d.default.createElement(v.default,c);case"paragraph":return d.default.createElement(f.default,c);case"heading":return d.default.createElement(y.default,c);case"subheading":return d.default.createElement(b.default,c);case"unorderedList":case"orderedList":return d.default.createElement(g.default,c);case"html":return d.default.createElement(m.default,c);case"button":return d.default.createElement(C.default,c);case"twitterFollowButton":return d.default.createElement(_.default,c);case"facebookLikeButton":return d.default.createElement(O.default,c);case"attachmentList":return d.default.createElement(P.default,c);case"code":return d.default.createElement(w.default,c);case"messengerCard":return Object.assign(c,{frameWindow:u}),d.default.createElement(j.default,c);case"rawContent":return d.default.createElement(m.default,c);default:return d.default.createElement(f.default,c)}},n.render=function(){var r=this;return d.default.createElement("div",{className:"intercom-blocks",onClick:this.handleClick,tabIndex:"-1",role:"presentation"},this.props.blocks.map(function(e,t){return r.renderBlock(e,t)}))},r}(d.Component);t.default=a;var c=function(e,t){for(;e;){if(void 0!==e.getAttribute&&null!==e.getAttribute(t))return e;e=e.parentNode}return null};a.defaultTypes={zoomable:!1},a.propTypes={blocks:n.default.arrayOf(n.default.shape({type:n.default.string.isRequired})).isRequired,zoomable:n.default.bool,frameWindow:n.default.object,maxImageWidth:n.default.number,onImageClick:n.default.func,author:n.default.object,autoPlay:n.default.bool,isLastPart:n.default.bool}},1029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{viewBox:"0 0 16 18"},o.default.createElement("path",{d:"M14.154 6.918l-.004.003.001-.004-3.287 3.286-.006-.005-3.574 3.574c-.016.017-.03.036-.048.053l-.05.047-.043.041v-.002c-1.167 1.07-2.692 1.331-3.823.2-1.13-1.13-.89-2.677.18-3.843l-.005-.004.074-.073.016-.018c.006-.005.012-.009.017-.016l6.053-6.053.761.76-6.053 6.054-.029.028v.001l-.005.004-.073.074c.011-.01.025-.018.035-.03-.688.75-.93 1.636-.21 2.356.72.72 1.583.456 2.333-.232l-.03.034.04-.042.01-.008.008-.009.033-.03.031-.034.01-.009.007-.009 5.004-5.003.005.006 1.858-1.859c1.223-1.218 1.51-2.913.291-4.132C12.462.806 10.414.74 9.195 1.958L2.248 8.905c.003 0 .006-.002.008-.004-1.625 1.667-1.542 4.43.103 6.074 1.646 1.646 4.474 1.795 6.141.17-.003.002-.004.008-.008.012l.047-.047 6.053-6.054.042-.042.743.78-.025.021.001.002-6.05 6.05-.002.002-.002.001-.046.046h-.002c-2.094 2.04-5.578 1.894-7.652-.18-2.049-2.049-2.15-5.407-.183-7.505l-.006-.005h-.002l.076-.078 6.943-6.944.003-.002.004-.005c1.641-1.64 4.367-1.574 6.008.066 1.64 1.642 1.353 4.014-.288 5.655z",fillRule:"evenodd"}))};t.default=a},1030:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=r(69),l=r(1037);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u(s(s(n=o.call.apply(o,[this].concat(t))||this)),"state",{scrollable:!1,scrolled:!1}),u(s(s(n)),"scrollable",void 0),u(s(s(n)),"handleScroll",(0,l.throttleEventHandler)(function(e){var t=e.target.scrollTop;n.setState({scrolled:0<t});var r=n.props.onScroll;r&&r(e)},17)),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){this.handleScrollable()},n.componentDidMount=function(){this.handleScrollable()},n.handleScrollable=function(){var e=this.props.onScrollable;!this.state.scrollable&&this.isScrollable()&&(this.setState({scrollable:!0}),this.scrollable&&e&&e(this.scrollable))},n.isScrollable=function(){return!!this.scrollable&&this.scrollable.scrollHeight>this.scrollable.clientHeight},n.render=function(){var t=this;return a.default.createElement("div",{className:"intercom-scrollable",onScroll:this.handleScroll,onWheel:i.allowScrollEvent,tabIndex:this.state.scrollable?"0":"-1",ref:function(e){return t.scrollable=e}},this.props.children)},r}(a.Component);t.default=n},1031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{viewBox:"0 0 18 18"},o.default.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm0 1C4.589 1 1 4.589 1 9s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM5 6.999a1 1 0 1 1 2.002.004A1 1 0 0 1 5 6.999zm5.999 0a1.002 1.002 0 0 1 2.001 0 1 1 0 1 1-2.001 0zM8.959 13.5c-.086 0-.173-.002-.26-.007-2.44-.132-4.024-2.099-4.09-2.182l-.31-.392.781-.62.312.39c.014.017 1.382 1.703 3.37 1.806 1.306.072 2.61-.554 3.882-1.846l.351-.356.712.702-.35.356c-1.407 1.427-2.886 2.15-4.398 2.15z",fillRule:"evenodd"}))};t.default=a},1033:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(1041));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.componentDidMount=function(){this.renderModal()},o.componentDidUpdate=function(){this.renderModal()},o.componentWillUnmount=function(){this.unmountModal()},o.renderModal=function(){var t=this,e=this.context.modal;e&&e.render(function(e){return a.default.createElement(i.default,l({},t.props,{modalFrameWindow:e}))})},o.unmountModal=function(){var e=this.context.modal;e&&e.unmount()},o.render=function(){return null},n}(a.Component);(t.default=s).contextTypes={modal:n.default.shape({render:n.default.func.isRequired,unmount:n.default.func.isRequired})}},1034:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=l(r(1139)),i=l(r(15));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(l){var e,t;function r(){for(var t,e,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=l.call.apply(l,[this].concat(a))||this,e=s(s(t)),n=function(e){t.props.onReactionSelect(e.index)},(r="handleClick")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange()},n.getClassName=function(){var e=this.props,t=e.reactionIndex,r=e.prompt;return(0,i.default)({"intercom-reaction-picker":!0,"intercom-reaction-picker-reaction-selected":null!=t,"intercom-reaction-picker-with-prompt":r})},n.handleHeightChange=function(){var e=this.props.onHeightChange;e&&e(this.composer.clientHeight)},n.render=function(){var r=this;return o.default.createElement("div",{className:this.getClassName(),ref:function(e){return r.composer=e}},this.props.prompt?o.default.createElement("div",{className:"intercom-reaction-prompt"},this.props.prompt):null,this.props.reactionSet.map(function(e,t){return o.default.createElement(a.default,{key:t,onReactionSelect:r.props.onReactionSelect,reaction:e,isSelected:r.props.reactionIndex===e.index})}))},r}(o.Component);(t.default=u).defaultTypes={reactionIndex:null},u.propTypes={onHeightChange:n.default.func,reactionIndex:n.default.number,reactionSet:n.default.arrayOf(n.default.shape({index:n.default.number,emoji:n.default.string})).isRequired,prompt:n.default.string,onReactionSelect:n.default.func.isRequired}},1036:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=r(31);var c=r(818).relativeTimeInWords,i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.componentDidMount=function(){var e=this;this.interval=setInterval(function(){e.forceUpdate()},6e4)},o.componentWillUnmount=function(){clearInterval(this.interval),this.interval=null},o.getAttribution=function(){var e=this.props.part.body;if(e&&0!==e.length)return e[0].attribution},o.getSaveState=function(){var e=this.props.part,t=e.saveState,r=e.seenState,n=e.createdAt,o=e.showCreatedAt,a=e.author,i=e.saveFailureReason,l=o?c(n):null,s=this.seenStateText(r);return!a.isSelf&&o?""+this.botStateText(a)+l+".":"saving"===t?(0,u.translate)("message_state_sending"):"failed"===t?"file_size"===i?(0,u.translate)("file_too_big"):(0,u.translate)("failed_to_send"):"saved"===t&&a.isSelf&&l?l+". "+s:void 0},o.seenStateText=function(e){return"not-seen-yet"===e?(0,u.translate)("message_unseen"):"seen"===e?(0,u.translate)("message_seen"):""},o.botStateText=function(e){return e.isBot?"Bot · ":""},o.renderSaveState=function(){return a.default.createElement("div",{className:"intercom-conversation-part-metadata-save-state"},this.getSaveState())},o.renderAttribution=function(){var e=this.getAttribution();return e?a.default.createElement("div",{className:"intercom-conversation-part-metadata-attribution"},(0,u.translate)("gif_attribution",{providername:e})):null},o.render=function(){return a.default.createElement("div",{className:"intercom-conversation-part-metadata"},this.renderAttribution(),this.renderSaveState())},n}(a.Component);(t.default=i).propTypes={part:o.default.shape({body:o.default.arrayOf(o.default.shape({attribution:o.default.string})),saveState:o.default.oneOf(["failed","saving","saved"]),saveFailureReason:o.default.string,seenState:o.default.oneOf(["not-seen-yet","seen"]),createdAt:o.default.date,showCreatedAt:o.default.bool,author:o.default.shape({isSelf:o.default.bool.isRequired}).isRequired}).isRequired}},1037:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceEventHandler=t.throttleEventHandler=t.getComponentWindow=void 0;var n=i(r(426)),o=i(r(760)),a=i(r(70));function i(e){return e&&e.__esModule?e:{default:e}}t.getComponentWindow=function(e){var t=a.default.findDOMNode(e);return t.ownerDocument.parentWindow||t.ownerDocument.defaultView};t.throttleEventHandler=function(){var t=o.default.apply(void 0,arguments);return function(e){return e.persist(),t(e)}};t.debounceEventHandler=function(){var t=n.default.apply(void 0,arguments);return function(e){return e.persist(),t(e)}}},1038:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countryByDialCode=t.countryPrefixByCode=t.getErrorCode=t.isValid=t.errorCodes=void 0;var n=/\s+/g,o=/^(00)|(\+)/i,a=/[^(\d|\s|\+|\.|\(|\)|\-)]/g,i=/\D/g,l={invalidPrefix:"that_number_needs_a_prefix",invalidCharacters:"that_number_doesnt_look_quite_right",invalidCountryCode:"that_country_code_doesnt_look_quite_right",tooShort:"that_number_is_missing_a_few_digits",tooLong:"that_number_has_too_many_digits"};t.errorCodes=l;t.isValid=function(e){return void 0===s(e)};var s=function(e){if(!c(e))return l.invalidPrefix;if((e=e.replace(o,"")).match(a))return l.invalidCharacters;if(15<(e=e.replace(i,"")).length)return l.tooLong;var t=u(e);return t&&(e=e.substring(t.dialCode.length)),e.length<6?l.tooShort:t?void 0:l.invalidCountryCode};t.getErrorCode=s;t.countryPrefixByCode=function(e){var t=v[e];return t?"+"+t.dialCode:"+1"};var u=function(e){if(!((e=d(e)).length<4)){var t=p(e);return h(t)}};t.countryByDialCode=u;var c=function(e){return e.match(o)},d=function(e){return(e=(e=(e=e.replace(n,"")).replace(o,"")).replace(a,"")).slice(0,4)},p=function(t){for(var e=[],r=Object.keys(v),n=0;n<=r.length-1;n++){var o=f(r[n]),a=m(o);if(-1<a.indexOf(t)){e.push(o);break}a.some(function(e){return t.startsWith(e)})&&e.push(o)}return e},f=function(e){return Object.assign(v[e],{code:e})},m=function(e){var t=e.dialCode,r=e.areaCodes;return r?r.map(function(e){return""+t+e}):[t]},h=function(e){if(1===e.length)return e[0];if(1<e.length&&1===new Set(e.map(function(e){return e.dialCode})).size)return e.find(function(e){return 0===e.priority})},v={af:{dialCode:"93",areaCodes:null,priority:0},al:{dialCode:"355",areaCodes:null,priority:0},dz:{dialCode:"213",areaCodes:null,priority:0},as:{dialCode:"1684",areaCodes:null,priority:0},ad:{dialCode:"376",areaCodes:null,priority:0},ao:{dialCode:"244",areaCodes:null,priority:0},ai:{dialCode:"1264",areaCodes:null,priority:0},ag:{dialCode:"1268",areaCodes:null,priority:0},ar:{dialCode:"54",areaCodes:null,priority:0},am:{dialCode:"374",areaCodes:null,priority:0},aw:{dialCode:"297",areaCodes:null,priority:0},au:{dialCode:"61",areaCodes:null,priority:0},at:{dialCode:"43",areaCodes:null,priority:0},az:{dialCode:"994",areaCodes:null,priority:0},bs:{dialCode:"1242",areaCodes:null,priority:0},bh:{dialCode:"973",areaCodes:null,priority:0},bd:{dialCode:"880",areaCodes:null,priority:0},bb:{dialCode:"1246",areaCodes:null,priority:0},by:{dialCode:"375",areaCodes:null,priority:0},be:{dialCode:"32",areaCodes:null,priority:0},bz:{dialCode:"501",areaCodes:null,priority:0},bj:{dialCode:"229",areaCodes:null,priority:0},bm:{dialCode:"1441",areaCodes:null,priority:0},bt:{dialCode:"975",areaCodes:null,priority:0},bo:{dialCode:"591",areaCodes:null,priority:0},ba:{dialCode:"387",areaCodes:null,priority:0},bw:{dialCode:"267",areaCodes:null,priority:0},br:{dialCode:"55",areaCodes:null,priority:0},io:{dialCode:"246",areaCodes:null,priority:0},vg:{dialCode:"1284",areaCodes:null,priority:0},bn:{dialCode:"673",areaCodes:null,priority:0},bg:{dialCode:"359",areaCodes:null,priority:0},bf:{dialCode:"226",areaCodes:null,priority:0},bi:{dialCode:"257",areaCodes:null,priority:0},kh:{dialCode:"855",areaCodes:null,priority:0},cm:{dialCode:"237",areaCodes:null,priority:0},ca:{dialCode:"1",areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"],priority:1},cv:{dialCode:"238",areaCodes:null,priority:0},bq:{dialCode:"599",areaCodes:null,priority:1},ky:{dialCode:"1345",areaCodes:null,priority:0},cf:{dialCode:"236",areaCodes:null,priority:0},td:{dialCode:"235",areaCodes:null,priority:0},cl:{dialCode:"56",areaCodes:null,priority:0},cn:{dialCode:"86",areaCodes:null,priority:0},cx:{dialCode:"61",areaCodes:null,priority:2},cc:{dialCode:"61",areaCodes:null,priority:1},co:{dialCode:"57",areaCodes:null,priority:0},km:{dialCode:"269",areaCodes:null,priority:0},cd:{dialCode:"243",areaCodes:null,priority:0},cg:{dialCode:"242",areaCodes:null,priority:0},ck:{dialCode:"682",areaCodes:null,priority:0},cr:{dialCode:"506",areaCodes:null,priority:0},ci:{dialCode:"225",areaCodes:null,priority:0},hr:{dialCode:"385",areaCodes:null,priority:0},cu:{dialCode:"53",areaCodes:null,priority:0},cw:{dialCode:"599",areaCodes:null,priority:0},cy:{dialCode:"357",areaCodes:null,priority:0},cz:{dialCode:"420",areaCodes:null,priority:0},dk:{dialCode:"45",areaCodes:null,priority:0},dj:{dialCode:"253",areaCodes:null,priority:0},dm:{dialCode:"1767",areaCodes:null,priority:0},do:{dialCode:"1",areaCodes:["809","829","849"],priority:2},ec:{dialCode:"593",areaCodes:null,priority:0},eg:{dialCode:"20",areaCodes:null,priority:0},sv:{dialCode:"503",areaCodes:null,priority:0},gq:{dialCode:"240",areaCodes:null,priority:0},er:{dialCode:"291",areaCodes:null,priority:0},ee:{dialCode:"372",areaCodes:null,priority:0},et:{dialCode:"251",areaCodes:null,priority:0},fk:{dialCode:"500",areaCodes:null,priority:0},fo:{dialCode:"298",areaCodes:null,priority:0},fj:{dialCode:"679",areaCodes:null,priority:0},fi:{dialCode:"358",areaCodes:null,priority:0},fr:{dialCode:"33",areaCodes:null,priority:0},gf:{dialCode:"594",areaCodes:null,priority:0},pf:{dialCode:"689",areaCodes:null,priority:0},ga:{dialCode:"241",areaCodes:null,priority:0},gm:{dialCode:"220",areaCodes:null,priority:0},ge:{dialCode:"995",areaCodes:null,priority:0},de:{dialCode:"49",areaCodes:null,priority:0},gh:{dialCode:"233",areaCodes:null,priority:0},gi:{dialCode:"350",areaCodes:null,priority:0},gr:{dialCode:"30",areaCodes:null,priority:0},gl:{dialCode:"299",areaCodes:null,priority:0},gd:{dialCode:"1473",areaCodes:null,priority:0},gp:{dialCode:"590",areaCodes:null,priority:0},gu:{dialCode:"1671",areaCodes:null,priority:0},gt:{dialCode:"502",areaCodes:null,priority:0},gg:{dialCode:"44",areaCodes:null,priority:1},gn:{dialCode:"224",areaCodes:null,priority:0},gw:{dialCode:"245",areaCodes:null,priority:0},gy:{dialCode:"592",areaCodes:null,priority:0},ht:{dialCode:"509",areaCodes:null,priority:0},hn:{dialCode:"504",areaCodes:null,priority:0},hk:{dialCode:"852",areaCodes:null,priority:0},hu:{dialCode:"36",areaCodes:null,priority:0},is:{dialCode:"354",areaCodes:null,priority:0},in:{dialCode:"91",areaCodes:null,priority:0},id:{dialCode:"62",areaCodes:null,priority:0},ir:{dialCode:"98",areaCodes:null,priority:0},iq:{dialCode:"964",areaCodes:null,priority:0},ie:{dialCode:"353",areaCodes:null,priority:0},im:{dialCode:"44",areaCodes:null,priority:2},il:{dialCode:"972",areaCodes:null,priority:0},it:{dialCode:"39",areaCodes:null,priority:0},jm:{dialCode:"1876",areaCodes:null,priority:0},jp:{dialCode:"81",areaCodes:null,priority:0},je:{dialCode:"44",areaCodes:null,priority:3},jo:{dialCode:"962",areaCodes:null,priority:0},kz:{dialCode:"7",areaCodes:null,priority:1},ke:{dialCode:"254",areaCodes:null,priority:0},ki:{dialCode:"686",areaCodes:null,priority:0},xk:{dialCode:"383",areaCodes:null,priority:0},kw:{dialCode:"965",areaCodes:null,priority:0},kg:{dialCode:"996",areaCodes:null,priority:0},la:{dialCode:"856",areaCodes:null,priority:0},lv:{dialCode:"371",areaCodes:null,priority:0},lb:{dialCode:"961",areaCodes:null,priority:0},ls:{dialCode:"266",areaCodes:null,priority:0},lr:{dialCode:"231",areaCodes:null,priority:0},ly:{dialCode:"218",areaCodes:null,priority:0},li:{dialCode:"423",areaCodes:null,priority:0},lt:{dialCode:"370",areaCodes:null,priority:0},lu:{dialCode:"352",areaCodes:null,priority:0},mo:{dialCode:"853",areaCodes:null,priority:0},mk:{dialCode:"389",areaCodes:null,priority:0},mg:{dialCode:"261",areaCodes:null,priority:0},mw:{dialCode:"265",areaCodes:null,priority:0},my:{dialCode:"60",areaCodes:null,priority:0},mv:{dialCode:"960",areaCodes:null,priority:0},ml:{dialCode:"223",areaCodes:null,priority:0},mt:{dialCode:"356",areaCodes:null,priority:0},mh:{dialCode:"692",areaCodes:null,priority:0},mq:{dialCode:"596",areaCodes:null,priority:0},mr:{dialCode:"222",areaCodes:null,priority:0},mu:{dialCode:"230",areaCodes:null,priority:0},yt:{dialCode:"262",areaCodes:null,priority:1},mx:{dialCode:"52",areaCodes:null,priority:0},fm:{dialCode:"691",areaCodes:null,priority:0},md:{dialCode:"373",areaCodes:null,priority:0},mc:{dialCode:"377",areaCodes:null,priority:0},mn:{dialCode:"976",areaCodes:null,priority:0},me:{dialCode:"382",areaCodes:null,priority:0},ms:{dialCode:"1664",areaCodes:null,priority:0},ma:{dialCode:"212",areaCodes:null,priority:0},mz:{dialCode:"258",areaCodes:null,priority:0},mm:{dialCode:"95",areaCodes:null,priority:0},na:{dialCode:"264",areaCodes:null,priority:0},nr:{dialCode:"674",areaCodes:null,priority:0},np:{dialCode:"977",areaCodes:null,priority:0},nl:{dialCode:"31",areaCodes:null,priority:0},nc:{dialCode:"687",areaCodes:null,priority:0},nz:{dialCode:"64",areaCodes:null,priority:0},ni:{dialCode:"505",areaCodes:null,priority:0},ne:{dialCode:"227",areaCodes:null,priority:0},ng:{dialCode:"234",areaCodes:null,priority:0},nu:{dialCode:"683",areaCodes:null,priority:0},nf:{dialCode:"672",areaCodes:null,priority:0},kp:{dialCode:"850",areaCodes:null,priority:0},mp:{dialCode:"1670",areaCodes:null,priority:0},no:{dialCode:"47",areaCodes:null,priority:0},om:{dialCode:"968",areaCodes:null,priority:0},pk:{dialCode:"92",areaCodes:null,priority:0},pw:{dialCode:"680",areaCodes:null,priority:0},ps:{dialCode:"970",areaCodes:null,priority:0},pa:{dialCode:"507",areaCodes:null,priority:0},pg:{dialCode:"675",areaCodes:null,priority:0},py:{dialCode:"595",areaCodes:null,priority:0},pe:{dialCode:"51",areaCodes:null,priority:0},ph:{dialCode:"63",areaCodes:null,priority:0},pl:{dialCode:"48",areaCodes:null,priority:0},pt:{dialCode:"351",areaCodes:null,priority:0},pr:{dialCode:"1",areaCodes:["787","939"],priority:3},qa:{dialCode:"974",areaCodes:null,priority:0},re:{dialCode:"262",areaCodes:null,priority:0},ro:{dialCode:"40",areaCodes:null,priority:0},ru:{dialCode:"7",areaCodes:null,priority:0},rw:{dialCode:"250",areaCodes:null,priority:0},bl:{dialCode:"590",areaCodes:null,priority:1},sh:{dialCode:"290",areaCodes:null,priority:0},kn:{dialCode:"1869",areaCodes:null,priority:0},lc:{dialCode:"1758",areaCodes:null,priority:0},mf:{dialCode:"590",areaCodes:null,priority:2},pm:{dialCode:"508",areaCodes:null,priority:0},vc:{dialCode:"1784",areaCodes:null,priority:0},ws:{dialCode:"685",areaCodes:null,priority:0},sm:{dialCode:"378",areaCodes:null,priority:0},st:{dialCode:"239",areaCodes:null,priority:0},sa:{dialCode:"966",areaCodes:null,priority:0},sn:{dialCode:"221",areaCodes:null,priority:0},rs:{dialCode:"381",areaCodes:null,priority:0},sc:{dialCode:"248",areaCodes:null,priority:0},sl:{dialCode:"232",areaCodes:null,priority:0},sg:{dialCode:"65",areaCodes:null,priority:0},sx:{dialCode:"1721",areaCodes:null,priority:0},sk:{dialCode:"421",areaCodes:null,priority:0},si:{dialCode:"386",areaCodes:null,priority:0},sb:{dialCode:"677",areaCodes:null,priority:0},so:{dialCode:"252",areaCodes:null,priority:0},za:{dialCode:"27",areaCodes:null,priority:0},kr:{dialCode:"82",areaCodes:null,priority:0},ss:{dialCode:"211",areaCodes:null,priority:0},es:{dialCode:"34",areaCodes:null,priority:0},lk:{dialCode:"94",areaCodes:null,priority:0},sd:{dialCode:"249",areaCodes:null,priority:0},sr:{dialCode:"597",areaCodes:null,priority:0},sj:{dialCode:"47",areaCodes:null,priority:1},sz:{dialCode:"268",areaCodes:null,priority:0},se:{dialCode:"46",areaCodes:null,priority:0},ch:{dialCode:"41",areaCodes:null,priority:0},sy:{dialCode:"963",areaCodes:null,priority:0},tw:{dialCode:"886",areaCodes:null,priority:0},tj:{dialCode:"992",areaCodes:null,priority:0},tz:{dialCode:"255",areaCodes:null,priority:0},th:{dialCode:"66",areaCodes:null,priority:0},tl:{dialCode:"670",areaCodes:null,priority:0},tg:{dialCode:"228",areaCodes:null,priority:0},tk:{dialCode:"690",areaCodes:null,priority:0},to:{dialCode:"676",areaCodes:null,priority:0},tt:{dialCode:"1868",areaCodes:null,priority:0},tn:{dialCode:"216",areaCodes:null,priority:0},tr:{dialCode:"90",areaCodes:null,priority:0},tm:{dialCode:"993",areaCodes:null,priority:0},tc:{dialCode:"1649",areaCodes:null,priority:0},tv:{dialCode:"688",areaCodes:null,priority:0},vi:{dialCode:"1340",areaCodes:null,priority:0},ug:{dialCode:"256",areaCodes:null,priority:0},ua:{dialCode:"380",areaCodes:null,priority:0},ae:{dialCode:"971",areaCodes:null,priority:0},gb:{dialCode:"44",areaCodes:null,priority:0},us:{dialCode:"1",areaCodes:null,priority:0},uy:{dialCode:"598",areaCodes:null,priority:0},uz:{dialCode:"998",areaCodes:null,priority:0},vu:{dialCode:"678",areaCodes:null,priority:0},va:{dialCode:"39",areaCodes:null,priority:1},ve:{dialCode:"58",areaCodes:null,priority:0},vn:{dialCode:"84",areaCodes:null,priority:0},wf:{dialCode:"681",areaCodes:null,priority:0},eh:{dialCode:"212",areaCodes:null,priority:1},ye:{dialCode:"967",areaCodes:null,priority:0},zm:{dialCode:"260",areaCodes:null,priority:0},zw:{dialCode:"263",areaCodes:null,priority:0},ax:{dialCode:"358",areaCodes:null,priority:1}}},1041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1042))&&n.__esModule?n:{default:n};var i=function(e){return{tabNavigation:e.accessibility.tabNavigation}};t.mapStateToProps=i;var l=(0,o.connect)(i)(a.default);t.default=l},1042:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),l=r(69),s=n(r(683)),u=r(31);function n(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d(c(c(n=o.call.apply(o,[this].concat(t))||this)),"node",null),d(c(c(n)),"scrollArea",null),d(c(c(n)),"focusTrap",null),d(c(c(n)),"handleEscape",function(e){(0,l.isEscapeKey)(e)&&n.handleClose()}),d(c(c(n)),"handleClose",function(){var e=n.props,t=e.onClose,r=e.returnFocus;t&&t(),r&&r()}),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props,t=e.modalFrameWindow,r=e.tabNavigation;t&&(this.focusTrap=new s.default({document:t.document,windowToTrapFocusWithin:t}),this.scrollArea=t.document.querySelector(".intercom-scrollable"),(0,l.addEventListener)(t,"keydown",this.handleEscape)),this.scrollArea?this.scrollArea.focus():this.node&&this.node.focus(),r&&(0,l.addClass)(window.parent.document.documentElement,"intercom-modal-open")},n.componentWillUnmount=function(){var e=this.props.modalFrameWindow;e&&(0,l.removeEventListener)(e,"keydown",this.handleEscape),this.focusTrap&&this.focusTrap.restore(),(0,l.removeClass)(window.parent.document.documentElement,"intercom-modal-open")},n.getModalClassname=function(){return(0,i.default)({"intercom-modal":!0,"intercom-modal-fixed":!this.props.additionalStyle})},n.getOverlayClassname=function(){return(0,i.default)({"intercom-modal-overlay":!0,"intercom-modal-overlay-z":!!this.props.additionalStyle})},n.render=function(){var t=this,e=this.props,r=e.additionalStyle,n=e.showCloseOverlay,o=e.children;return a.default.createElement("div",{className:this.getModalClassname(),style:r||{}},a.default.createElement("div",{className:this.getOverlayClassname(),onClick:this.handleClose,tabIndex:"-1","aria-hidden":!0}),a.default.createElement("div",{tabIndex:"0",className:"intercom-modal-inner",ref:function(e){return t.node=e}},n?a.default.createElement("div",{className:"intercom-modal-overlay-close",onClick:t.handleClose,"aria-label":(0,u.translate)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClose(e)},role:"button",tabIndex:"0"}):null,o))},r}(a.Component);d(t.default=o,"defaultProps",{showCloseOverlay:!0})},1043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n=r(38),o=i(r(1130)),l=i(r(53)),s=r(167),a=r(425),u=r(45);function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var r=t.part;return{conversationId:e.app.conversationId||e.message.conversationId,partId:r.id,defaultCountryCode:e.user.countryCode||"us"}};t.mapStateToProps=c;var d=function(i){return{onAttributeSubmit:function(e,t,r,n,o,a){i((0,s.updateConversationForm)(l.default,e,t,r,n,o,a,(0,u.isCustomData)({identifier:r})))},onEmailAttributeMount:function(e){i((0,a.emailAttributeCollectorInserted)(e))}}};t.mapDispatchToProps=d;var p=function(r,n,o){return Object.assign({},r,n,o,{onAttributeSubmit:function(e,t){n.onAttributeSubmit(r.conversationId,r.partId,e,t,(0,u.getInferredAttributeType)(o.part.form,e),o.part.form.type)}})};t.mergeProps=p;var f=(0,n.connect)(c,d,p)(o.default);t.default=f},1044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=void 0;t.isValidEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},1045:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(1066))&&n.__esModule?n:{default:n},l=r(31);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(s(s(t=o.call.apply(o,[this].concat(r))||this)),"ref",void 0),u(s(s(t)),"setReplyToButtonRef",function(e){t.ref=e}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props.onShow;if(this.ref&&e){e(this.ref.clientHeight+10)}},n.render=function(){var e=this.props.onClick;return a.default.createElement("button",{ref:this.setReplyToButtonRef,onClick:e,className:"intercom-reply-to-button",tabIndex:"0"},a.default.createElement(i.default,{className:"intercom-reply-message-icon"}),(0,l.translate)("reply_to_conversation").replace("…",""))},r}(a.PureComponent);t.default=o},1046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openArticle=function(i,l,s){return function(t,e){var r=e(),n=r.session,o=r.app,a=o.conversationId;return i.getArticle(n,l,a).then(function(e){t({type:"OPEN_ARTICLE",article:e,metricMetadata:s,conversationId:a})})}},t.closeArticle=function(a){return function(e,t){var r=t(),n=r.app,o=n.conversationId;e({type:"CLOSE_ARTICLE",closedAt:new Date}),e((0,i.triggerTransitions)(a,{type:"closed_article",payload:{conversationId:o}}))}},t.createArticleReaction=function(o,a,i){return function(e,t){e({type:"CREATE_ARTICLE_REACTION_REQUEST",articleId:a,reactionIndex:i});var r=t(),n=r.session;return o.createArticleReaction(n,a,i,!1)}};var i=r(448)},1047:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,r){var n=l(t),o="absolute"===n.position,a=r?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return e.document.body;for(var i=t;i=i.parentElement;)if(n=l(i),(!o||"static"!==n.position)&&a.test(n.overflow+n.overflowY+n.overflowX))return i;return e.document.body};var l=function(e){return window.getComputedStyle&&window.getComputedStyle(e)?window.getComputedStyle(e):e.style}},1048:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedImage=t.rotateImageAndGetPreview=t.getImage=void 0;var i=n(r(1194)),l=n(r(1195)),s=n(r(1196));function n(e){return e&&e.__esModule?e:{default:e}}var u=r(24).hasFileSupport,o=["image/gif","image/jpeg","image/png","image/webp","image/bmp","image/x-icon"];t.getImage=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(){return t()},r.src=n})};t.rotateImageAndGetPreview=function(a){return new Promise(function(n,o){c(a)&&u()?(0,i.default)(a,function(e){var t=URL.createObjectURL(a),r=function(e){var t=new Image;t.onload=function(){return n(t)},t.onerror=function(){return o()},t.src=e};e<=1?(0,s.default)(a,r):(0,l.default)(t,e,a.type,r)}):n()})};var c=function(e){return-1!==o.indexOf(e.type.toLowerCase())};t.isSupportedImage=c},1057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),d=n(r(1103)),u=n(r(1062));function n(e){return e&&e.__esModule?e:{default:e}}var o,a,i,l=/^<br>/,s=/<br>$/,p=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.buildNewPart=function(){return Object.assign({},this.props.part,{body:[]})},o.cleanBlockWithPattern=function(e,t){e.text&&(e.text=e.text.trim().replace(t,""))},o.cleanAdjacentBlocks=function(e,t){"messengerCard"===e.type&&"paragraph"===t.type?this.cleanBlockWithPattern(t,l):"paragraph"===e.type&&"messengerCard"===t.type&&this.cleanBlockWithPattern(e,s)},o.cleanParts=function(e){var a=this;return e.map(function(e,t,r){if(t<r.length-1){var n=r[t+1],o=e.body.length-1;a.cleanAdjacentBlocks(e.body[o],n.body[0])}return e})},o.splitPartByBlockType=function(){var t=this,r=[],n=null;return this.props.part.body.forEach(function(e){"paragraph"===e.type&&""===e.text||(0!==r.length&&"messengerCard"!==e.type&&"messengerCard"!==n||r.push(t.buildNewPart()),r[r.length-1].body.push(e),n=e.type)}),this.cleanParts(r)},o.renderCommentContainer=function(e,t,r){var n=this.props,o=n.hasAvatar,a=n.isBorderless,i=n.isMobile,l=n.showInlineMetadata,s=n.frameWindow;return c.default.createElement(u.default,{key:t,part:e,showAvatar:r,hasAvatar:o,isBorderless:a,isMobile:i,frameWindow:s,showInlineMetadata:l})},o.renderChatCard=function(e,t,r,n){var o=this.props,a=o.appName,i=o.hasAvatar,l=o.isBorderless,s=o.showInlineMetadata,u=o.frameWindow;return c.default.createElement(d.default,{key:t,appName:a,part:e,showAuthor:r,showAvatar:n,hasAvatar:i,isBorderless:l,showInlineMetadata:s,frameWindow:u})},o.renderPart=function(e,t,r,n){return 1===e.body.length&&"messengerCard"===e.body[0].type?this.renderCommentContainer(e,t,n):this.renderChatCard(e,t,r,n)},o.renderParts=function(o){var a=this;return o.map(function(e,t){var r=0===t,n=t===o.length-1;return a.renderPart(e,t,r,n)})},o.render=function(){var e=this.splitPartByBlockType();return c.default.createElement("div",null,this.renderParts(e))},n}(c.Component);t.default=p,i={isBorderless:!(a="defaultProps"),isMobile:!1,hasAvatar:!0},a in(o=p)?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i},1058:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=o(r(2)),i=o(r(1059)),l=(n=r(434))&&n.__esModule?n:{default:n};function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(s(s(r=o.call.apply(o,[this].concat(t))||this)),"state",{width:0}),u(s(s(r)),"handleMeasure",function(e){var t=e.width;r.setState({width:t})}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getStyle=function(){var e=this.state.width;if(0!==e)return{width:e,height:Math.ceil(e/4*3)}},n.render=function(){var e=this.props,t=e.containerClassName,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,["containerClassName"]);return a.default.createElement(l.default,{onChange:this.handleMeasure},a.default.createElement("div",null,a.default.createElement("div",{className:t,style:this.getStyle()},a.default.createElement(i.default,r))))},r}(a.Component);u(t.default=c,"defaultProps",i.defaultProps)},1059:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=r(127),i=n(r(15)),s=n(r(1121)),u=n(r(1122)),c=n(r(123)),d=n(r(1060)),p=n(r(1125)),f=r(24),m=r(31);function n(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={autoPlay:!0,showControls:!0,retries:3,onPlayFromStart:function(){},onComplete:function(){},onVideoLoaded:function(){},onMuteChange:function(){},onReplay:function(){},onError:function(){},loop:!1};t.defaultProps=o;var y=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(h(h(o=n.call.apply(n,[this].concat(t))||this)),"_video",void 0),v(h(h(o)),"container",void 0),v(h(h(o)),"loadTime",void 0),v(h(h(o)),"hideControlsTimeout",void 0),v(h(h(o)),"state",{playState:"loading",wasPlayingBeforeSeek:!1,isMuted:void 0!==o.props.muted?o.props.muted:o.props.autoPlay,readyToPlayFromStart:!0,loadAttempt:0,videoWidth:0,videoHeight:0,duration:0,currentTime:0,userTriggeredPlayAtLeastOnce:!1,showControls:!1,seeking:!1}),v(h(h(o)),"handleClick",function(e){e.stopPropagation()}),v(h(h(o)),"handleClickButton",function(e){e.stopPropagation();var t="playing"===o.state.playState?"paused":"playing";"playing"===t&&o.props.onReplay(),o.setState({playState:t,userTriggeredPlayAtLeastOnce:!0})}),v(h(h(o)),"handlePlay",function(){!(0,f.isMobileBrowser)()||o.state.userTriggeredPlayAtLeastOnce||o.props.autoPlay?(o.playVideo(),o.state.readyToPlayFromStart&&(o.setState({readyToPlayFromStart:!1}),o.props.onPlayFromStart())):o.handlePause()}),v(h(h(o)),"handlePause",function(){o.setState({playState:"paused"})}),v(h(h(o)),"handleComplete",function(){if(!o.state.seeking){var e=o.video();e&&(e.pause(),o.setState({readyToPlayFromStart:!0,playState:"complete"}),o.props.onComplete())}}),v(h(h(o)),"handleLoad",function(){o.storeVideoInfo(),o.props.autoPlay?o.playVideo():o.setState({playState:"ready"});var e=new Date-o.loadTime;o.props.onVideoLoaded(e)}),v(h(h(o)),"handleError",function(){o.props.retries===o.state.loadAttempt&&o.props.onError(),o.setState(function(e,t){var r=e.loadAttempt;if(r<t.retries)return{loadAttempt:r+1}})}),v(h(h(o)),"handleSeek",function(e){var t=o.video();t&&(t.currentTime=e,o.handleTimeUpdate())}),v(h(h(o)),"handleTimeUpdate",function(){var e=o.video();e&&o.setState({currentTime:e.currentTime})}),v(h(h(o)),"handleAudioChange",function(e){e.stopPropagation(),o.video()&&o.setState({isMuted:!o.state.isMuted})}),v(h(h(o)),"handleSeekStart",function(){o.setState({wasPlayingBeforeSeek:"playing"===o.state.playState,seeking:!0}),o.handlePause()}),v(h(h(o)),"handleSeekEnd",function(){o.setState({seeking:!1},function(){var e=o.state,t=e.currentTime,r=e.duration,n=e.wasPlayingBeforeSeek;t===r?o.handleComplete():n&&o.playVideo()})}),v(h(h(o)),"handleMouseEnter",function(){o.showControls()}),v(h(h(o)),"handleMouseLeave",function(){o.hideControls()}),v(h(h(o)),"handleTouchStart",function(e){e.stopPropagation(),o.showControls(),o.startHideControlsTimeout()}),v(h(h(o)),"startHideControlsTimeout",function(){clearTimeout(o.hideControlsTimeout),o.hideControlsTimeout=setTimeout(function(){o.state.seeking?o.startHideControlsTimeout():o.hideControls()},2e3)}),v(h(h(o)),"showControls",function(){o.setState({showControls:!0})}),v(h(h(o)),"hideControls",function(){o.setState({showControls:!1})}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.storeVideoInfo=function(){var e=this.video();if(e){var t=e.videoWidth,r=e.videoHeight,n=e.duration;this.setState({videoWidth:t,videoHeight:r,duration:n})}},o.componentDidMount=function(){this.loadTime=new Date},o.componentWillUnmount=function(){clearTimeout(this.hideControlsTimeout)},o.componentDidUpdate=function(e,t){var r=this.video();r&&(t.playState!==this.state.playState&&("paused"===this.state.playState?r.pause():"playing"===this.state.playState&&r.play()),e.muted!==this.props.muted&&this.setState({isMuted:this.props.muted}),t.isMuted!==this.state.isMuted&&(r.muted=this.state.isMuted,this.props.onMuteChange(this.state.isMuted)),void 0!==this.props.startTime&&e.startTime!==this.props.startTime&&this.handleSeek(this.props.startTime))},o.getContainerClassnames=function(){var e,t=this.props.captions;return(0,i.default)(((e={"intercom-video-player-container":!0})["intercom-video-player-container-"+this.state.playState]=!0,e["intercom-video-player-container-mobile"]=(0,f.isMobileBrowser)(),e["intercom-video-player-container-has-captions"]=t&&t.length,e["intercom-video-player-container-show-controls"]=this.state.showControls,e["intercom-video-player-container-no-controls"]=!this.props.showControls,e))},o.playVideo=function(){this.setState({playState:"playing"})},o.video=function(){return this._video},o.videoHasAudio=function(){var e=this.video();return!!e&&(!1!==e.mozHasAudio&&0!==e.webkitAudioDecodedByteCount)},o.renderCaptions=function(){var e=this.state,t=e.playState,r=e.currentTime,n=e.duration,o=this.props.captions;return-1!==["playing","paused"].indexOf(t)&&o?l.default.createElement(s.default,{captions:o,currentTime:r,duration:n}):null},o.renderOverlay=function(){return"loading"===this.state.playState?null:l.default.createElement("div",{className:"intercom-video-overlay"},this.renderButton())},o.getButtonAriaLabel=function(){switch(this.state.playState){case"ready":return"Play";case"complete":return"Replay"}},o.renderButton=function(){var t=this,e=this.state.playState;return"playing"===e||"paused"===e?null:l.default.createElement("span",{className:"intercom-video-control-button",onClick:t.handleClickButton,"aria-label":this.getButtonAriaLabel(),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClickButton(e)},role:"button",tabIndex:"0"},this.renderButtonIcon())},o.renderButtonIcon=function(){return"complete"===this.state.playState?l.default.createElement(p.default,null):l.default.createElement(d.default,null)},o.renderLoadingPanel=function(){return l.default.createElement(a.TransitionGroup,null,"loading"===this.state.playState?l.default.createElement(a.CSSTransition,{classNames:"intercom-video-loading",timeout:{enter:200,exit:200}},l.default.createElement("div",{className:"intercom-video-loading"},l.default.createElement(c.default,null))):null)},o.renderControls=function(){if(!this.props.showControls)return null;var e=this.state,t=e.currentTime,r=e.duration,n=e.playState,o=e.isMuted,a=e.seeking,i=e.wasPlayingBeforeSeek;return l.default.createElement(u.default,{currentTime:t,duration:r,onSeek:this.handleSeek,onSeekStart:this.handleSeekStart,onSeekEnd:this.handleSeekEnd,onPlay:this.handlePlay,onPause:this.handlePause,playing:"playing"===n||a&&i,muted:o,onToggleMute:this.handleAudioChange,showAudioControl:this.videoHasAudio()})},o.getStyle=function(){var e=this.state.videoWidth<this.state.videoHeight;return(0,f.isMobileBrowser)()?{flexDirection:e?"row":"column",marginTop:0}:{flexDirection:e?"row":"column"}},o.getVideoStyle=function(){var e;return(e={})[this.state.videoWidth<this.state.videoHeight?"width":"height"]="100%",e},o.getSrc=function(){var e=this.state.loadAttempt,t=this.props.srcUrl;return 0===e?t:t+"?attempt="+e},o.render=function(){var t=this,e=this.props,r=e.autoPlay,n=e.loop;return l.default.createElement("div",{className:this.getContainerClassnames(),ref:function(e){return t.container=e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},l.default.createElement("div",{className:"intercom-video-player",style:this.getStyle()},l.default.createElement("video",{style:this.getVideoStyle(),onError:this.handleError,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleComplete,onLoadedData:this.handleLoad,onTimeUpdate:this.handleTimeUpdate,autoPlay:(0,f.isMobileBrowser)()||r,muted:this.state.isMuted,playsInline:!0,ref:function(e){return t._video=e},onTouchStart:this.handleTouchStart,onClick:t.handleClick,"aria-label":(0,m.translate)("play_video"),loop:n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},l.default.createElement("source",{src:this.getSrc(),key:this.state.loadAttempt,type:"video/mp4"}))),l.default.createElement("div",{className:"intercom-video-player-bottom-overlay"},this.renderCaptions(),this.renderControls()),this.renderOverlay(),this.renderLoadingPanel())},r}(l.PureComponent);v(t.default=y,"defaultProps",o)},1060:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(31);var i=function(e){var t=e.className,r=void 0===t?"video-play-icon":t,n=e.onClick;return o.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:r,"aria-label":(0,a.translate)("play"),onClick:n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&n(e)},role:"button",tabIndex:"0"},o.default.createElement("path",{d:"M7 17.6942V6.30578C7 5.72693 7.62791 5.36628 8.1279 5.65794L17.5192 11.1362C18.1807 11.5221 18.1807 12.4779 17.5192 12.8638L8.1279 18.3421C7.62791 18.6337 7 18.2731 7 17.6942Z"}))};t.default=i},1061:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1127))&&n.__esModule?n:{default:n},i=r(435),l=r(755),s=r(125),u=r(820);var f=r(122).currentViewSelector,c=r(53),d=["submit","url","sheet"],p=function(e,t){var r=t.cardUri,n=t.frameWindow,o=t.homeScreenIndex,a=e.messengerCards[r];if(void 0===a)return{cardUri:r,isContentFetching:!0,isContentFetched:!1,isContentError:!1,components:[]};var i=e.app.conversationId,l=!!e.borderless.conversationId,s=f(e)||"conversation",u=a.isContentFetched,c=a.isContentFetching,d=a.isContentError,p=a.card;return{cardUri:r,isContentFetched:u,isContentFetching:c,isContentError:d,components:u?p.canvas.content.components:[],currentView:s,messengerAppId:p&&p.messenger_app_id,partialCard:a.partialCard,conversationId:i,isBorderless:l,frameWindow:n,homeScreenIndex:o}};t.mapStateToProps=p;var m=function(o){return{onAction:function(e,t,r,n){if(r&&-1!==d.indexOf(r.type))switch(r.type){case"url":if(!r.url)return;(0,u.openUrlInNewWindow)(r.url);break;case"submit":if(!t)return;o((0,i.submitMessengerCardAction)(c,e,t,n));break;case"sheet":if(!r.url)return;o((0,l.fetchMessengerSheetData)(c,e,t,r.url,n))}},getCardContent:function(e){o((0,s.getCardContent)(c,e))}}};t.mapDispatchToProps=m;var h=function(o,a,e){return Object.assign({},e,o,a,{onAction:function(e,t,r){var n=o.cardUri;o.isFetching||a.onAction(n,e,t,r)},getCardContent:function(){a.getCardContent(o.partialCard)}})};t.mergeProps=h;var v=(0,o.connect)(p,m,h)(a.default);t.default=v},1062:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),c=o(r(15)),d=o(r(1128)),a=o(r(752)),p=r(682);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassNames=function(){var e=this.props,t=e.isBorderless,r=e.hasAvatar,n=e.part,o=n.author,a=o.isAdmin,i=o.isSelf,l=n.body,s=(0,p.isSingleRenderableBlock)(l);return(0,c.default)({"intercom-comment-container":!(s&&t),"intercom-comment-container-borderless-single":s&&t,"intercom-comment-container-admin":a,"intercom-comment-container-user":i,"intercom-comment-container-other-user":this.isOtherUser(),"intercom-comment-container-borderless":t,"intercom-comment-container-borderless-with-avatar":t&&r})},o.getAvatarClassName=function(){var e=this.props.isBorderless;return(0,c.default)({"intercom-comment-container-admin-avatar":!e,"intercom-comment-container-admin-borderless-avatar":e})},o.renderAdminAvatar=function(){return u.default.createElement("div",{className:this.getAvatarClassName()},u.default.createElement(a.default,{author:this.props.part.author}))},o.isOtherUser=function(){var e=this.props.part.author,t=e.isAdmin,r=e.isSelf;return!t&&!r},o.renderComment=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isMobile,o=e.isBorderless,a=e.frameWindow,i=e.showInlineMetadata,l=e.onImageClick,s=e.isLastPart;return u.default.createElement(d.default,{isLastPart:s,part:t,isMobile:n,isBorderless:o,frameWindow:a,hasAvatar:r,showInlineMetadata:i,onImageClick:l})},o.render=function(){return u.default.createElement("div",{className:this.getClassNames()},this.props.hasAvatar&&this.props.showAvatar?this.renderAdminAvatar():null,this.renderComment())},n}(u.Component);(t.default=i).defaultProps={showAvatar:!0,hasAvatar:!1,isBorderless:!1,isMobile:!1},i.propTypes={part:n.default.object.isRequired,showAvatar:n.default.bool,hasAvatar:n.default.bool,isBorderless:n.default.bool,isMobile:n.default.bool,frameWindow:n.default.object,showInlineMetadata:n.default.bool,onImageClick:n.default.func,isLastPart:n.default.bool}},1063:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),m=(n=r(691))&&n.__esModule?n:{default:n},h=r(1044),v=r(31);var o,a,i,l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,o=e.isReplyType,a=e.isNotificationChannel,i=e.isSubmittable,l=e.placeholder,s=e.disabled,u=e.errorMessage,c=e.hideErrorMessage,d=e.onSubmit,p=e.onChange;return f.default.createElement(m.default,{value:t,placeholder:l,saveState:r,disabled:s,isValid:h.isValidEmail,isBorderless:n,isReplyType:o,isSubmittable:i,isNotificationChannel:a,onSubmit:d,onChange:p,hideErrorMessage:c,ariaLabel:"Enter your email",type:"email",validationErrorMessage:u||(0,v.translate)("that_email_address_doesnt_look_quite_right")})},n}(f.Component);t.default=l,i={placeholder:"email@domain.com",isSubmittable:!0,hideErrorMessage:!(a="defaultProps")},a in(o=l)?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i},1064:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=n(r(1136)),a=r(1038),i=r(31),c=n(r(400));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d(l(l(t=o.call.apply(o,[this].concat(r))||this)),"state",{value:t.props.value||(0,a.countryPrefixByCode)(t.props.defaultCountryCode)+" ",isValid:!0}),d(l(l(t)),"handleChange",function(e){t.setState({value:e,isValid:!0})}),d(l(l(t)),"handleSubmit",function(){var e=t.state.value;(0,a.isValid)(e)?t.props.onSubmit(e):t.setState({isValid:!1})}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getPlaceholder=function(){return(0,a.countryPrefixByCode)(this.props.defaultCountryCode)+" 123 456 7890"},n.getErrorMessage=function(){if(this.state.isValid)return(0,i.translate)("something_is_wrong");var e=(0,a.getErrorCode)(this.state.value);return e?(0,i.translate)(e):(0,i.translate)("that_number_doesnt_look_quite_right")},n.isInvalid=function(){return"failed"===this.props.saveState||!this.state.isValid},n.render=function(){var e=this.props,t=e.saveState,r=e.defaultCountryCode,n=e.isBorderless,o=e.isReplyType,a=e.isNotificationChannel,i=this.getPlaceholder(),l=this.isInvalid();return s.default.createElement("div",null,s.default.createElement(u.default,{value:this.state.value,saveState:t,placeholder:i,defaultCountryCode:r,isInvalid:l,isBorderless:n,isReplyType:o,isNotificationChannel:a,onChange:this.handleChange,onSubmit:this.handleSubmit}),l&&s.default.createElement(c.default,{errorMessage:this.getErrorMessage()}))},r}(s.Component);t.default=o},1065:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{viewBox:"0 0 29 18"},o.default.createElement("g",{fillRule:"evenodd"},o.default.createElement("path",{d:"M9 1a8 8 0 1 0 0 16h11a8 8 0 1 0 0-16H9zm0-1h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0z",fillRule:"nonzero"}),o.default.createElement("path",{d:"M6.561 9.337c0-2.277 1.683-3.795 3.773-3.795 1.298 0 2.2.572 2.849 1.375l-.726.451c-.462-.594-1.243-1.012-2.123-1.012-1.606 0-2.827 1.232-2.827 2.981 0 1.738 1.221 2.992 2.827 2.992.88 0 1.606-.429 1.969-.792v-1.496H9.784v-.814h3.432v2.651a3.822 3.822 0 0 1-2.882 1.265c-2.09 0-3.773-1.529-3.773-3.806zM14.701 13V5.663h.913V13h-.913zm2.629 0V5.663h4.807v.814h-3.894v2.365h3.817v.814h-3.817V13h-.913z"})))};t.default=a},1066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0===e.className?"intercom-new-message-icon":"intercom-new-message-icon "+e.className;return o.default.createElement("svg",{className:t,width:"16px",height:"12px",viewBox:"0 0 16 12"},o.default.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o.default.createElement("g",{transform:"translate(-257.000000, -529.000000)"},o.default.createElement("g",{transform:"translate(100.000000, 187.000000)"},o.default.createElement("g",{transform:"translate(94.000000, 0.000000)"},o.default.createElement("g",{transform:"translate(16.000000, 169.000000)"},o.default.createElement("g",{transform:"translate(24.000000, 159.000000)"},o.default.createElement("g",{transform:"translate(23.000000, 14.000000)"},o.default.createElement("path",{d:"M10.8401488,6.224907 L15.6817765,11.0665347 C15.51005,11.3499528 15.2722574,11.5748794 14.9768457,11.7328673 C14.6509198,11.9071744 14.3276335,12 13.4361148,12 L2.5638852,12 C1.67236646,12 1.34908022,11.9071744 1.0231543,11.7328673 C0.72877254,11.5754302 0.491608869,11.3515205 0.320022148,11.069497 L5.16278101,6.22673813 L7.26933188,7.54333242 C7.55321179,7.72075737 7.66665987,7.76662232 7.80054357,7.79679663 C7.93442727,7.82697094 8.06557273,7.82697094 8.19945643,7.79679663 C8.33334013,7.76662232 8.44678821,7.72075737 8.73066812,7.54333242 L10.8401488,6.224907 Z M11.7104341,5.6809787 L15.6940002,3.19124987 C15.7876675,3.1327078 15.9110576,3.16118243 15.9695997,3.25484974 C15.9894661,3.28663606 16,3.32336558 16,3.36084953 L16,9.4361148 C16,9.63606843 15.9953306,9.80743801 15.9861196,9.95666428 L11.7104341,5.6809787 Z M4.29249574,5.68280984 L0.0141588143,9.96114676 C0.0047635636,9.81087199 2.47328067e-17,9.63807348 0,9.4361148 L1.24567172e-16,3.36084953 C1.11040097e-16,3.25039258 0.08954305,3.16084953 0.2,3.16084953 C0.237483943,3.16084953 0.274213468,3.17138342 0.305999788,3.19124987 L4.29249574,5.68280984 Z M1,-2.48689958e-14 L15,-2.48689958e-14 C15.5522847,-2.49704488e-14 16,0.44771525 16,1 L16,1.8763932 C16,1.95214761 15.9571995,2.02140024 15.8894427,2.05527864 L8.4472136,5.7763932 C8.1656861,5.91715695 7.8343139,5.91715695 7.5527864,5.7763932 L0.110557281,2.05527864 C0.0428004752,2.02140024 3.97855298e-16,1.95214761 3.88578059e-16,1.8763932 L0,1 C-6.76353751e-17,0.44771525 0.44771525,-2.47675427e-14 1,-2.48689958e-14 Z"})))))))))};var n,o=(n=r(2))&&n.__esModule?n:{default:n}},1068:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=o(r(70)),p=o(r(1033)),f=o(r(1030)),m=o(r(817)),h=o(r(1025)),i=o(r(1034)),l=o(r(15)),s=r(69),v=r(31),n=o(r(7)),u=o(r(1029)),c=o(r(1031)),y=o(r(1045));function o(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return C(g(g(n=o.call.apply(o,[this].concat(t))||this)),"state",{isFooterVisible:!0,isScrolled:!1,topHeight:0,bodyHeight:0,containerHeight:0,footerHeight:0}),C(g(g(n)),"disableScrollCallbacks",!1),C(g(g(n)),"handleScrollable",function(e){if(!n.disableScrollCallbacks){var t=e.scrollHeight-e.clientHeight,r=void 0===n.props.reactionsReply||t<=n.getReactionsVisibilityThreshold();n.setState({isFooterVisible:r})}}),C(g(g(n)),"handleScroll",function(e){if(!n.disableScrollCallbacks){var t=n.state.isFooterVisible,r=(0,s.getScrollBottom)(e.target);n.setState({isFooterVisible:t||r<=n.getFooterHeight(),isScrolled:0<e.target.scrollTop})}}),C(g(g(n)),"clientHeight",void 0),C(g(g(n)),"setTopHeight",function(e){e&&n.setState({topHeight:e.getTopHeight()})}),C(g(g(n)),"setBodyHeight",function(e){if(e){var t=a.default.findDOMNode(e);n.setState({bodyHeight:t.clientHeight})}}),C(g(g(n)),"setFooterHeight",function(e){e&&n.setState({footerHeight:e.clientHeight})}),C(g(g(n)),"setContainerHeight",function(e){e&&n.setState({containerHeight:e.clientHeight})}),C(g(g(n)),"addClickedComposerMetric",function(){var e=n.props,t=e.message.id,r=e.conversationId;n.context.addMetric("clicked","composer","in_app","from_full",{message_type:"post",message_id:t,conversation_id:r})}),C(g(g(n)),"handleComposerClick",function(){n.addClickedComposerMetric(),n.props.onComposerClick(),n.context.messengerOptions&&n.context.messengerOptions.focusComposer()}),C(g(g(n)),"handleOnCloseAndFocusMessenger",function(){n.props.onClose&&n.props.onClose(),n.props.returnFocus&&n.props.returnFocus()}),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){this.disableScrollCallbacks=!0},n.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},n.getFooterHeight=function(){return this.state.footerHeight||0},n.getClassNames=function(){return(0,l.default)({"intercom-post":!0,"intercom-post-scrolled":this.state.isScrolled})},n.getFooterClassNames=function(){var e=this.props,t=e.showReplyToButton,r=e.isUpfrontEmailComposerShowing;return(0,l.default)({"intercom-post-footer":!0,"intercom-post-footer-visible":this.state.isFooterVisible,"intercom-post-footer-text-center":t||r})},n.getBodyWidth=function(){return Math.min(800,window.parent.innerWidth)},n.getPaddedBodyWidth=function(){return this.getBodyWidth()-80},n.renderFooter=function(){var t=this,e=this.props,r=e.showReplyToButton,n=e.isUpfrontEmailComposerShowing;return r||n?d.default.createElement(y.default,{onClick:this.handleComposerClick}):d.default.createElement("div",{className:"intercom-post-composer",onClick:t.handleComposerClick,"aria-label":(0,v.translate)("open_conversation_and_reply"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleComposerClick(e)},role:"button",tabIndex:"0"},d.default.createElement("span",{className:"intercom-composer-placeholder"},(0,v.translate)("reply_to_conversation")),d.default.createElement("div",{className:"intercom-composer-buttons"},d.default.createElement("span",{className:"intercom-composer-emoji-button"},d.default.createElement(c.default,null)),d.default.createElement("span",{className:"intercom-composer-upload-button"},d.default.createElement(u.default,null))))},n.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,r=e.onReactionSelect;return d.default.createElement(i.default,b({},t,{onReactionSelect:r}))},n.render=function(){var t=this,e=this.props,r=e.appName,n=e.message,o=e.reactionsReply,a=e.onClose,i=e.frameWindow,l=e.returnFocus,s=n.author,u=n.lastActiveAt,c=n.body;return d.default.createElement(p.default,{onClose:a,showCloseOverlay:!1,frameWindow:i,returnFocus:l},d.default.createElement("div",{className:"intercom-post-container",ref:this.setContainerHeight},d.default.createElement("div",{className:this.getClassNames()},d.default.createElement(m.default,{ref:this.setTopHeight,appName:r,isReplyStyle:!1,author:s,lastActiveAt:u},d.default.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t.handleOnCloseAndFocusMessenger,"aria-label":(0,v.translate)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOnCloseAndFocusMessenger(e)},role:"button",tabIndex:"0"}," "),d.default.createElement("div",{className:"intercom-post-body"},d.default.createElement(f.default,{ref:this.setBodyHeight,onScroll:this.handleScroll,onScrollable:this.handleScrollable},d.default.createElement(h.default,{blocks:c,maxImageWidth:this.getPaddedBodyWidth(),frameWindow:i}))),d.default.createElement("div",{ref:this.setFooterHeight,className:this.getFooterClassNames()},o?this.renderReactionPicker():this.renderFooter())))))},r}(d.Component);C(t.default=_,"contextTypes",{addMetric:n.default.func.isRequired,messengerOptions:n.default.object})},1070:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapDispatchToProps=void 0;var n=r(38),o=l(r(1150)),a=r(1072),i=l(r(53));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(n){return{onSelect:function(e,t,r){n((0,a.quickReply)(i.default,e.id,t,r))}}};t.mapDispatchToProps=s;var u=(0,n.connect)(void 0,s)(o.default);t.default=u},1071:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=function(o){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(i(i(e=o.call.apply(o,[this].concat(r))||this)),"node",void 0),l(i(i(e)),"handleOnClick",function(){e.props.onClick&&e.props.onClick(e.props.value)}),e}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.focused&&this.node&&this.node.focus()},n.render=function(){var t=this;return a.default.createElement("button",{onClick:this.handleOnClick,value:this.props.value,className:this.props.className,ref:function(e){return t.node=e},tabIndex:"0"},this.props.label)},r}(a.Component);l(t.default=n,"defaultProps",{value:"",label:"",className:""})},1072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quickReply=function(c,d,p,f,m,h,v,y,b){void 0===m&&(m=null);void 0===h&&(h=!1);void 0===v&&(v=!1);return function(t,e){var r,n=e(),o=n.session,a=n.borderless;r="message"===p.partType?null:p.id;var i=function(e){if(e&&e.clientId)return e.clientId;return(0,O.generateUUID)()}(m),l=new Date,s=(0,_.createBlocksForText)(f.text),u={conversationId:d,clientId:i,createdAt:l,body:s,selectedReplyOption:{replyOption:f,quickReplyPart:p}};return t((0,g.createCommentRequest)(d,u,h)),a&&a.conversationId||t((0,C.openConversation)(d)),c.quickReply(o,d,r,f,i).then(function(e){t((0,g.createCommentSuccess)(d,e,v,y,b,!1,l))}).catch(function(e){t((0,g.createCommentFailure)(d,u,e))})}};var g=r(167),C=r(168),_=r(682),O=r(402)},1074:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),C=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),_=r(127),a=o(r(15)),O=o(r(1156)),P=o(r(1183)),i=o(r(1184)),l=o(r(1075)),w=o(r(87)),E=r(1076);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(s(s(t=o.call.apply(o,[this].concat(r))||this)),"state",{delta:0}),u(s(s(t)),"handleHeightChange",function(){t.parts&&t.setState({height:t.parts.clientHeight},function(){var e=t.props.onHeightChange;e&&e(t.state.height)})}),u(s(s(t)),"setParts",function(e){t.parts=e}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange()},n.componentDidUpdate=function(e){this.handlePartsChange(this.props.conversation.parts.length!==e.conversation.parts.length)},n.componentWillUnmount=function(){this.stopCheckingIfAdminIsTyping()},n.handlePartsChange=function(e){var t=this,r=this.parts.clientHeight,n=this.props,o=n.maxHeight,a=n.isBorderless,i=n.onHeightChange,l=Math.min(r-o,r-this.state.height),s=e&&o<r?l:0;r===this.state.height&&s===this.state.delta||this.setState({height:r,delta:s},function(){(a||e)&&i&&i(t.state.height)})},n.isScrolling=function(){var e=this.props,t=e.scrolledToBottom,r=e.conversation;return!((0,E.shouldShowAdminIsTyping)(r)&&!t)&&0<this.state.delta},n.getClassName=function(){return(0,a.default)({"intercom-conversation-parts":!0,"intercom-conversation-parts-scrolled":this.conversationHasScrolled(),"intercom-conversation-parts-scrolling":this.isScrolling(),"intercom-conversation-parts-faded":this.props.isFaded})},n.getStyle=function(){var e="translateY("+this.state.delta+"px)";return{WebkitTransform:e,msTransform:e,transform:e,paddingBottom:this.props.quickRepliesHeight}},n.getPartKey=function(e){return e.isMessage?"message":"part-"+(0,E.getPartId)(e)},n.getDividerKey=function(e){return"divider-"+(0,E.getPartId)(e)},n.conversationHasScrolled=function(){return this.state.height>=this.props.maxHeight},n.renderDateDivider=function(e){return C.default.createElement(_.CSSTransition,{classNames:"dummy",key:this.getDividerKey(e),timeout:{enter:0,exit:0}},C.default.createElement("div",{key:this.getDividerKey(e),className:"intercom-conversation-parts-date-divider"},(0,E.dateDividerText)(e.sentAt||e.createdAt)))},n.renderPart=function(e,t,r,n){var o=this.props,a=o.appName,i=o.conversation,l=o.isBorderless,s=o.isMobile,u=o.onReactionSelect,c=o.onRetry,d=o.onArticleCardClick,p=o.onImageClick,f=o.frameWindow,m=o.setPartRef,h=i.lastTypingAdmin,v=(0,E.isPartGrouped)(e,t),y=(0,E.shouldShowAdminIsTyping)(i),b=(0,E.partHasAvatar)(e,t,l,y,h),g=(0,w.default)(n).reactionsReply;return C.default.createElement(_.CSSTransition,{classNames:"intercom-conversation-part",key:r,timeout:{enter:3200,exit:600}},C.default.createElement(P.default,{key:this.getPartKey(e),onHeightChange:this.handleHeightChange},C.default.createElement(O.default,{part:e,setPartRef:m,nextPart:t,appName:a,conversationId:i.id,reactionsReply:g,onReactionSelect:u,onRetry:c,adminIsTyping:y,hasAvatar:b,grouped:v,isLastPart:void 0===t,partHasMetadata:(0,E.partHasMetadata)(e,n,y),isBorderless:l,isMobile:s,frameWindow:f,onArticleCardClick:d,onImageClick:p})))},n.renderParts=function(){var o=this,e=this.props,t=e.conversation,a=e.isBorderless,i=t.parts.filter(function(e){return void 0!==e&&!(0,E.isBodyEmpty)(e)}),l=[];return 0<i.length&&!a&&(0,E.showFirstDateDivider)(i)&&l.push(this.renderDateDivider(i[0])),i.forEach(function(e,t){var r=i[t-1],n=i[t+1];!a&&(0,E.showDateDivider)(r,e)&&l.push(o.renderDateDivider(e)),l.push(o.renderPart(e,n,t,i))}),l},n.checkIfAdminIsStillTyping=function(){var e=this;this.isTypingInterval||(this.isTypingInterval=setInterval(function(){return e.forceUpdate()},1e3))},n.stopCheckingIfAdminIsTyping=function(){clearInterval(this.isTypingInterval),this.isTypingInterval=void 0},n.renderTypingAdmin=function(){var e=this.props.conversation.lastTypingAdmin;return C.default.createElement(_.CSSTransition,{classNames:"intercom-conversation-part",key:"typing-admin",timeout:{enter:3200,exit:600},exit:this.enableTypingLeaveAnimation()},C.default.createElement(i.default,{admin:e}))},n.shouldRenderTypingAdmin=function(){return(0,E.shouldShowAdminIsTyping)(this.props.conversation)?(this.checkIfAdminIsStillTyping(),!0):(this.stopCheckingIfAdminIsTyping(),!1)},n.enableTypingLeaveAnimation=function(){var e=this.props.conversation,t=e.parts,r=e.lastTypingAdmin;return!r||!(0,E.adminLastActivePartWithinEpsilon)(r,t)},n.renderIntercomLink=function(){return C.default.createElement(_.CSSTransition,{classNames:"intercom-link",timeout:{enter:400,exit:100}},C.default.createElement(l.default,{intercomLinkSolution:this.props.conversation.intercomLinkSolution}))},n.render=function(){var e=this.shouldRenderTypingAdmin(),t=this.props.isIntercomLinkEnabled;return C.default.createElement("div",{className:"intercom-conversation-parts-wrapper",role:"list"},C.default.createElement("div",{ref:this.setParts,className:this.getClassName(),style:this.getStyle()},C.default.createElement(_.TransitionGroup,null,this.renderParts()),C.default.createElement(_.TransitionGroup,null,e?this.renderTypingAdmin():null)),C.default.createElement(_.TransitionGroup,null,t?this.renderIntercomLink():null))},r}(C.Component);(t.default=c).defaultProps={isBorderless:!1,isMobile:!1},c.propTypes={conversation:n.default.shape({id:n.default.string,lastTypingAdmin:n.default.object,intercomLinkSolution:n.default.string,parts:n.default.arrayOf(n.default.shape({createdAt:n.default.instanceOf(Date)}))}).isRequired,appName:n.default.string.isRequired,isBorderless:n.default.bool,isFaded:n.default.bool,isMobile:n.default.bool,isIntercomLinkEnabled:n.default.bool,maxHeight:n.default.number,quickRepliesHeight:n.default.number,scrolledToBottom:n.default.bool,frameWindow:n.default.any.isRequired,onReactionSelect:n.default.func.isRequired,onRetry:n.default.func.isRequired,onArticleCardClick:n.default.func,onHeightChange:n.default.func,onImageClick:n.default.func,setPartRef:n.default.func}},1075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=i,t.default=void 0;var n,o=r(38),a=(n=r(834))&&n.__esModule?n:{default:n};function i(e,t){var r,n,o=t.intercomLinkSolution,a=t.composerHeight,i=t.currentView;e.session&&(r=e.session.appId),e.user&&(n=e.user.id);var l=e.app;return{appId:r,appName:l.name,userId:n,composerHeight:a,intercomLinkSolution:o,currentView:i,isDeveloperWorkspace:l.isDeveloperWorkspace}}var l=(0,o.connect)(i)(a.default);t.default=l},1076:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBodyEmpty=t.getPartId=t.partHasMetadata=t.partHasAvatar=t.isPartAuthoredBySelf=t.isPartGrouped=t.isNotEvent=t.isSameAuthor=t.isGroupedByTime=t.shouldShowAdminIsTyping=t.isAdminTyping=t.adminLastActivePartWithinEpsilon=t.dateDividerText=t.showDateDivider=t.showFirstDateDivider=void 0;var n=r(818),o=l(r(436)),a=r(31),i=l(r(87));function l(e){return e&&e.__esModule?e:{default:e}}var s=["january","february","march","april","may","june","july","august","september","october","november","december"];t.showFirstDateDivider=function(t){return"link"===t[0].messageType?!t.slice(1).every(function(e){return(0,n.isSameDate)(e.createdAt,t[0].sentAt)}):!1!==t[0].showCreatedAt&&!t.every(function(e){return(0,n.isSameDate)(e.createdAt,t[0].createdAt)})};t.showDateDivider=function(e,t){return e&&!(0,n.isSameDate)(t.createdAt,e.sentAt||e.createdAt)};t.dateDividerText=function(e){return(0,a.translate)(s[e.getMonth()]+"_date",{date:e.getDate()})};var u=function(t,e){return e.find(function(e){return e.author.isAdmin&&e.author.id===t.id&&e.createdAt>=t.lastActiveAt-5e3})};t.adminLastActivePartWithinEpsilon=u;var c=function(e,t){var r;return!u(e,t)&&(r=e.lastActiveAt,new Date-r<1e4)};t.isAdminTyping=c;t.shouldShowAdminIsTyping=function(e){var t=e.parts,r=e.lastTypingAdmin;return!!r&&c(r,t)};var d=function(e,t){return t-e<=18e4};t.isGroupedByTime=d;var p=function(e,t){return e.id===t.id&&e.isAdmin===t.isAdmin||!0===e.isSelf&&!0===t.isSelf||!0===e.isBot&&!0===t.isBot};t.isSameAuthor=p;var f=function(e,t){return!(0,o.default)(e)&&!(0,o.default)(t)};t.isNotEvent=f;var m=function(e,t){return!!t&&(0,n.isSameDate)(e.createdAt,t.createdAt)&&p(e.author,t.author)&&f(e.partType,t.partType)&&d(e.createdAt,t.createdAt)};t.isPartGrouped=m;var h=function(e){return e.author.isSelf};t.isPartAuthoredBySelf=h;t.partHasAvatar=function(e,t,r,n,o){return!(h(e)||"video"===e.messageType||(r?t?p(e.author,t.author):n&&e.author.id===o.id:m(e,t)))};t.partHasMetadata=function(e,t,r){var n=e.author.isAdmin,o=0<t.length&&(0,i.default)(t).id===e.id,a="comment"===e.partType||"message"===e.partType||"attribute_collector"===e.partType;return o&&!(n&&r)&&a};t.getPartId=function(e){return e.clientId||e.id};t.isBodyEmpty=function(e){return"quick_reply"===e.partType&&(!e.body||0===e.body.length)}},1077:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1186))&&n.__esModule?n:{default:n},c=r(31);var d=r(53),i=r(402).generateUUID,l=r(167),s=l.composerContentChanged,p=l.createPart,u=l.userIsTyping,f=r(168).toggleUpfrontEmailCollectorState,m=r(1197),h=function(e,t){var r=t.conversation,n=r.id,o=e.borderless&&e.borderless.conversationId,a=r.lastParticipatingAdmin,i=r.defaultMessage||m.loadDraft(n),l=r.replyPlaceholder,s=void 0===n?(0,c.translate)("send_a_message"):(0,c.translate)("reply_to_conversation"),u=l||s;return{conversationId:n,borderlessConversationId:o,lastParticipatingAdmin:a,officeHoursResponse:e.app&&e.app.officeHoursResponse,defaultText:i,placeholder:u,showUploadButton:e.app.userConversationAttachmentsEnabled,showGifButton:e.app.userConversationGifsEnabled}};t.mapStateToProps=h;var v=function(c){return{onTyping:function(e){e&&c(u(e))},onChange:function(e,t){m.saveDraft(e,t),c(s(e,t,new Date))},onSubmit:function(e,t,r,n,o,a,i,l,s,u){c(p(d,e,{clientId:t,createdAt:o,body:r,file:n},!1,a,i,l,s,u)),m.removeDraft(e)},toggleUpfrontEmailCollectorState:function(){c(f())}}};t.mapDispatchToProps=v;var y=function(o,a,e){return Object.assign({},o,a,e,{onTyping:function(e){a.onTyping(o.conversationId,e)},onChange:function(e){a.onChange(o.conversationId,e)},onSubmit:function(e,t,r,n){a.onSubmit(o.conversationId,i(),e,t,new Date,o.conversationId===o.borderlessConversationId,o.lastParticipatingAdmin,o.officeHoursResponse,r,n)}})};t.mergeProps=y;var b=(0,o.connect)(h,v,y)(a.default);t.default=b},1078:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=r(127),l=r(69);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(s(s(r=o.call.apply(o,[this].concat(t))||this)),"addedEscListener",!1),u(s(s(r)),"handleEsc",function(e){var t=r.props.onEscapeKey;(0,l.isEscapeKey)(e)&&t()}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.frameWindow,r=e.onEscapeKey,n=e.children;if(t&&r)if(n){if(this.addedEscListener)return;(0,l.addEventListener)(t,"keydown",this.handleEsc),this.addedEscListener=!0}else(0,l.removeEventListener)(t,"keydown",this.handleEsc),this.addedEscListener=!1},n.render=function(){return a.default.createElement(i.TransitionGroup,null,this.props.children?a.default.createElement(i.CSSTransition,{classNames:"intercom-composer-popover",timeout:{enter:200,exit:200}},a.default.createElement("div",{className:"intercom-composer-popover "+this.props.className},this.props.children,a.default.createElement("div",{className:"intercom-composer-popover-caret"}))):null)},r}(a.Component);t.default=n},1079:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(r(412)),n=i(r(7)),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=i(r(685)),o=i(r(1187)),c=i(r(1188)),a=r(69),d=r(759),p=r(31),f=i(r(1047)),m=r(757),h=i(r(1080));function i(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r(24),g="intercom.recentEmoji",C="1.0",_=[{baseEmoji:"👍",skintoneEmoji:"👍"},{baseEmoji:"👎",skintoneEmoji:"👎"},{baseEmoji:"😭",skintoneEmoji:"😭"},{baseEmoji:"😕",skintoneEmoji:"😕"},{baseEmoji:"😐",skintoneEmoji:"😐"},{baseEmoji:"😊",skintoneEmoji:"😊"},{baseEmoji:"😍",skintoneEmoji:"😍"}],O=8;function P(){var e=JSON.parse(m.localStorage.get(g))||{};return e.version&&e.version===C?e.emoji||[]:(m.localStorage.remove(g),(0,l.default)(_))}function w(t){var e=JSON.parse(m.localStorage.get(g));if(!e||!e.emoji)return t;var r=t;return e.emoji.forEach(function(e){e.baseEmoji!==t||(r=e.skintoneEmoji)}),r}var E=function(i){var e,t;function r(){for(var n,e,t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return y(v(v(n=i.call.apply(i,[this].concat(o))||this)),"state",{searchValue:"",hasNativeEmojiSupport:(0,d.hasNativeEmojiSupport)(),hasLocalStorageSupport:b.hasLocalStorageSupport(),skintoneEmojiToShow:null,emojiXOffset:0,emojiYOffset:0}),y(v(v(n)),"emojiMap",(e=u.default.allEmoticonsIdentifierList,t=u.default.unicodeFromIdentifier,e.map(function(e){return{title:e,emoji:t(e)}}))),y(v(v(n)),"handleEmojiMouseDown",function(e){var t=e.target.offsetLeft,r=e.target.offsetTop-(0,f.default)(window,e.target).scrollTop;n.setState({emojiXOffset:t,emojiYOffset:r}),n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),n.emojiLongPressTimeout=setTimeout(function(e){n.setState({skintoneEmojiToShow:e})},500,u.default.unicodeFromIdentifier(e.target.title))}),y(v(v(n)),"handleEmojiMouseUp",function(e){if(n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),!n.state.skintoneEmojiToShow){var t=u.default.unicodeFromIdentifier(e.target.title);n.handleEmojiClick(t)}n.setState({skintoneEmojiToShow:null}),e.preventDefault()}),y(v(v(n)),"handleImageClick",function(e){var t=e.target.title;n.props.onEmojiClick(t)}),y(v(v(n)),"handleSearchChange",function(e){var t=e.target.value;n.setState({searchValue:t})}),y(v(v(n)),"handleClick",function(e){e.stopPropagation()}),y(v(v(n)),"handleEmojiClick",function(e,t){if(void 0!==e){var r=e;n.state.hasLocalStorageSupport&&(r=t||w(e),t&&function(t,r){var e=JSON.parse(m.localStorage.get(g));if(e&&e.emoji){var n=!1,o=e.emoji;o.forEach(function(e){if(e.baseEmoji===t)return e.skintoneEmoji=r,void(n=!0)}),n||(o=(0,l.default)(o).concat({baseEmoji:t,skintoneEmoji:r})),m.localStorage.set(g,JSON.stringify({version:C,emoji:o}))}}(e,t),function(t,e){void 0===e&&(e=t);var r=_.find(function(e){return e.baseEmoji===t}),n=P(),o=n.find(function(e){return e.baseEmoji===t}),a=n.indexOf(o);o&&n.splice(a,1),n.unshift({baseEmoji:t,skintoneEmoji:e}),n.length<O&&!r&&(n=n.concat(_)),m.localStorage.set(g,JSON.stringify({version:C,emoji:n}))}(e,r)),n.props.onEmojiClick(r)}}),y(v(v(n)),"handleSkinTonePickerClose",function(){n.setState({skintoneEmojiToShow:null})}),n}t=i,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.hasSearchText=function(){return""!==this.state.searchValue},n.filteredSearchEmoji=function(t){return this.emojiMap.filter(function(e){return-1<e.title.indexOf(t)}).map(function(e){return e.emoji})},n.renderEmoji=function(e,t,r){if(void 0===r&&(r=e),!u.default.isSupportedUnicode(e))return null;var n=u.default.identifierFromUnicode(r),o=this.state.skintoneEmojiToShow===r,a=this.state.hasLocalStorageSupport?w(e):e;return s.default.createElement(c.default,{key:t,emoji:a,title:n,onEmojiMouseUp:this.handleEmojiMouseUp,onEmojiMouseDown:this.handleEmojiMouseDown,isActive:o})},n.renderImage=function(e,t){var r=this;return s.default.createElement("span",{key:t,className:"intercom-emoji-picker-image",title:u.default.asciiFromUnicode(e),style:u.default.spritemapStyleHash(16,e),onClick:r.handleImageClick,"aria-label":(0,d.getHumanizedEmojiName)(e),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleImageClick(e)},role:"button",tabIndex:"0"})},n.renderGroup=function(e,t){var r=this;return s.default.createElement("div",{className:"intercom-emoji-picker-group",key:t},s.default.createElement("h3",{className:"intercom-emoji-picker-group-title"},(0,p.translate)(u.default.getGroupRepresentatives()[t][1].toLowerCase())),e.map(function(e,t){if(u.default.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderMostRecent=function(){var r=this,e=P().slice(0,O);return s.default.createElement("div",{className:"intercom-emoji-picker-group"},s.default.createElement("h3",{className:"intercom-emoji-picker-group-title"},(0,p.translate)("frequently_used")),e.map(function(e,t){return r.renderEmoji(e.skintoneEmoji,t,e.baseEmoji)}))},n.renderFiltered=function(){var r=this,e=this.filteredSearchEmoji(this.state.searchValue);return s.default.createElement("div",{className:"intercom-emoji-picker-group"},0===e.length?s.default.createElement("div",{className:"intercom-composer-popover-message"},(0,p.translate)("no_emoji_found")):e.map(function(e,t){if(u.default.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderGroups=function(){var r=this,e=u.default.prettyEmoticonsUnicodeGroups();return s.default.createElement("div",{className:"intercom-emoji-picker-groups"},this.state.hasLocalStorageSupport?this.renderMostRecent():null,e.map(function(e,t){return r.renderGroup(e,t)}))},n.renderEmojiPicker=function(){return s.default.createElement("div",null,s.default.createElement("div",{className:"intercom-composer-popover-header"},s.default.createElement("input",{name:"emoji",className:"intercom-composer-popover-input",autoFocus:!0,placeholder:(0,p.translate)("search_for_emoji"),value:this.state.searchValue,onChange:this.handleSearchChange,"aria-label":(0,p.translate)("search_for_emoji")})),s.default.createElement(h.default,{query:this.state.searchValue,count:this.filteredSearchEmoji(this.state.searchValue).filter(u.default.isEmojiBaseUnicode).length}),s.default.createElement("div",{className:"intercom-composer-popover-body-container","aria-live":"polite"},s.default.createElement("div",{className:"intercom-composer-popover-body",onWheel:a.allowScrollEvent},this.hasSearchText()?this.renderFiltered():this.renderGroups())))},n.renderSkinTonePicker=function(){return s.default.createElement(o.default,{emoji:this.state.skintoneEmojiToShow,emojiYOffset:this.state.emojiYOffset,emojiXOffset:this.state.emojiXOffset,onClose:this.handleSkinTonePickerClose,onEmojiClick:this.handleEmojiClick})},n.renderWithoutNativeSupport=function(){var r=this,e=u.default.asciiEmoticonsUnicodeList.slice(0,12);return s.default.createElement("div",{className:"intercom-emoji-picker-small",onClick:this.handleClick,tabIndex:"-1"},e.map(function(e,t){return r.renderImage(e,t)}))},n.renderWithNativeSupport=function(){return s.default.createElement("div",{className:"intercom-emoji-picker",onClick:this.handleClick,tabIndex:"-1"},this.state.skintoneEmojiToShow?this.renderSkinTonePicker():null,this.renderEmojiPicker())},n.render=function(){return this.state.hasNativeEmojiSupport?this.renderWithNativeSupport():this.renderWithoutNativeSupport()},r}(s.Component);(t.default=E).propTypes={onEmojiClick:n.default.func.isRequired}},1080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=r(31);var n=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.count,r=e.query;return o.default.createElement("span",{"aria-live":"assertive"},r?o.default.createElement("div",{className:"intercom-visually-hidden",role:"alert"},t?o.default.createElement("span",null,t," ",(0,a.translate)("article_search_search_results_for_query",{query:r})):(0,a.translate)("article_search_no_results_for_query",{query:r})):null)},n}(o.Component);t.default=n},1081:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{viewBox:"0 0 16 16"},o.default.createElement("path",{d:"M1.388 15.77c-.977.518-1.572.061-1.329-1.019l1.033-4.585c.123-.543.659-1.034 1.216-1.1l6.195-.72c1.648-.19 1.654-.498 0-.687l-6.195-.708c-.55-.063-1.09-.54-1.212-1.085L.056 1.234C-.187.161.408-.289 1.387.231l12.85 6.829c.978.519.98 1.36 0 1.88l-12.85 6.83z",fillRule:"evenodd"}))};t.default=a},1082:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zM5 6.999a1 1 0 1 0 2.001 0A1 1 0 0 0 5 7zm5.999 0a1.001 1.001 0 0 0 2.001 0 1 1 0 0 0-2.001 0zm-2.3 6.494c.087.005.174.007.26.007 1.513 0 2.99-.722 4.398-2.149l.35-.356.482-.702-10.326.006.435.62.31.392c.068.083 1.652 2.05 4.092 2.182z",fill:"#ADADAD",fillRule:"evenodd"}))};t.default=a},1083:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=(n=r(1200))&&n.__esModule?n:{default:n};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e.map(function(e,t){return t})};t.default=function(a){return function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(u(u(r=o.call.apply(o,[this].concat(t))||this)),"state",{partIndices:d(r.props.conversation.parts)}),c(u(u(r)),"handleNewPart",function(e){var t=r.state.partIndices;-1===t.indexOf(e)&&r.setState({partIndices:t.concat(e)})}),c(u(u(r)),"handleNewDelayedPart",(0,l.default)(r.handleNewPart,1e3)),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=this,r=this.props.conversation,n=r.parts,o=r.fetchState,a=e.conversation,i=a.parts,l=a.fetchState,s=d(i),u=s.slice(n.length);"summary"!==o||"all"!==l?u.forEach(function(e){return i[e].author.isSelf?t.handleNewPart(e):t.handleNewDelayedPart(e)}):this.setState({partIndices:s})},n.componentWillUnmount=function(){this.handleNewDelayedPart.cancel()},n.render=function(){var e,t,r=this.props.conversation.parts,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){c(t,e,r[e])})}return t}({},this.props.conversation,{parts:(e=this.state.partIndices,t=r,e.map(function(e){return t[e]}).filter(Boolean))});return i.default.createElement(a,s({},this.props,{conversation:n}))},r}(i.PureComponent)}},1103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=n(r(752)),l=n(r(761)),s=n(r(1025)),u=n(r(1036)),c=n(r(1030)),d=n(r(825)),p=n(r(15)),f=r(682);function n(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return h(m(m(t=o.call.apply(o,[this].concat(r))||this)),"state",{isScrollable:!1,isScrolled:!1}),h(m(m(t)),"handleScrollable",function(){t.setState({isScrollable:!0})}),h(m(m(t)),"handleScroll",function(e){t.setState({isScrolled:0<e.target.scrollTop})}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.props,t=e.isBorderless,r=e.part.body,n=e.showAvatar,o=e.hasAvatar,a=(0,f.isSingleRenderableBlock)(r);return(0,p.default)({"intercom-chat-card":!(a&&t),"intercom-chat-card-borderless":t,"intercom-chat-card-borderless-single":a&&t,"intercom-chat-card-with-avatar":o&&n,"intercom-chat-card-scrolled":this.state.isScrolled})},n.getBodyClassNames=function(){var e=this.props.isBorderless,t=this.state.isScrollable;return(0,p.default)({"intercom-chat-card-body":!0,"intercom-chat-card-body-scrollable-borderless":t&&e,"intercom-chat-card-body-scrollable":t})},n.getAvatarClassName=function(){return(0,p.default)({"intercom-chat-card-avatar":!0,"intercom-chat-card-avatar-team":"team"===this.props.part.author.type})},n.renderAdminAvatar=function(){return i.default.createElement("div",{className:this.getAvatarClassName()},i.default.createElement(a.default,{author:this.props.part.author}))},n.renderInlineMetadata=function(){return i.default.createElement(u.default,{part:this.props.part})},n.renderStickerOrBlocks=function(){var e=this.props,t=e.part,r=t.author,n=t.body,o=e.frameWindow;return 1===n.length&&(0,f.isStickerBlock)(n[0])?i.default.createElement(d.default,{text:(0,f.getStickerText)(n[0])}):i.default.createElement(s.default,{blocks:n,zoomable:!0,author:r,frameWindow:o})},n.renderSingleBody=function(){return i.default.createElement("div",{className:"intercom-chat-card-body"},this.renderStickerOrBlocks())},n.renderAuthor=function(){var e=this.props,t=e.appName,r=e.part,n=r.messageType,o=r.author,a="adminReply"===n;return i.default.createElement("div",{className:"intercom-chat-card-author"},i.default.createElement(l.default,{author:o,appName:t,isReplyStyle:a}))},n.renderFullBody=function(){return i.default.createElement("div",null,this.props.showAuthor?this.renderAuthor():null,i.default.createElement("div",{className:this.getBodyClassNames()},i.default.createElement(c.default,{onScrollable:this.handleScrollable,onScroll:this.handleScroll},this.renderStickerOrBlocks())))},n.render=function(){var e=this.props,t=e.hasAvatar,r=e.showAvatar,n=e.isBorderless,o=e.showInlineMetadata,a=e.part.body;return i.default.createElement("div",{className:this.getClassNames()},t&&r?this.renderAdminAvatar():null,(0,f.isSingleRenderableBlock)(a)&&n?this.renderSingleBody():this.renderFullBody(),o?this.renderInlineMetadata():null)},r}(i.Component);h(t.default=o,"defaultProps",{isBorderless:!1,showAuthor:!0,showAvatar:!0,hasAvatar:!0})},1104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),f=o(r(1105));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.renderLinkedImage=function(){var e=this.props.block,t=e.linkUrl,r=e.trackingLinkUrl;return p.default.createElement("a",{href:t,"data-via":r},this.renderImage())},o.renderImage=function(){var e=this.props,t=e.zoomable,r=e.block,n=e.maxWidth,o=e.onImageClick,a=e.frameWindow,i=r.url,l=r.width,s=r.height,u=r.progress,c=r.linkUrl,d=r.title;return p.default.createElement(f.default,{src:i,maxWidth:n,width:l,height:s,title:d,zoomable:t&&!c,progress:u,onImageClick:o,frameWindow:a})},o.render=function(){var e=this.props.block.linkUrl;return p.default.createElement("div",{className:"intercom-block intercom-block-image"},e?this.renderLinkedImage():this.renderImage())},n}(p.Component);(t.default=a).defaultProps={zoomable:!1},a.propTypes={block:n.default.shape({url:n.default.string.isRequired,width:n.default.number.isRequired,height:n.default.number.isRequired,progress:n.default.number,linkUrl:n.default.string,title:n.default.string,trackingLinkUrl:n.default.string}).isRequired,zoomable:n.default.bool,maxWidth:n.default.number,onImageClick:n.default.func,frameWindow:n.default.object}},1105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=o(r(70)),i=o(r(15)),l=o(r(1106));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(u(u(r=o.call.apply(o,[this].concat(t))||this)),"state",{loaded:!1,failed:!1,zoomed:!1}),c(u(u(r)),"handleClick",function(){if(r.props.onImageClick){var e=a.default.findDOMNode(u(u(r))).getBoundingClientRect(),t=r.props.src;r.props.onImageClick(t,{x:e.left,y:e.top,width:e.width,height:e.height})}!r.state.zoomed&&r.props.zoomable&&r.setState({zoomed:!0})}),c(u(u(r)),"handleClose",function(){r.setState({zoomed:!1})}),c(u(u(r)),"handleLoad",function(){r.setState({loaded:!0})}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getProgressStyle=function(){var e=this.props.progress;return{width:100-Math.max(Math.min(e,100),0)+"%"}},n.getClassNames=function(){var e=this.props.zoomable,t=this.state,r=t.loaded,n=t.zoomed;return(0,i.default)({"intercom-image":!0,"intercom-image-loaded":r,"intercom-image-zoomed":n,"intercom-image-zoomable":e})},n.getStyle=function(){var e=this.props,t=e.width,r=e.height;if(t&&r){var n=!!this.image&&!!this.image.clientWidth?this.image.clientWidth:this.props.maxWidth;if(n)return{height:Math.min(n,t)/t*r}}},n.renderZoomedImage=function(){return s.default.createElement(l.default,{src:this.props.src,title:this.props.title,onClose:this.handleClose,frameWindow:this.props.frameWindow,returnFocus:this.imgRef&&this.imgRef.focus.bind(this.imgRef)})},n.renderProgress=function(){return s.default.createElement("div",{className:"intercom-image-progress",style:this.getProgressStyle()})},n.render=function(){var t=this,e=this.props,r=e.src,n=e.width,o=e.height,a=e.progress,i=e.title,l=this.state.zoomed;return s.default.createElement("div",{ref:function(e){return t.image=e},style:this.getStyle(),className:this.getClassNames()},s.default.createElement("img",{src:r,width:n,height:o,onLoad:this.handleLoad,onClick:t.handleClick,alt:i,"aria-label":i,ref:function(e){return t.imgRef=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"}),l?this.renderZoomedImage():null,a<100?this.renderProgress():null)},r}(s.Component);(t.default=d).defaultProps={zoomable:!1},d.propTypes={src:n.default.string.isRequired,width:n.default.number,height:n.default.number,zoomable:n.default.bool,progress:n.default.number,maxWidth:n.default.number,title:n.default.string,onImageClick:n.default.func,frameWindow:n.default.object}},1106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=(n=r(1033))&&n.__esModule?n:{default:n},s=r(31);var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.src,r=e.onClose,n=e.frameWindow,o=e.returnFocus,a=e.title;return i.default.createElement(l.default,{onClose:r,frameWindow:n,returnFocus:o},i.default.createElement("div",{className:"intercom-zoomed-image-container"},i.default.createElement("img",{className:"intercom-zoomed-image",src:t,alt:a||"",onClick:r,"aria-label":(0,s.translate)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r(e)},role:"button",tabIndex:"0"})))},n}(i.Component);t.default=o},1107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(816)),l=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props.block.align;return(0,l.default)({"intercom-block":!0,"intercom-block-paragraph":!0,"intercom-block-center":"center"===e})},o.render=function(){var e=this.props.block.text;return e?a.default.createElement(i.default,{text:e,tagName:"div",className:this.getClassName()}):null},n}(a.Component);(t.default=s).propTypes={block:n.default.shape({text:n.default.string.isRequired,align:n.default.string}).isRequired}},1108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=i(r(816));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.block.content;return o.default.createElement(a.default,{text:e,tagName:"div",className:"intercom-block intercom-block-paragraph"})},n}(o.Component);(t.default=l).propTypes={block:n.default.shape({content:n.default.string.isRequired}).isRequired}},1109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getUrl=function(){switch(this.props.block.provider){case"youtube":return"https://www.youtube.com/embed/"+this.props.block.id+"?rel=0";case"vimeo":return"https://player.vimeo.com/video/"+this.props.block.id;case"wistia":return"https://fast.wistia.net/embed/iframe/"+this.props.block.id;case"loom":return"https://www.loom.com/embed/"+this.props.block.id;case"vidyard":return"https://play.vidyard.com/"+this.props.block.id}},o.render=function(){return a.default.createElement("div",{className:"intercom-block intercom-block-video"},a.default.createElement("iframe",{allowFullScreen:"1",frameBorder:"0",src:this.getUrl(),title:this.props.block.provider}))},n}(a.Component);(t.default=i).propTypes={block:o.default.shape({id:o.default.string.isRequired,provider:o.default.string.isRequired}).isRequired}},1110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return a.default.createElement("div",{className:"intercom-block intercom-block-video-reply"},a.default.createElement("video",{loop:!0,controls:!0,autoPlay:!0},a.default.createElement("source",{type:"video/mp4",src:this.props.block.url})))},n}(a.Component);(t.default=i).propTypes={block:o.default.shape({url:o.default.string.isRequired}).isRequired}},1111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(816)),l=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props.block.align;return(0,l.default)({"intercom-block":!0,"intercom-block-heading":!0,"intercom-block-center":"center"===e})},o.render=function(){var e=this.props.block.text;return a.default.createElement(i.default,{tagName:"h1",text:e,className:this.getClassName()})},n}(a.Component);(t.default=s).propTypes={block:n.default.shape({text:n.default.string.isRequired,align:n.default.string}).isRequired}},1112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(816)),l=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props.block.align;return(0,l.default)({"intercom-block":!0,"intercom-block-subheading":!0,"intercom-block-center":"center"===e})},o.render=function(){var e=this.props.block.text;return a.default.createElement(i.default,{tagName:"h2",text:e,className:this.getClassName()})},n}(a.Component);(t.default=s).propTypes={block:n.default.shape({text:n.default.string.isRequired,align:n.default.string}).isRequired}},1113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(816)),l=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){return(0,l.default)({"intercom-block":!0,"intercom-block-unordered-list":this.isUnorderedList(),"intercom-block-ordered-list":!this.isUnorderedList()})},o.isUnorderedList=function(){return"unorderedList"===this.props.block.type},o.render=function(){var e=this.props.block.items,t=this.isUnorderedList()?"ul":"ol";return a.default.createElement(t,{className:this.getClassName()},e.map(function(e,t){return a.default.createElement(i.default,{text:e,key:t,tagName:"li"})}))},n}(a.Component);(t.default=s).propTypes={block:n.default.shape({items:n.default.array.isRequired,type:n.default.string.isRequired}).isRequired}},1114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(816)),l=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props.block.align;return(0,l.default)({"intercom-block-button-container":!0,"intercom-block-center":"center"===e})},o.render=function(){var e=this.props.block,t=e.text,r=e.linkUrl,n=e.trackingLinkUrl;return a.default.createElement("div",{className:this.getClassName()},a.default.createElement("a",{href:r,"data-via":n,className:"intercom-block intercom-block-button"},a.default.createElement(i.default,{text:t})))},n}(a.Component);(t.default=s).propTypes={block:n.default.shape({text:n.default.string.isRequired,linkUrl:n.default.string.isRequired,trackingLinkUrl:n.default.string,align:n.default.oneOf(["left","center"])}).isRequired}},1115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return a.default.createElement("div",{className:"intercom-block intercom-block-twitter"},a.default.createElement("iframe",{allowTransparency:"true",frameBorder:"0",scrolling:"no",src:(e=this.props.block.username,"https://platform.twitter.com/widgets/follow_button.html?show_count=false&screen_name="+e),title:"Twitter"}));var e},n}(a.Component);(t.default=i).propTypes={block:o.default.shape({username:o.default.string.isRequired}).isRequired}},1116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var i=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return a.default.createElement("div",{className:"intercom-block intercom-block-facebook"},a.default.createElement("iframe",{src:(e=this.props.block.url,"https://www.facebook.com/plugins/like.php?href="+e+"&layout=button_count&action=like&share=false&size=small"),scrolling:"no",frameBorder:"0",allowTransparency:"true",title:"Facebook"}));var e},n}(a.Component);(t.default=i).propTypes={block:o.default.shape({url:o.default.string.isRequired}).isRequired}},1117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=o(r(1029));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getProgressStyle=function(){var e=this.props.block.progress;return{width:100-Math.max(Math.min(e,100),0)+"%"}},o.splitStringWithMiddleTruncation=function(e){return e.length<20?e:e.slice(0,10)+"..."+e.slice(e.length-10,e.length)},o.render=function(){var o=this,e=this.props.block,t=e.attachments,a=e.progress;return i.default.createElement("div",{className:"intercom-block intercom-block-attachment-list"},t.map(function(e,t){var r=e.url,n=e.name;return i.default.createElement("a",{key:t,href:r,target:"_blank"},i.default.createElement("div",{className:"intercom-block-attachment-list-icon"},i.default.createElement(l.default,null)),i.default.createElement("div",{className:"intercom-block-attachment-list-name"},o.splitStringWithMiddleTruncation(n)),a<100?i.default.createElement("div",{className:"intercom-block-attachment-list-progress",style:o.getProgressStyle()}):null)}))},n}(i.Component);(t.default=a).propTypes={block:n.default.shape({attachments:n.default.arrayOf(n.default.shape({url:n.default.string,name:n.default.string.isRequired})).isRequired,progress:n.default.number}).isRequired}},1118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=i(r(816));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.block.text;return o.default.createElement("pre",{className:"intercom-block intercom-block-code"},o.default.createElement(a.default,{text:e,tagName:"code",replaceAsciiEmoji:!1}))},n}(o.Component);(t.default=l).propTypes={block:n.default.shape({text:n.default.string.isRequired}).isRequired}},1119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1120))&&n.__esModule?n:{default:n};var i=function(e){return{appName:e.app.name}};t.mapStateToProps=i;var l=(0,o.connect)(i)(a.default);t.default=l},1120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(1058)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(l(l(r=o.call.apply(o,[this].concat(t))||this)),"addVideoAutoMessageMetric",function(e,t){r.context.addMetric(e,"video_auto_message","in_app","from_full",t)}),s(l(l(r)),"handlePlayFromStart",function(){r.addVideoAutoMessageMetric("started")}),s(l(l(r)),"handleComplete",function(){r.addVideoAutoMessageMetric("completed")}),s(l(l(r)),"handleMuteChange",function(e){e&&r.addVideoAutoMessageMetric("muted")}),s(l(l(r)),"handleReplay",function(){r.addVideoAutoMessageMetric("replay")}),s(l(l(r)),"handleError",function(){r.addVideoAutoMessageMetric("failed")}),s(l(l(r)),"handleVideoLoaded",function(e){r.addVideoAutoMessageMetric("loaded",{load_time:e})}),r}return t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e=this.props,t=e.block,r=t.url,n=t.captions,o=e.autoPlay;return a.default.createElement(i.default,{containerClassName:"intercom-block intercom-block-video-file",srcUrl:r,autoPlay:o,onPlayFromStart:this.handlePlayFromStart,onComplete:this.handleComplete,onMuteChange:this.handleMuteChange,onReplay:this.handleReplay,onError:this.handleError,onVideoLoaded:this.handleVideoLoaded,captions:n})},r}(a.Component);s(t.default=u,"defaultProps",{autoPlay:!0}),u.contextTypes={addMetric:n.default.func}},1121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var n=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.splitCaptions=function(){return this.props.captions.split(/\s*[\r\n]+\s*/)},o.getCurrentCaption=function(){var e=this.props,t=e.currentTime,r=e.duration,n=this.splitCaptions(),o=r/n.length,a=Math.floor(t/o);return n[Math.min(a,n.length-1)]},o.render=function(){return this.props.duration?a.default.createElement("div",{className:"intercom-video-player-captions"},this.getCurrentCaption()):null},n}(a.Component);t.default=n},1122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),d=n(r(1060)),p=n(r(1123)),f=n(r(1124)),m=r(31);function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(a(a(t=o.call.apply(o,[this].concat(r))||this)),"handlePlay",function(e){e.stopPropagation(),t.props.onPlay()}),i(a(a(t)),"handlePause",function(e){e.stopPropagation(),t.props.onPause()}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getTimeRemaining=function(){var e=this.props,t=e.currentTime,r=e.duration;if(null===t)return null;var n=Math.ceil(r-t),o="0"+n%60;return("0"+Math.floor(n/60)).substr(-2)+":"+o.substr(-2)},n.render=function(){var e=this.props,t=e.playing,r=e.muted,n=e.currentTime,o=e.duration,a=e.onSeek,i=e.onSeekStart,l=e.onSeekEnd,s=e.onToggleMute,u=e.showAudioControl;return c.default.createElement("div",{className:"intercom-video-player-controls"},t?c.default.createElement(p.default,{onClick:this.handlePause}):c.default.createElement(d.default,{onClick:this.handlePlay}),c.default.createElement(f.default,{currentTime:n,duration:o,onSeek:a,onSeekStart:i,onSeekEnd:l}),c.default.createElement("div",{className:"intercom-video-player-controls-time-remaining"},this.getTimeRemaining()),u?c.default.createElement("div",{"aria-label":r?(0,m.translate)("play_sound"):(0,m.translate)("mute_sound"),onClick:s,className:"intercom-video-control-audio-"+(r?"muted":"unmuted"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&s(e)},role:"button",tabIndex:"0"}):null)},r}(c.PureComponent);t.default=o},1123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(31);var i=function(e){var t=e.className,r=void 0===t?"video-pause-icon":t,n=e.onClick;return o.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:r,"aria-label":(0,a.translate)("pause"),onClick:n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&n(e)},role:"button",tabIndex:"0"},o.default.createElement("rect",{x:"7",y:"6",width:"3",height:"12",rx:"1"}),o.default.createElement("rect",{x:"14",y:"6",width:"3",height:"12",rx:"1"}))};t.default=i},1124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(399)),a=o(r(426)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(l(l(r=o.call.apply(o,[this].concat(t))||this)),"state",{currentTime:0,seeking:!1,prevProps:r.props}),s(l(l(r)),"handleSeek",(0,a.default)(function(){r.props.onSeek(r.state.currentTime)},50)),s(l(l(r)),"handleMouseDown",function(){r.setState({seeking:!0}),r.props.onSeekStart()}),s(l(l(r)),"handleMouseUp",function(){r.setState({seeking:!1}),r.props.onSeekEnd()}),s(l(l(r)),"handleSlide",function(e){var t=e.target;r.setState({currentTime:parseInt(t.value,10)/1e5}),r.handleSeek()}),s(l(l(r)),"handleClick",function(e){e.preventDefault()}),r}return t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||(0,n.default)(e,t.prevProps)?null:t.seeking||e.currentTime===t.prevProps.currentTime?{prevProps:e}:{currentTime:e.currentTime,prevProps:e}},r.prototype.render=function(){var e=this.props.duration,t=this.state.currentTime;return i.default.createElement("input",{className:"intercom-video-player-scrubber",type:"range",min:0,max:1e5*e,value:1e5*t,onChange:this.handleSlide,onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleMouseUp,onClick:this.handleClick,tabIndex:"0"})},r}(i.Component);t.default=u},1125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(e){var t=e.className,r=void 0===t?"video-replay-icon":t;return o.default.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",className:r},o.default.createElement("path",{d:"M15 8v3.793a.491.491 0 0 1-.268.444.496.496 0 0 1-.585-.09L9.354 7.353a.5.5 0 0 1 0-.708l4.793-4.792a.5.5 0 0 1 .854.353V6a9 9 0 1 1-8.945 9.998C5.994 15.45 6.447 15 7 15c.552 0 .992.45 1.07.997A7 7 0 1 0 15 8z"}))};t.default=a},1126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(1061));function o(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.block,r=e.isLastPart,n=e.frameWindow,o=this.context.onHeightChange;return a.default.createElement("div",{className:"intercom-block-messenger-card intercom-comment-body-block-group"},a.default.createElement(i.default,{isInline:!0,cardUri:t.uri,isLastPart:r,frameWindow:n,onHeightChange:o}))},n}(a.Component);t.default=c,l=c,s="contextTypes",u={onHeightChange:n.default.func},s in l?Object.defineProperty(l,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[s]=u},1127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=a(r(2)),p=r(127),f=o(r(827)),m=a(r(423)),h=o(r(123)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=2*m.transitionDuration,u=function(n){var e,t;function r(){for(var l,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s(i(i(l=n.call.apply(n,[this].concat(t))||this)),"state",{}),s(i(i(l)),"heightChangeTimeout",void 0),s(i(i(l)),"handleHeightChange",function(e){l.setState({height:e})}),s(i(i(l)),"addReceivedCardMetric",function(){var e=l.props,t=e.cardUri,r=e.currentView,n=e.messengerAppId,o=e.homeScreenIndex,a=e.conversationId,i=e.isBorderless;l.context.addMetric("received","messenger_card","messenger",r,{messenger_card_uri:t,messenger_app_id:n,home_screen_index:o,conversation_id:a,is_borderless:i},"m4_metric")}),l}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.componentDidUpdate=function(e,t){var r=this.props,n=r.isContentFetched,o=r.onHeightChange,a=r.isBorderless;n&&!e.isContentFetched&&this.addReceivedCardMetric(),this.state.height!==t.height&&o&&a&&(this.heightChangeTimeout&&clearTimeout(this.heightChangeTimeout),this.heightChangeTimeout=setTimeout(o,l))},o.componentDidMount=function(){this.props.isContentFetched&&this.addReceivedCardMetric()},o.getStyle=function(){var e=this.props,t=e.isContentFetched,r=e.isContentError;return{height:t||r?this.state.height:71}},o.render=function(){var e=this.props,t=e.cardUri,r=e.components,n=e.isContentError,o=e.isBorderless,a=e.onAction,i=e.getCardContent,l=e.isContentFetching,s=e.isContentFetched,u=e.frameWindow,c=l&&!s;return d.default.createElement(f.default,{style:this.getStyle(),isBorderless:o,isContentFetched:s},d.default.createElement(p.TransitionGroup,{component:"div",appear:!0,enter:!0,exit:!0},c?d.default.createElement(p.CSSTransition,{key:"spinner",classNames:"intercom-spinner-animation",timeout:{enter:900,exit:300}},d.default.createElement(h.default,null)):null),d.default.createElement(m.default,{cardUri:t,isContentError:n,isContentFetched:s,isContentFetching:l,components:r,onAction:a,onHeightChange:this.handleHeightChange,getCardContent:i,frameWindow:u}))},r}(d.PureComponent);(t.default=u).contextTypes={addMetric:n.default.func}},1128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=o(r(70)),i=o(r(15)),p=o(r(1025)),l=o(r(825)),s=o(r(1036)),f=o(r(1129)),u=r(682);function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=r(818).absoluteTimeInWords,v=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(c(c(r=o.call.apply(o,[this].concat(t))||this)),"state",{tooltipVisible:!1}),m(c(c(r)),"handleMouseMove",function(e){var t=a.default.findDOMNode(c(c(r))).getBoundingClientRect();r.setState({lastMouseMovedAt:Date.now(),tooltipVisible:!1,tooltipTop:Math.round(e.clientY-t.top+20),tooltipLeft:Math.round(e.clientX-t.left-30)})}),m(c(c(r)),"handleMouseEnter",function(){r.interval=setInterval(function(){var e=Date.now()-r.state.lastMouseMovedAt;r.setState({tooltipVisible:500<e})},100)}),m(c(c(r)),"handleMouseLeave",function(){r.setState({tooltipVisible:!1}),clearInterval(r.interval)}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){this.interval&&clearInterval(this.interval)},n.isMessengerCard=function(){return this.props.part.body.some(function(e){return"messengerCard"===e.type})},n.shouldRenderCommentBody=function(){return this.isMessengerCard()},n.shouldRenderInlineMetadata=function(){return this.props.showInlineMetadata&&!this.shouldRenderCommentBody()},n.getClassNames=function(){var e=this.context.isPrimaryColorLight,t=(0,u.isSingleRenderableBlock)(this.props.part.body);return(0,i.default)({"intercom-comment":!t,"intercom-comment-single":t,"intercom-comment-with-body":this.shouldRenderCommentBody(),"intercom-comment-light":e()})},n.renderTooltip=function(){var e=this.state,t=e.tooltipVisible,r=e.tooltipTop,n=e.tooltipLeft,o=this.props,a=o.part,i=o.isMobile,l=a.showCreatedAt,s=a.createdAt;return i||!t||!l||this.isMessengerCard()?null:d.default.createElement("div",{className:"intercom-comment-tooltip",style:{left:n,top:r}},h(s))},n.renderAccessibleTooltip=function(){var e=this.props.part,t=e.showCreatedAt,r=e.createdAt;return t?d.default.createElement("div",{className:"intercom-comment-accessibility-tooltip"},h(r)):null},n.renderBlocks=function(){var e=this.props,t=e.part,r=e.isMobile,n=e.isBorderless,o=e.hasAvatar,a=e.showInlineMetadata,i=e.onImageClick,l=e.isLastPart,s=e.frameWindow,u=t.body,c=t.author;return this.shouldRenderCommentBody()?d.default.createElement(f.default,{part:t,isLastPart:l,zoomable:!r,isBorderless:n,hasAvatar:o,showInlineMetadata:a,maxImageWidth:232,onImageClick:i,frameWindow:s}):d.default.createElement(p.default,{autoPlay:!1,blocks:u,author:c,zoomable:!r,maxImageWidth:232,onImageClick:i,frameWindow:s})},n.renderSticker=function(){return d.default.createElement(l.default,{text:(0,u.getStickerText)(this.props.part.body[0])})},n.renderBody=function(){var e=this.props.part.body;return 1===e.length&&(0,u.isStickerBlock)(e[0])?this.renderSticker():this.renderBlocks()},n.render=function(){return d.default.createElement("div",{className:this.getClassNames(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove},this.renderBody(),this.renderTooltip(),this.renderAccessibleTooltip(),this.shouldRenderInlineMetadata()?d.default.createElement(s.default,{part:this.props.part}):null)},r}(d.Component);m(t.default=v,"contextTypes",{isPrimaryColorLight:n.default.func}),v.defaultProps={isMobile:!1,isBorderless:!1},v.propTypes={part:n.default.object.isRequired,isMobile:n.default.bool,isBorderless:n.default.bool,frameWindow:n.default.object,hasAvatar:n.default.bool,showInlineMetadata:n.default.bool,onImageClick:n.default.func,isLastPart:n.default.bool}},1129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=n(r(15)),p=n(r(1025)),f=n(r(1036));function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return"messengerCard"===e.type},m=function(e){return!a(e)},h=function(e){return"paragraph"===e.type&&!e.text},i=function(){function e(){o(this,"blocks",[])}return e.prototype.addBlock=function(e){this.blocks.push(e)},e}(),s=function(){function e(){o(this,"groups",[])}return e.prototype.addBlock=function(e){var t=this.groups[this.groups.length-1];t&&t.blocks.every(m)&&m(e)||(t=new i,this.groups.push(t)),t.addBlock(e)},e}(),u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getBlockGroupClassName=function(e){return(0,l.default)({"intercom-comment-body-block-group":!0,"intercom-comment-body-block-group-text":e.every(m),"intercom-comment-body-block-group-messenger-card":e.every(a)})},o.getClassName=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isBorderless,o=t.author,a=o.isAdmin,i=o.isSelf;return(0,l.default)({"intercom-comment-body":!0,"intercom-comment-body-borderless":n,"intercom-comment-body-user":i,"intercom-comment-body-admin":a,"intercom-comment-body-admin-with-avatar":r,"intercom-comment-body-other-user":!i&&!a})},o.getBlockGroups=function(){var t=new s;return this.props.part.body.forEach(function(e){return t.addBlock(e)}),t},o.renderBlockGroup=function(e,t,r){var n=this.props,o=n.part,a=n.zoomable,i=n.maxImageWidth,l=n.onImageClick,s=n.isLastPart,u=n.frameWindow,c=this.props.showInlineMetadata&&r&&e.blocks.every(m);return e.blocks.every(h)?null:d.default.createElement("div",{key:t,className:this.getBlockGroupClassName(e.blocks)},d.default.createElement(p.default,{blocks:e.blocks,author:o.author,zoomable:a,maxImageWidth:i,onImageClick:l,isLastPart:s,frameWindow:u}),c?d.default.createElement(f.default,{part:o}):null)},o.render=function(){var r=this,n=this.getBlockGroups();return d.default.createElement("div",{className:this.getClassName()},n.groups.map(function(e,t){return r.renderBlockGroup(e,t,t===n.groups.length-1)}))},n}(d.PureComponent);t.default=u},1130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),o=r(70),i=a(r(15)),l=r(69),s=a(r(752)),b=a(r(1131)),u=r(45),n=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){return Object.keys(e).length}function C(t){return Object.keys(t).filter(function(e){return"saved"===t[e]||"failed"===t[e]}).length}var p=function(a){var e,t;function r(){for(var v,e,t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return d(c(c(v=a.call.apply(a,[this].concat(n))||this)),"state",{saveStates:(e=v.props.part,t=e.form,t?t.attributes.reduce(function(e,t){var r,n=t.identifier,o=t.saveState;return Object.assign({},e,((r={})[n]=o,r))},{}):{})}),d(c(c(v)),"renderAttribute",function(e,t){var r=v.props,n=r.isBorderless,o=r.isReplyType,a=r.defaultCountryCode,i=r.frameWindow,l=r.onAttributeSubmit,s=v.state.saveStates;if(t>C(s))return null;var u,c=e.type,d=e.name,p=e.identifier,f=e.options,m=e.value,h=e.saveState;return 1<g(s)&&(u=""+(t+1)),y.default.createElement(b.default,{key:p,type:c,name:d,identifier:p,value:m,number:u,options:f,saveState:h,defaultCountryCode:a,isBorderless:n,isReplyType:o,frameWindow:i,onSubmit:l})}),v}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var r=this,e=this.props,n=e.part,o=e.conversationId,a=this.context.addMetric,i=n.form;i&&i.attributes.forEach(function(e){var t=e.identifier;return"email"===t&&r.props.onEmailAttributeMount(o),a("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:o,part_id:n.id,attribute_identifier:t,attribute_type:(0,u.getInferredAttributeType)(i,t),form_type:i.type,attribute_is_custom_data:(0,u.isCustomData)({identifier:t})})})},n.componentDidUpdate=function(e,t){var r,n;C(t.saveStates)!==C(this.state.saveStates)&&(r=this,(n=(0,o.findDOMNode)(r).closest(".intercom-conversation-body-parts"))&&(0,l.scrollToBottom)(n))},n.renderAvatar=function(){return y.default.createElement("div",{className:"intercom-attribute-collector-card-avatar"},y.default.createElement(s.default,{author:this.props.part.author}))},n.renderForm=function(){var e=this.props.part.form;return e?e.attributes.map(this.renderAttribute):null},n.renderPosition=function(){var e=this.state.saveStates,t=g(e);if(1===t)return null;var r=Math.min(t,C(e)+1);return y.default.createElement("div",{className:"intercom-attribute-collector-card-position"},"(",r," of ",t,")")},n.getClassName=function(){var e=this.props,t=e.isBorderless,r=e.isMobile,n=e.isReplyType;return(0,i.default)({"intercom-attribute-collector-card":!0,"intercom-attribute-collector-card-borderless":t,"intercom-attribute-collector-card-mobile":r,"intercom-attribute-collector-card-reply-type":n})},n.render=function(){return y.default.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAvatar():null,y.default.createElement("div",{className:"intercom-attribute-collector-card-body"},this.renderPosition(),this.renderForm()))},r}(y.Component);(t.default=p).contextTypes={addMetric:n.default.func}},1131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),d=n(r(1132)),p=n(r(1063)),f=n(r(1133)),m=n(r(1134)),h=n(r(1135)),l=n(r(700)),s=n(r(701)),v=n(r(1064)),u=n(r(401));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(a(a(n=o.call.apply(o,[this].concat(t))||this)),"handleSubmit",function(e){var t=n.props,r=t.identifier;(0,t.onSubmit)(r,e)}),i(a(a(n)),"handleArraySubmit",function(e){n.handleSubmit(e.text)}),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.fitsButtonGroupLayout=function(e){var t=e.length,r=Math.floor(18/t);return t<=4&&e.every(function(e){return e.length<=r})},n.renderAttribute=function(){var e=this.props,t=e.type,r=e.identifier,n=e.value,o=e.options,a=e.saveState,i=e.defaultCountryCode,l=e.isBorderless,s=e.isReplyType,u=n?String(n):void 0;return"email"===r?c.default.createElement(p.default,{value:u,saveState:a,isBorderless:l,isReplyType:s,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"phone"===r?c.default.createElement(v.default,{value:u,key:u,saveState:a,defaultCountryCode:i,isBorderless:l,isReplyType:s,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"string"===t&&Array.isArray(o)?this.renderArrayAttribute(o,u):"string"===t?c.default.createElement(d.default,{value:u,saveState:a,isBorderless:l,isReplyType:s,onSubmit:this.handleSubmit}):"integer"===t?c.default.createElement(f.default,{value:u,saveState:a,isBorderless:l,isReplyType:s,onSubmit:this.handleSubmit}):"float"===t?c.default.createElement(m.default,{value:u,saveState:a,isBorderless:l,isReplyType:s,onSubmit:this.handleSubmit}):"boolean"!==t||"boolean"!=typeof n&&void 0!==n?null:c.default.createElement(h.default,{value:n,key:JSON.stringify(n),saveState:a,isBorderless:l,isReplyType:s,onSubmit:this.handleSubmit})},n.renderArrayAttribute=function(e,t){var r=this.props,n=r.saveState,o=r.frameWindow,a=t?{id:t,text:t}:null,i=e.map(function(e){return{id:e,text:e}});return this.fitsButtonGroupLayout(e)?c.default.createElement(s.default,{value:a,key:(0,u.default)(JSON.stringify(a)),options:i,saveState:n,onChange:this.handleArraySubmit}):c.default.createElement(l.default,{value:a,options:i,saveState:n,autoFocus:!0,frameWindow:o,onChange:this.handleArraySubmit})},n.render=function(){var e=this.props,t=e.name,r=e.number;return c.default.createElement("div",{className:"intercom-attribute-collector-card-attribute"},c.default.createElement("div",{className:"intercom-attribute-collector-card-label"},void 0!==r?r+". "+t:t),this.renderAttribute())},r}(c.Component);t.default=o},1132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,m=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),h=(n=r(691))&&n.__esModule?n:{default:n},v=r(31);function y(e){return 0<e.length}var o,a,i,l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,o=e.onChange,a=e.placeholder,i=e.id,l=e.label,s=e.saveState,u=e.disabled,c=e.isBorderless,d=e.isReplyType,p=e.isSubmittable,f=e.hideErrorMessage;return m.default.createElement(h.default,{value:t,placeholder:a,id:i,label:l,saveState:s,disabled:u,isValid:y,isBorderless:c,isReplyType:d,isNotificationChannel:!1,isSubmittable:p,onSubmit:n,onChange:o,hideErrorMessage:f,validationErrorMessage:r||(0,v.translate)("string_is_incorrect")})},n}(m.Component);t.default=l,i={isSubmittable:!0,hideErrorMessage:!(a="defaultProps")},a in(o=l)?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i},1133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=(n=r(691))&&n.__esModule?n:{default:n},c=r(31);function d(e){return!!e.match(/^-?\d+$/)}var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,o=e.saveState,a=e.disabled,i=e.isBorderless,l=e.isReplyType;return s.default.createElement(u.default,{value:t,placeholder:(0,c.translate)("type_a_number"),saveState:o,disabled:a,isValid:d,isBorderless:i,isReplyType:l,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||(0,c.translate)("number_is_incorrect")})},n}(s.Component);t.default=o},1134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=(n=r(691))&&n.__esModule?n:{default:n},c=r(31);function d(e){return!!e.match(/^-?\d+\.\d+$/)}var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,o=e.saveState,a=e.disabled,i=e.isBorderless,l=e.isReplyType;return s.default.createElement(u.default,{value:t,placeholder:(0,c.translate)("type_a_number"),saveState:o,disabled:a,isValid:d,isBorderless:i,isReplyType:l,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||(0,c.translate)("number_is_incorrect")})},n}(s.Component);t.default=o},1135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=n(r(15)),i=r(31),s=n(r(400));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(l){var e,t;function r(){for(var e,t,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=l.call.apply(l,[this].concat(a))||this,t=u(u(e)),r="state",n={value:e.props.value},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props.saveState;return(0,a.default)({"intercom-boolean-attribute":!0,"intercom-boolean-attribute-saving":"saving"===e,"intercom-boolean-attribute-saved":"saved"===e,"intercom-boolean-attribute-failed":"failed"===e})},n.getClassNamesForOption=function(e){var t=this.state.value;return(0,a.default)({"intercom-boolean-attribute-option":!0,"intercom-boolean-attribute-option-left":!0===e,"intercom-boolean-attribute-option-right":!1===e,"intercom-boolean-attribute-option-unsubmitted":void 0===t,"intercom-boolean-attribute-option-submitted-chosen":t===e,"intercom-boolean-attribute-option-submitted-not-chosen":void 0!==t&&t!==e})},n.createHandleSubmit=function(e){var t=this,r=this.props.saveState;return"saved"===r||"saving"===r?function(){}:function(){t.props.onSubmit(e)}},n.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:this.getClassName()},o.default.createElement("button",{className:this.getClassNamesForOption(!0),onClick:this.createHandleSubmit(!0),tabIndex:"0"},o.default.createElement("span",{className:"intercom-boolean-attribute-text"},"Yes")),o.default.createElement("button",{className:this.getClassNamesForOption(!1),onClick:this.createHandleSubmit(!1),tabIndex:"0"},o.default.createElement("span",{className:"intercom-boolean-attribute-text"},"No"))),"failed"===this.props.saveState&&o.default.createElement(s.default,{errorMessage:(0,i.translate)("something_is_wrong")}))},r}(o.Component);t.default=l},1136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),a=r(1038),s=n(r(699)),u=r(31);function n(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return p(d(d(t=o.call.apply(o,[this].concat(r))||this)),"handleChange",function(e){t.props.onChange(e.target.value.trim())}),p(d(d(t)),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.props.onSubmit())}),p(d(d(t)),"handleFocus",function(e){var t=e.target.value;e.target.value="",e.target.value=t}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.saveState,r=e.isInvalid,n=e.isBorderless,o=e.isReplyType,a=e.isNotificationChannel;return(0,i.default)({"intercom-phone-number-input":!0,"intercom-phone-number-input-saving":"saving"===t,"intercom-phone-number-input-saved":"saved"===t,"intercom-phone-number-input-failed":"failed"===t,"intercom-phone-number-input-invalid":r,"intercom-phone-number-input-borderless":n,"intercom-phone-number-input-reply-type":o,"intercom-phone-number-input-notification-channel":a})},n.renderFlag=function(){var e=this.props,t=e.defaultCountryCode,r=e.value,n=(0,a.countryByDialCode)(r),o=n?n.code:t;return l.default.createElement("div",{className:["intercom-phone-number-input-flag","intercom-flag",o].join(" ")})},n.renderPlaceholder=function(){var e=this.props,t=e.value,r=e.placeholder;return l.default.createElement("div",{className:"intercom-phone-number-input-placeholder"},0===r.indexOf(t)&&l.default.createElement("span",null,l.default.createElement("span",{className:"intercom-phone-number-input-placeholder-prefix"},t),l.default.createElement("span",{className:"intercom-phone-number-input-placeholder-suffix"},r.replace(t,""))))},n.renderInput=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,o=e.isReplyType,a="saving"===r||"saved"===r,i=!(n&&o);return l.default.createElement("input",{name:"phone",type:"text",disabled:a,autoFocus:i,defaultValue:t,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,"aria-label":(0,u.translate)("phone_number")})},n.render=function(){var e=this.props.saveState,t="saving"===e,r=t||"saved"===e,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){p(t,e,r[e])})}return t}({"aria-label":t?(0,u.translate)("loading"):(0,u.translate)("submit")},t?{role:"progressbar"}:{});return l.default.createElement("div",{className:this.getClassName()},this.renderFlag(),this.renderPlaceholder(),this.renderInput(),l.default.createElement("div",{className:"intercom-phone-number-input-success-icon"}),l.default.createElement("button",c({className:"intercom-phone-number-input-submit-button intercom-submittable-input-submit-button",disabled:r,onClick:this.props.onSubmit},n,{tabIndex:"0"}),l.default.createElement(s.default,null)))},r}(l.PureComponent);t.default=o},1139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=l(r(816)),i=l(r(15)),s=r(759);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(l){var e,t;function r(){for(var t,e,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=l.call.apply(l,[this].concat(a))||this,e=u(u(t)),n=function(){var e=t.props;(0,e.onReactionSelect)(e.reaction.index)},(r="handleClick")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){return(0,i.default)({"intercom-reaction":!0,"intercom-reaction-selected":this.props.isSelected})},n.render=function(){var t=this,e=this.props,r=e.reaction,n=e.isSelected;return o.default.createElement("span",{className:this.getClassName(),onClick:t.handleClick,"aria-label":(0,s.getHumanizedEmojiName)(r.emoji)+" reaction","aria-pressed":n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},o.default.createElement(a.default,{emojiImageSize:32,text:r.emoji}))},r}(o.Component);(t.default=c).propTypes={reaction:n.default.shape({index:n.default.number.isRequired,emoji:n.default.string.isRequired}).isRequired,onReactionSelect:n.default.func.isRequired,isSelected:n.default.bool.isRequired}},1150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),c=(n=r(1151))&&n.__esModule?n:{default:n};function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){var t=e.parts[e.parts.length-1];if(t&&t.replyOptions&&0!==t.replyOptions.length)return t},o=function(l){var e,t;function r(){for(var a,e,t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=l.call.apply(l,[this].concat(o))||this,e=s(s(a)),r=function(e){var t=a.props,r=t.conversation,n=t.onSelect,o=d(r);o&&n(r,o,e)},(t="handleSelect")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,a}return t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e,t=this.props,r=t.conversation,n=t.isVisible,o=t.isBorderless,a=t.onShow,i=t.onHide,l=d(r),s=(e=l)?e.replyOptions:void 0;return u.default.createElement(c.default,{replyOptions:s,isVisible:n,isBorderless:o,onShow:a,onHide:i,onSelect:this.handleSelect,part:l})},r}(u.Component);t.default=o},1151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(1152))&&n.__esModule?n:{default:n};function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return s(l(l(t=o.call.apply(o,[this].concat(r))||this)),"ref",void 0),s(l(l(t)),"handleShow",function(){var e=t.props.onShow;e&&t.ref&&e(t.ref.clientHeight)}),s(l(l(t)),"handleHide",function(){var e=t.props.onHide;e&&e()}),s(l(l(t)),"setRef",function(e){t.ref=e}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.replyOptions&&this.handleShow()},n.componentDidUpdate=function(e){var t=this.props.replyOptions,r=e.replyOptions;!r&&t?this.handleShow():r&&!t&&this.handleHide()},n.getStyle=function(){return{opacity:this.props.isVisible?1:0}},n.render=function(){var e=this.props,t=e.replyOptions,r=e.isBorderless,n=e.part,o=e.onSelect;return a.default.createElement("div",{ref:this.setRef,style:this.getStyle(),className:"intercom-quick-replies-wrapper"},t&&n?a.default.createElement(i.default,{replyOptions:t,part:n,isBorderless:r,onSelect:o}):null)},r}(a.Component);t.default=o},1152:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(1153)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s(l(l(a=n.call.apply(n,[this].concat(t))||this)),"addReceivedMetric",function(){var e=a.props,t=e.isBorderless,r=e.part,n=e.replyOptions,o=t?"borderless":"messenger";n.length<=0||n.forEach(function(e){a.context.addMetric("received","quick_reply",o,"",{quick_reply_id:e.uuid,part_id:r.id})})}),s(l(l(a)),"addClickedMetric",function(e){var t=a.props,r=t.isBorderless,n=t.part,o=r?"borderless":"messenger";a.context.addMetric("clicked","quick_reply",o,"",{quick_reply_id:e.uuid,part_id:n.id})}),s(l(l(a)),"createHandleSelect",function(e){return function(){a.addClickedMetric(e),a.props.onSelect(e)}}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.componentDidMount=function(){this.addReceivedMetric()},o.render=function(){var r=this,e=this.props,t=e.replyOptions,n=e.isBorderless;return a.default.createElement("div",{className:"intercom-quick-replies"},t.map(function(e,t){return a.default.createElement(i.default,{key:t,focused:!n&&0===t,replyOption:e,isBorderless:n,onSelect:r.createHandleSelect(e)})}))},r}(a.PureComponent);(t.default=u).contextTypes={addMetric:n.default.func}},1153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),n=o(r(7)),i=o(r(15)),l=o(r(1071));function o(e){return e&&e.__esModule?e:{default:e}}var s,u,c,d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassNames=function(){var e=this.props.isBorderless,t=this.context.isPrimaryColorLight();return(0,i.default)({"quick-reply-button":!0,"quick-reply-button-borderless":e,"quick-reply-button-light":t})},o.render=function(){var e=this.props,t=e.replyOption,r=e.onSelect,n=e.focused;return a.default.createElement(l.default,{className:this.getClassNames(),label:t.text,value:t,onClick:r,focused:n})},n}(a.PureComponent);t.default=d,s=d,u="contextTypes",c={isPrimaryColorLight:n.default.func},u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c},1156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),n=o(r(7)),a=r(127),i=o(r(15)),f=o(r(1157)),m=o(r(1159)),l=o(r(1057)),h=o(r(1160)),v=o(r(1165)),y=o(r(1170)),b=o(r(1177)),s=o(r(1062)),u=o(r(1036)),g=o(r(1178)),c=o(r(1043)),d=o(r(1182)),C=r(682),_=o(r(436)),O=r(31),P=o(r(401));function o(e){return e&&e.__esModule?e:{default:e}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return E(w(w(o=n.call.apply(n,[this].concat(t))||this)),"handleClick",function(e){if(o.handleLinkClick(e),o.isFailedPart()){var t=o.props,r=t.part;(0,t.onRetry)(r)}}),E(w(w(o)),"addLinkClickedMetric",function(e,t,r){var n;o.context.addMetric("clicked","link","messenger","in_conversation",((n={conversation_id:e})[t.isMessage?"message_id":"comment_id"]=t.id,n.url=r,n.partType=t.messageType,n))}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.handleLinkClick=function(e){var t=e.target;if("a"===t.tagName.toLowerCase()){var r=t.getAttribute("href"),n=this.props,o=n.conversationId,a=n.part;r&&this.addLinkClickedMetric(o,a,r)}},o.isFailedPart=function(){return"failed"===this.props.part.saveState},o.isRichContentType=function(){var e=this.props.part;return!!e.body&&(0,C.isSingleRenderableBlock)(e.body)},o.shouldShowMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&!r},o.shouldShowInlineMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&r&&!this.isRichContentType()},o.getClassNames=function(){var e=this.props.part.author,t=e.isAdmin,r=e.isSelf;return(0,i.default)({"intercom-conversation-part":!0,"intercom-conversation-part-admin":t,"intercom-conversation-part-user":r,"intercom-conversation-part-other-user":!t&&!r,"intercom-conversation-part-grouped":this.props.grouped,"intercom-conversation-part-last":!this.props.nextPart,"intercom-conversation-part-failed":this.isFailedPart()})},o.renderComment=function(){return(0,_.default)(this.props.part.partType)?this.renderEvent():this.renderCommentContainer()},o.renderEvent=function(){var e=this.props.part;return this.props.isBorderless?null:"participant_added"===e.partType||"participant_removed"===e.partType?p.default.createElement(d.default,{part:e}):void 0},o.renderCommentContainer=function(){var e=this.props,t=e.isLastPart,r=e.part,n=e.hasAvatar,o=e.isBorderless,a=e.isMobile,i=e.frameWindow,l=e.onImageClick;return p.default.createElement(s.default,{isLastPart:t,part:r,hasAvatar:n,isBorderless:o,isMobile:a,frameWindow:i,showInlineMetadata:this.shouldShowInlineMetadata(),onImageClick:l})},o.renderChatCardGroup=function(){var e=this.props,t=e.appName,r=e.part,n=e.hasAvatar,o=e.isBorderless,a=e.isMobile,i=e.frameWindow;return p.default.createElement(l.default,{appName:t,part:r,hasAvatar:n,isBorderless:o,isMobile:a,showInlineMetadata:this.shouldShowInlineMetadata(),frameWindow:i})},o.renderConversationPart=function(){var e=this.props,t=e.appName,r=e.part,n=e.nextPart,o=e.hasAvatar,a=e.reactionsReply,i=e.onArticleCardClick,l=e.conversationId,s=e.onReactionSelect,u=e.isBorderless,c=e.isMobile,d=e.frameWindow;switch(r.messageType){case"post":return p.default.createElement(f.default,{appName:t,conversationId:l,part:r,reactionsReply:a,onReactionSelect:s,frameWindow:d});case"note":return p.default.createElement(m.default,{appName:t,part:r,frameWindow:d});case"link":return p.default.createElement(h.default,{appName:t,part:r,hasAvatar:o,isBorderless:u,onArticleCardClick:i});case"notificationChannels":return p.default.createElement(v.default,{part:r,nextPart:n,hasAvatar:o,isBorderless:u});case"conversationRating":return c?this.renderComment():p.default.createElement(y.default,{part:r,nextPart:n,hasAvatar:o,isBorderless:u});case"attributeCollector":return p.default.createElement(g.default,{part:r,hasAvatar:o,isBorderless:u,frameWindow:d});case"video":case"chat":case"adminReply":return u?this.renderChatCardGroup():this.renderComment();case"pointer":return p.default.createElement(b.default,{appName:t,part:r,frameWindow:d});default:return this.renderComment()}},o.renderMetadata=function(){return p.default.createElement(a.TransitionGroup,null,this.shouldShowMetadata()?p.default.createElement(a.CSSTransition,{classNames:"intercom-conversation-part-metadata",timeout:300},p.default.createElement(u.default,{part:this.props.part})):null)},o.renderReplyType=function(){var e=this.props,t=e.part,r=e.isBorderless,n=e.frameWindow;switch(t.replyType){case"attribute_collector":return p.default.createElement(c.default,{part:t,hasAvatar:!1,isBorderless:r,isReplyType:!0,frameWindow:n,key:(0,P.default)(JSON.stringify(t))})}},o.render=function(){var t=this,r=this.props.setPartRef;return p.default.createElement("div",{className:this.getClassNames(),onClick:t.handleClick,"aria-label":this.isFailedPart()?(0,O.translate)("failed_message"):void 0,role:this.isFailedPart()?"button":"listitem",tabIndex:this.isFailedPart()?"0":"-1",ref:function(e){return r&&r(e,t.props.part)},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)}},this.renderConversationPart(),this.renderReplyType(),this.renderMetadata())},r}(p.PureComponent);E(t.default=j,"defaultProps",{isBorderless:!1,isMobile:!1,conversationId:""}),j.contextTypes={addMetric:n.default.func}},1157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1158))&&n.__esModule?n:{default:n};var i=r(437),l=i.openMessage,s=i.closeMessage,u=function(e){return{isOpen:!!e.message.conversationId&&!!e.message.partId,isUpfrontEmailComposerShowing:e.app.upfrontEmailCollection.upfrontEmailCollectorShowing}};t.mapStateToProps=u;var c=function(r){return{onOpen:function(e,t){r(l(e,t))},onClose:function(){r(s())}}};t.mapDispatchToProps=c;var d=function(e,r,t){return Object.assign({},e,r,t,{onOpen:function(e,t){r.onOpen(e,t)},onClose:function(){r.onClose()}})};t.mergeProps=d;var p=(0,o.connect)(u,c,d)(a.default);t.default=p},1158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=o(r(15)),l=o(r(1068)),u=o(r(817)),c=o(r(1025)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(o){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(i(i(e=o.call.apply(o,[this].concat(r))||this)),"state",{isTruncated:!1}),d(i(i(e)),"node",void 0),d(i(i(e)),"handleClick",function(){e.context.addMetric("viewed","post","messenger","from_card",{conversation_id:e.props.conversationId}),e.props.onOpen(e.props.conversationId,e.props.part.id)}),d(i(i(e)),"handleClose",function(){e.props.onClose()}),d(i(i(e)),"handleComposerClick",function(){e.handleClose()}),e}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleResize()},n.handleResize=function(){var e=this.node;if(e){var t=e.scrollHeight,r=e.clientHeight;this.setState({isTruncated:r<t})}},n.getClassNames=function(){return(0,a.default)({"intercom-post-card":!0,"intercom-post-card-truncated":this.state.isTruncated})},n.renderPost=function(){var e=this.props,t=e.part,r=e.appName,n=e.reactionsReply,o=e.onReactionSelect,a=e.frameWindow,i=e.isUpfrontEmailComposerShowing;return s.default.createElement(l.default,{message:t,appName:r,reactionsReply:n,onReactionSelect:o,onComposerClick:this.handleComposerClick,onClose:this.handleClose,frameWindow:a,isUpfrontEmailComposerShowing:i,returnFocus:this.node&&this.node.focus.bind(this.node)})},n.render=function(){var t=this,e=this.props,r=e.part,n=e.appName,o=e.frameWindow,a=e.isOpen,i=r.author,l=r.body;return s.default.createElement("div",{className:this.getClassNames(),onClick:t.handleClick,ref:function(e){return t.node=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},s.default.createElement(u.default,{appName:n,author:i},s.default.createElement("div",{className:"intercom-post-card-body"},s.default.createElement(c.default,{blocks:l,frameWindow:o}))),a?this.renderPost():null)},r}(s.Component);d(t.default=p,"contextTypes",{addMetric:n.default.func})},1159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=n(r(817)),s=n(r(1025));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.appName,r=e.part,n=e.frameWindow,o=r.author,a=r.body;return i.default.createElement("div",{className:"intercom-note-card"},i.default.createElement(l.default,{appName:t,isReplyStyle:!1,author:o},i.default.createElement("div",{className:"intercom-note-card-body"},i.default.createElement(s.default,{blocks:a,zoomable:!0,frameWindow:n}))))},n}(i.Component);t.default=o},1160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1161))&&n.__esModule?n:{default:n};var i=function(e){return{openArticleId:e.article.id}};t.mapStateToProps=i;var l=(0,o.connect)(i)(a.default);t.default=l},1161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15)),l=o(r(1162)),s=o(r(752)),u=r(31),c=r(1164);function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p(d(d(n=o.call.apply(o,[this].concat(t))||this)),"createHandleClick",function(r){return function(e){var t=e.ctrlKey||e.shiftKey||e.metaKey;!r.articleId||r.url&&t||(e.preventDefault(),n.props.onArticleCardClick(r.articleId,{comment_id:n.props.part.id,url:r.url}))}}),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return(0,i.default)({"intercom-link-card-container":!this.props.isBorderless&&!this.props.isInline,"intercom-block intercom-block-link":this.props.isInline,"intercom-link-card-container-borderless":this.props.isBorderless,"intercom-link-card-container-message":this.props.part.isMessage})},n.getLinkCardClassNames=function(){var e=this.context.isPrimaryColorLight;return(0,i.default)({"intercom-link-card-grouped":1!==this.props.part.body.length,"intercom-link-card":!0,"intercom-link-card-light":e()})},n.getAvatarClassName=function(){var e=this.props.isBorderless;return(0,i.default)({"intercom-link-card-avatar":!e,"intercom-borderless-card-avatar intercom-borderless-link-card-avatar":e})},n.renderAdminAvatar=function(){return a.default.createElement("div",{className:this.getAvatarClassName()},a.default.createElement(s.default,{author:this.props.part.author}))},n.buildAuthor=function(e){return{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}},n.renderAuthor=function(e){return a.default.createElement("div",{className:"intercom-link-card-author"},a.default.createElement("div",{className:"intercom-link-card-author-avatar"},a.default.createElement(s.default,{author:e})),a.default.createElement("div",{className:"intercom-link-card-author-summary"},(0,u.translate)("written_by")+" ",a.default.createElement("span",{className:"intercom-link-card-author-name"},e.name)))},n.renderAskedAbout=function(){return a.default.createElement("div",{className:"intercom-link-card-asked-about"},(0,u.translate)("asked_about"))},n.renderLinkCardTitle=function(e){return a.default.createElement("div",{type:e.linkType,className:"intercom-link-card-title"},"educate.help_center"===e.linkType?a.default.createElement("span",{className:"intercom-link-card-title-link-icon"},a.default.createElement(c.HelpCenterIcon,null),e.title):e.title)},n.renderLinkCardFooter=function(e){return a.default.createElement("div",{className:"intercom-link-card-footer"},e.description?a.default.createElement("div",{className:"intercom-link-card-description"},e.description):null,e.author&&e.author.name?this.renderAuthor(this.buildAuthor(e.author)):null)},n.renderLinkCards=function(){var r=this,e=this.props.part.body,n=1===e.length;return e.map(function(e,t){return a.default.createElement("a",{href:e.url,onClick:r.createHandleClick(e),key:t.toString(),className:r.getLinkCardClassNames(),target:"_blank",rel:"nofollow noreferrer noopener",ref:function(e){return r.linkRef=e},tabIndex:"0"},a.default.createElement("div",{className:"intercom-link-card-content-container"},r.renderLinkCardTitle(e),n?r.renderLinkCardFooter(e):null),r.props.openArticleId===e.articleId?a.default.createElement(l.default,{returnFocus:r.linkRef&&r.linkRef.focus.bind(r.linkRef)}):null)})},n.render=function(){return a.default.createElement("div",{className:this.getClassNames()},!this.props.part.isMessage&&this.props.hasAvatar?this.renderAdminAvatar():null,this.props.part.isMessage?this.renderAskedAbout():null,a.default.createElement("div",{className:"intercom-link-card-inner-container"},this.renderLinkCards()))},r}(a.Component);p(t.default=f,"contextTypes",{isPrimaryColorLight:n.default.func}),f.defaultProps={isInline:!1,hasAvatar:!0,isBorderless:!1},f.propTypes={openArticleId:n.default.string,part:n.default.shape({id:n.default.string,isMessage:n.default.bool,author:n.default.object.isRequired,body:n.default.array.isRequired}).isRequired,hasAvatar:n.default.bool,isBorderless:n.default.bool,isInline:n.default.bool,onArticleCardClick:n.default.func.isRequired}},1162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1163))&&n.__esModule?n:{default:n};var l=Object.assign,i=r(53),s=r(1046),u=s.closeArticle,c=s.createArticleReaction,d=function(e){var t=e.article,r=e.app;return{appName:r.name,article:t,conversationId:r.conversationId}};t.mapStateToProps=d;var p=function(r){return{onClose:function(){r(u(i))},onReactionSelect:function(e,t){r(c(i,e,t))}}};t.mapDispatchToProps=p;var f=function(e,t,r){var n=l({},e,t,r),o=n.article,a=n.onReactionSelect,i=o&&o.id;return l(n,{onReactionSelect:a.bind(null,i)})};t.mergeProps=f;var m=(0,o.connect)(d,p,f)(a.default);t.default=m},1163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=o(r(70)),a=o(r(15)),s=o(r(1033)),u=o(r(1030)),c=o(r(1025)),d=o(r(752)),p=o(r(1034)),f=r(31);function o(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r(818).lastUpdatedTimeInWords,b=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(h(h(a=n.call.apply(n,[this].concat(t))||this)),"state",{isScrolled:!1}),v(h(h(a)),"handleScroll",function(e){a.setState({isScrolled:0<e.target.scrollTop})}),v(h(h(a)),"setBodyHeight",function(e){e&&a.setState({bodyHeight:l.default.findDOMNode(e).clientHeight})}),v(h(h(a)),"setFooterHeight",function(e){e&&a.setState({footerHeight:l.default.findDOMNode(e).clientHeight})}),v(h(h(a)),"setContainerHeight",function(e){e&&a.setState({containerHeight:l.default.findDOMNode(e).clientHeight})}),v(h(h(a)),"handleOnClose",function(){var e=a.props,t=e.article,r=e.conversationId,n=e.onClose,o=e.returnFocus;a.context.addMetric("closed","article","in_app","from_close_button",{owner:"educate",article_id:t&&t.id,conversation_id:r},"educate_event"),n(),o&&o()}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.getClassNames=function(){return(0,a.default)({"intercom-post":!0,"intercom-article":!0,"intercom-post-scrolled":this.state.isScrolled})},o.getFooterHeight=function(){return this.state.footerHeight||0},o.getBodyWidth=function(){return Math.min(800,window.parent.innerWidth)-80},o.renderReactionPicker=function(){var e=this.props,t=e.article.reactionsReply,r=e.onReactionSelect;return i.default.createElement(p.default,m({},t,{prompt:(0,f.translate)("article_question"),onReactionSelect:r}))},o.getAuthor=function(){var e=this.props.article.card.author;return e?{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}:null},o.render=function(){var t=this,e=this.props,r=e.article,n=e.frameWindow,o=e.returnFocus;if(!r||!r.id)return null;var a=this.getAuthor();return i.default.createElement(s.default,{onClose:this.handleOnClose,showCloseOverlay:!1,frameWindow:n,returnFocus:o},i.default.createElement("div",{className:"intercom-post-container",ref:this.setContainerHeight},i.default.createElement("div",{className:this.getClassNames()},i.default.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t.handleOnClose,"aria-label":(0,f.translate)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOnClose(e)},role:"button",tabIndex:"0"}," "),i.default.createElement("div",{className:"intercom-post-body"},i.default.createElement(u.default,{ref:this.setBodyHeight,onScroll:this.handleScroll},i.default.createElement("div",{className:"intercom-article-content"},i.default.createElement("h1",{className:"intercom-article-title"},r.card.title),i.default.createElement("div",{className:"intercom-article-description"},r.card.body||r.card.description),i.default.createElement("div",{className:"intercom-authored-container"},i.default.createElement("div",{className:"intercom-authored-container-avatar"},a&&i.default.createElement(d.default,{author:a})),i.default.createElement("div",{className:"intercom-author-summary"},i.default.createElement("div",{className:"intercom-author-summary-name-from"},i.default.createElement("span",{className:"intercom-author-summary-from-clause"},(0,f.translate)("written_by")+" "),i.default.createElement("span",{className:"intercom-author-summary-name"},a.name)),i.default.createElement("div",null,i.default.createElement("span",{className:"intercom-author-summary-from-clause"},y(Date.parse(r.card.updatedAt)))))),i.default.createElement(c.default,{blocks:r.blocks,maxImageWidth:this.getBodyWidth(),frameWindow:n})))),i.default.createElement("div",{ref:this.setFooterHeight,className:"intercom-post-footer intercom-post-footer-visible"},r.reactionsReply?this.renderReactionPicker():null))))},r}(i.Component);(t.default=b).propTypes={appName:n.default.string.isRequired,article:n.default.object.isRequired,onClose:n.default.func.isRequired,returnFocus:n.default.func,onReactionSelect:n.default.func.isRequired,conversationId:n.default.string.isRequired,frameWindow:n.default.object},b.contextTypes={addMetric:n.default.func}},1164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelpCenterIcon=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};t.HelpCenterIcon=function(){return o.default.createElement("svg",{viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{strokeWidth:"1",fillRule:"evenodd"},o.default.createElement("g",{fillRule:"nonzero"},o.default.createElement("g",null,o.default.createElement("path",{d:"M1,14 L1,4 L8.11538462,4 C8.39152699,4 8.61538462,3.77614237 8.61538462,3.5 C8.61538462,3.22385763 8.39152699,3 8.11538462,3 L0.5,3 C0.223857625,3 0,3.22385763 0,3.5 L0,14.5 C0,14.7761424 0.223857625,15 0.5,15 L11.5,15 C11.7761424,15 12,14.7761424 12,14.5 L12,7.73076923 C12,7.45462686 11.7761424,7.23076923 11.5,7.23076923 C11.2238576,7.23076923 11,7.45462686 11,7.73076923 L11,14 L1,14 Z"}),o.default.createElement("path",{d:"M5.35355339,10.3535534 L12.8535534,2.85355339 C13.0488155,2.65829124 13.0488155,2.34170876 12.8535534,2.14644661 C12.6582912,1.95118446 12.3417088,1.95118446 12.1464466,2.14644661 L4.64644661,9.64644661 C4.45118446,9.84170876 4.45118446,10.1582912 4.64644661,10.3535534 C4.84170876,10.5488155 5.15829124,10.5488155 5.35355339,10.3535534 Z"}),o.default.createElement("path",{d:"M14,5.5 C14,5.77614237 14.2238576,6 14.5,6 C14.7761424,6 15,5.77614237 15,5.5 L15,0.5 C15,0.223857625 14.7761424,9.43689571e-16 14.5,8.8817842e-16 L9.5,0 C9.22385763,-4.90527396e-17 9,0.223857625 9,0.5 C9,0.776142375 9.22385763,1 9.5,1 L14,1 L14,5.5 Z"})))))}},1165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15)),l=o(r(752)),s=o(r(1166));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassNames=function(){return(0,i.default)({"intercom-notification-channels-card":!0,"intercom-notification-channels-card-borderless":this.props.isBorderless})},o.getAvatarClassName=function(){var e=this.props.isBorderless;return(0,i.default)({"intercom-notification-channels-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},o.renderAdminAvatar=function(){return a.default.createElement("div",{className:this.getAvatarClassName()},a.default.createElement(l.default,{author:this.props.part.author}))},o.render=function(){return a.default.createElement("div",{className:this.getClassNames()},this.props.hasAvatar?this.renderAdminAvatar():null,a.default.createElement(s.default,{nextPart:this.props.nextPart}))},n}(a.Component);(t.default=u).defaultProps={hasAvatar:!0,isBorderless:!1},u.propTypes={part:n.default.object.isRequired,nextPart:n.default.object,hasAvatar:n.default.bool,isBorderless:n.default.bool}},1166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1167))&&n.__esModule?n:{default:n};var i=r(53),l=r(730),s=l.updateUserSuppliedEmail,u=l.updatePhoneNumber,c=l.inputValueChanged,d=function(e){var t=e.app,r=t.conversationId,n=t.smsEnabled,o=e.user,a=o.id,i=o.role,l=o.userSuppliedEmail,s=o.name,u=o.phoneNumber,c=o.countryCode,d=e.notificationChannels;return{conversationId:r,userId:a,userRole:i,userCountryCode:c,userSuppliedEmail:l,userName:s,phoneNumber:u,smsEnabled:n,isSaving:d.isSaving,showErrorMessage:d.showErrorMessage,errorMessage:d.errorMessage}};t.mapStateToProps=d;var p=function(t){return{onEmailCollectorSubmit:function(e){t(s(i,e))},onPhoneNumberCollectorSubmit:function(e){t(u(i,e))},onInputChange:function(){t(c())}}};t.mapDispatchToProps=p;var f=(0,o.connect)(d,p,function(e,t,r){var n={onInputChange:function(){return t.onInputChange()}};return Object.assign({},r,e,t,n)})(a.default);t.default=f},1167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(399)),n=o(r(7)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=o(r(15)),s=r(31),u=o(r(1168)),c=r(1169),d=r(1044),p=r(1038);function o(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,o=(0,c.visitorOrLeadHasEmail)(t,r),a=(0,c.visitorOrLeadHasPhoneNumber)(t,n);return o||a},v=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(f(f(r=o.call.apply(o,[this].concat(t))||this)),"state",{showEmailCollector:!0,showPhoneNumberCollector:!1,hasExistingChannel:h(r.props),channelProvided:!1,prevProps:r.props}),m(f(f(r)),"addNotificationChannelMetric",function(e,t){r.context.addMetric(e,"notification_channel_"+t,"messenger","in_conversation",{conversation_id:r.props.conversationId})}),m(f(f(r)),"addNotificationChannelShownMetric",function(e){r.addNotificationChannelMetric("received",e)}),m(f(f(r)),"addNotificationChannelStartMetric",function(e){r.addNotificationChannelMetric("started",e)}),m(f(f(r)),"addNotificationChannelCompleteMetric",function(e){r.addNotificationChannelMetric("completed",e)}),m(f(f(r)),"handleEmailClick",function(){r.addNotificationChannelStartMetric("email"),r.setState({showEmailCollector:!0,showPhoneNumberCollector:!1}),r.props.onInputChange()}),m(f(f(r)),"handleSmsClick",function(){r.addNotificationChannelStartMetric("sms"),r.setState({showEmailCollector:!1,showPhoneNumberCollector:!0}),r.props.onInputChange()}),m(f(f(r)),"handleEmailCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric(r.getEmailCollectorMetricName()),r.props.onEmailCollectorSubmit(e)}),m(f(f(r)),"handlePhoneNumberCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric("sms"),r.props.onPhoneNumberCollectorSubmit(e)}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.recordMetrics()},r.getDerivedStateFromProps=function(e,t){if(!t||(0,a.default)(e,t.prevProps))return null;var r=h(e),n={prevProps:e,hasExistingChannel:r};return t.hasExistingChannel||(n.channelProvided=r),n},n.recordMetrics=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.smsEnabled,o=(0,c.visitorOrLeadHasEmail)(t,r);n&&!this.state.hasExistingChannel?this.recordChannelMetrics():n||o||this.addNotificationChannelShownMetric(this.getEmailCollectorMetricName())},n.recordChannelMetrics=function(){var e=this.props.smsEnabled;this.addNotificationChannelShownMetric("options"),this.addNotificationChannelShownMetric("email"),e&&this.addNotificationChannelShownMetric("sms")},n.getEmailCollectorMetricName=function(){return this.props.smsEnabled?"email":"email_collector"},n.existingChannelText=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,o=(0,c.visitorOrLeadHasPhoneNumber)(t,n);return(0,c.visitorOrLeadHasEmail)(t,r)?(0,s.translate)("youll_be_notified_here_and_by_email"):o?(0,s.translate)("youll_be_notified_here_and_by_sms"):void 0},n.existingChannelValue=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,o=(0,c.visitorOrLeadHasPhoneNumber)(t,n);return(0,c.visitorOrLeadHasEmail)(t,r)?r:o?n:void 0},n.optionSelected=function(){return this.state.showEmailCollector||this.state.showPhoneNumberCollector},n.getTitle=function(){return this.props.smsEnabled?(0,s.translate)("get_notified"):(0,s.translate)("get_notified_by_email")},n.getClassNames=function(){var e=this.props.nextPart,t=this.state,r=t.hasExistingChannel,n=t.channelProvided,o=!!e,a=o&&e.author.isAdmin;return(0,l.default)({"intercom-notification-channels":!0,"intercom-notification-channels-success":r&&n,"intercom-notification-channels-next-part-by-admin":o&&a,"intercom-notification-channels-last-part":!o})},n.getOptionContainerClassName=function(){var e=this.state,t=e.hasExistingChannel,r=e.channelProvided;return(0,l.default)({"intercom-notification-channels-option-container":!0,"intercom-notification-channels-option-container-success":t&&r})},n.getOptionClassName=function(e){return(0,l.default)({"intercom-anchor":!0,"intercom-notification-channels-option":!0,"intercom-notification-channels-option-selected":e})},n.renderPhoneNumberCollector=function(){var e=(0,p.countryPrefixByCode)(this.props.userCountryCode);return i.default.createElement(u.default,{name:"phone",initialValue:e,placeholder:" 123 456 7890",initialCountryCode:this.props.userCountryCode,isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:p.isValid,onSubmit:this.handlePhoneNumberCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderEmailCollector=function(){return i.default.createElement(u.default,{name:"email",ariaLabel:"Enter your email",placeholder:"email@domain.com",isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:d.isValidEmail,onSubmit:this.handleEmailCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderChannelsBody=function(){return this.state.showEmailCollector?this.renderEmailCollector():this.state.showPhoneNumberCollector?this.renderPhoneNumberCollector():void 0},n.renderOption=function(e,t,r){return i.default.createElement("span",{className:this.getOptionClassName(t),onClick:r,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r(e)},role:"button",tabIndex:"0"},(0,s.translate)(e))},n.renderEmailOption=function(){return this.renderOption("email",this.state.showEmailCollector,this.handleEmailClick)},n.renderSmsOption=function(){return this.renderOption("sms",this.state.showPhoneNumberCollector,this.handleSmsClick)},n.renderOptions=function(){return i.default.createElement("div",{className:this.getOptionContainerClassName()},this.renderEmailOption(),this.props.smsEnabled?this.renderSmsOption():null)},n.renderChannelOptions=function(){return i.default.createElement("div",{className:"intercom-notification-channels-options"},i.default.createElement("div",{className:"intercom-notification-channels-title-container"},i.default.createElement("div",{className:"intercom-notification-channels-title"},this.getTitle()),i.default.createElement("div",{className:"intercom-notification-channels-title-success"},this.existingChannelText())),this.props.smsEnabled?this.renderOptions():null,this.renderChannelsBody())},n.renderExistingValue=function(){return i.default.createElement("div",{className:"intercom-notification-channels-existing-value"},this.existingChannelValue())},n.renderSuccessMessage=function(){return i.default.createElement("div",{className:"intercom-notification-channels-success-message"},i.default.createElement("div",{className:"intercom-notification-channels-title"},this.existingChannelText()),this.renderExistingValue())},n.render=function(){var e=this.state,t=e.hasExistingChannel,r=e.channelProvided;return i.default.createElement("div",{className:this.getClassNames()},t&&!r?this.renderSuccessMessage():this.renderChannelOptions())},r}(i.Component);(t.default=v).propTypes={conversationId:n.default.string.isRequired,userId:n.default.string.isRequired,userRole:n.default.oneOf(["user","lead","visitor"]),userCountryCode:n.default.string,userSuppliedEmail:n.default.string,userName:n.default.string,phoneNumber:n.default.string,isSaving:n.default.bool.isRequired,errorMessage:n.default.string,showErrorMessage:n.default.bool.isRequired,smsEnabled:n.default.bool.isRequired,nextPart:n.default.object,onEmailCollectorSubmit:n.default.func.isRequired,onPhoneNumberCollectorSubmit:n.default.func.isRequired,onInputChange:n.default.func.isRequired},v.contextTypes={addMetric:n.default.func}},1168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(r(399)),n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=r(127),s=o(r(70)),u=o(r(15)),c=r(31),d=r(1038),p=r(69);function o(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=r(24).isMobileBrowser,v=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m(f(f(o=n.call.apply(n,[this].concat(t))||this)),"state",{value:o.props.initialValue,valueChanged:!1,showErrorMessage:!1,prevProps:o.props}),m(f(f(o)),"handleFocus",function(e){if(h())o.focusTimeout=setTimeout(function(){var e=s.default.findDOMNode(f(f(o))),t=e.closest(".intercom-conversation-body-parts");(0,p.scrollToCenterIfNeeded)(e,t)},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),m(f(f(o)),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(o.handleSubmit(),e.preventDefault())}),m(f(f(o)),"handleKeyUp",function(){o.props.onInputChange()}),m(f(f(o)),"handleSubmitButtonClick",function(e){o.isDisabled()||(e.preventDefault(),o.handleSubmit())}),m(f(f(o)),"handleSubmit",function(){var e=o.state.value,t=o.props,r=t.isValid,n=t.onSubmit;r(e)?(n(e),o.notificationChannelsInput.blur(),o.setState({showErrorMessage:!1})):o.setState({showErrorMessage:!0})}),m(f(f(o)),"handleInputChange",function(e){var t=e.target.value;o.setState({value:t,showErrorMessage:!1}),o.state.valueChanged||o.setState({valueChanged:o.valueHasChanged()})}),m(f(f(o)),"handleInputClick",function(){o.notificationChannelsInput.focus()}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},r.getDerivedStateFromProps=function(e,t){if(!t||(0,l.default)(e,t.prevProps))return null;var r=e.name,n=e.isSaving,o=e.hasExistingChannel,a=e.initialValue,i=r===t.prevProps.name?t.value:a;return n||o?{prevProps:e}:{value:i,prevProps:e,valueChanged:!1,showErrorMessage:!1}},o.valueHasChanged=function(){return this.state.value!==this.props.initialValue},o.valueIsEmpty=function(){return""===this.state.value},o.isPhone=function(){return"phone"===this.props.name},o.shouldShowPlaceholder=function(){return this.state.valueChanged?this.valueIsEmpty():this.valueIsEmpty()||!this.valueHasChanged()},o.isDisabled=function(){return this.props.isSaving||this.props.channelProvided},o.getInputType=function(){switch(this.props.name){case"phone":return"text";case"email":return"email";default:return"text"}},o.getErrorMessage=function(){switch(this.props.name){case"phone":var e=(0,d.getErrorCode)(this.state.value);return e?(0,c.translate)(e):this.props.errorMessage;case"email":return(0,c.translate)("that_email_address_doesnt_look_quite_right");default:return"That value doesn't look quite right"}},o.showErrorMessage=function(){return this.state.showErrorMessage||this.props.showErrorMessage},o.getInputClassNames=function(){return(0,u.default)({"intercom-notification-channels-input":!0,"intercom-notification-channels-input-success":this.props.channelProvided,"intercom-notification-channels-input-error":this.showErrorMessage(),"intercom-notification-channels-phone-input":this.isPhone()})},o.getSubmitClassNames=function(){return(0,u.default)({"intercom-notification-channels-input-submit-button":!0,"intercom-notification-channels-input-submit-button-saving":this.isDisabled(),"intercom-notification-channels-input-submit-button-success":this.props.channelProvided})},o.getContainerClassNames=function(){return(0,u.default)({"intercom-notification-channels-input-submit-container":!0,"intercom-notification-channels-input-submit-container-deactivated":this.props.channelProvided})},o.renderFlag=function(){var e=(0,d.countryByDialCode)(this.state.value),t=e?e.code:this.props.initialCountryCode;return a.default.createElement("div",{className:"intercom-flag "+t})},o.renderPlaceholder=function(){var e=this.props,t=e.initialValue,r=e.placeholder,n=this.valueIsEmpty()?{}:{visibility:"hidden"};return a.default.createElement("span",{className:"intercom-notification-channels-placeholder"},a.default.createElement("span",{style:n},t),r)},o.renderErrorMessage=function(){return a.default.createElement(i.CSSTransition,{classNames:"intercom-notification-channels-error",timeout:500},a.default.createElement("div",{key:"notification-channels-error",className:"intercom-notification-channels-error"},a.default.createElement("p",{className:"intercom-notification-channels-error-text",role:"alert"},this.getErrorMessage())))},o.render=function(){var e,t=this;return a.default.createElement("div",{className:"intercom-notification-channels-input-collector",onClick:t.handleInputClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},a.default.createElement("div",{className:"intercom-notification-channels-input-container"},a.default.createElement("div",{className:this.getInputClassNames()},this.isPhone()?this.renderFlag():null,this.shouldShowPlaceholder()?this.renderPlaceholder():null,a.default.createElement("input",((e={autoFocus:!0,ref:function(e){return t.notificationChannelsInput=e},name:this.getInputType(),type:this.getInputType()}).name="intercom-channel-collector",e.disabled=this.isDisabled(),e.value=this.state.value,e.autoComplete="off",e.onFocus=this.handleFocus,e.onKeyDown=this.handleKeyDown,e.onKeyUp=this.handleKeyUp,e.onChange=this.handleInputChange,e["aria-label"]=this.props.ariaLabel,e))),a.default.createElement("div",{className:this.getContainerClassNames()},a.default.createElement("div",{className:this.getSubmitClassNames(),onTouchEnd:this.handleSubmitButtonClick,onClick:t.handleSubmitButtonClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleSubmitButtonClick(e)},role:"button",tabIndex:"0"},a.default.createElement("div",{className:"intercom-notification-channels-input-submit-icon"}),a.default.createElement("div",{className:"intercom-notification-channels-input-valid-icon"})))),a.default.createElement(i.TransitionGroup,null,this.showErrorMessage()?this.renderErrorMessage():null))},r}(a.Component);(t.default=v).defaultProps={initialValue:"",isSaving:!1,initialCountryCode:"us"},v.propTypes={name:n.default.oneOf(["phone","email"]).isRequired,initialValue:n.default.string,placeholder:n.default.string.isRequired,showErrorMessage:n.default.bool.isRequired,errorMessage:n.default.string,ariaLabel:n.default.string,initialCountryCode:n.default.string,isSaving:n.default.bool,channelProvided:n.default.bool.isRequired,isValid:n.default.func.isRequired,onSubmit:n.default.func.isRequired,onInputChange:n.default.func.isRequired,hasExistingChannel:n.default.bool}},1169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visitorOrLeadHasPhoneNumber=t.visitorOrLeadHasEmail=void 0;t.visitorOrLeadHasEmail=function(e,t){return n(e)&&!o(t)};t.visitorOrLeadHasPhoneNumber=function(e,t){return n(e)&&!o(t)};var n=function(e){return"visitor"===e||"lead"===e},o=function(e){return void 0===e||""===e}},1170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15)),l=o(r(752)),s=o(r(1171));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){return(0,i.default)({"intercom-conversation-rating-card":!0,"intercom-conversation-rating-card-borderless":this.props.isBorderless})},o.getAvatarClassName=function(){var e=this.props.isBorderless;return(0,i.default)({"intercom-conversation-rating-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},o.renderAdminAvatar=function(){return a.default.createElement("div",{className:this.getAvatarClassName()},a.default.createElement(l.default,{author:this.props.part.author}))},o.render=function(){return a.default.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAdminAvatar():null,a.default.createElement(s.default,{nextPart:this.props.nextPart,part:this.props.part}))},n}(a.Component);(t.default=u).defaultProps={hasAvatar:!0,isBorderless:!1},u.propTypes={part:n.default.object.isRequired,nextPart:n.default.object,hasAvatar:n.default.bool,isBorderless:n.default.bool}},1171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1172))&&n.__esModule?n:{default:n};var i=r(53),l=r(1176),s=l.updateConversationRatingIndex,u=l.updateConversationRatingRemark,c=function(e){return{conversationId:e.app.conversationId}};t.mapStateToProps=c;var d=function(r){return{onRemarkSubmit:function(e,t){r(u(i,e,t))},onRatingChosen:function(e,t){r(s(i,e,t))}}};t.mapDispatchToProps=d;var p=(0,o.connect)(c,d,function(e,t,r){var n=e.conversationId,o=r.part.conversationRating,a={onRemarkSubmit:function(e){return t.onRemarkSubmit(n,e)},onRatingChosen:function(e){return t.onRatingChosen(n,e)},chosenRating:o.chosenRating,remark:o.remark,submitted:o.submitted};return Object.assign({},r,e,t,a)})(a.default);t.default=p},1172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=r(127),i=l(r(692)),s=l(r(70)),u=l(r(15)),c=r(31),d=r(69),p=l(r(1173)),f=l(r(1174)),m=l(r(1175));function l(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(l){var e,t;function r(){for(var e,t,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=l.call.apply(l,[this].concat(a))||this,t=h(h(e)),n=function(){e.scrollConversationParts()},(r="handleRemarkChange")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){this.hasChosenFirstRating(e)&&this.scrollConversationParts()},n.hasChosenFirstRating=function(e){var t=e.chosenRating,r=this.props.chosenRating;return void 0===t&&void 0!==r},n.scrollConversationParts=function(){if(void 0===this.props.nextPart){var e=s.default.findDOMNode(this).closest(".intercom-conversation-body-parts");e&&(0,d.scrollToBottom)(e)}},n.hasRating=function(){return 0<this.props.chosenRating},n.shouldShowThanks=function(){var e=this.props.submitted;return this.hasRemark()||e},n.hasRemark=function(){var e=this.props.remark;return void 0!==e&&""!==e},n.isChosen=function(e){return this.props.chosenRating===e},n.isOtherChosen=function(e){return this.hasRating()&&!this.isChosen(e)},n.getClassName=function(){var e=this.props.nextPart,t=!!e,r=t&&e.author.isAdmin;return(0,u.default)({"intercom-conversation-rating":!0,"intercom-conversation-rating-next-part-by-admin":t&&r,"intercom-conversation-rating-last-part":!t})},n.renderThanksMessage=function(){return o.default.createElement("div",{className:"intercom-conversation-rating-thanks-wrapper",key:"conversation-rating-thanks"},o.default.createElement("div",{className:"intercom-conversation-rating-thanks-container"},o.default.createElement("div",{className:"intercom-conversation-rating-chosen-rating"},(0,c.translate)("you_rated_the_conversation")," ",o.default.createElement(f.default,{ratingIndex:this.props.chosenRating})),o.default.createElement("div",{className:"intercom-conversation-rating-thanks"},(0,c.translate)("thanks_for_letting_us_know"))),this.hasRemark()?this.renderRemark():null)},n.renderRemark=function(){return o.default.createElement("div",{className:"intercom-conversation-rating-thanks-remark"},this.props.remark)},n.renderRatingForm=function(){return o.default.createElement("div",{key:"conversation-rating-form"},this.renderRatingOptions(),o.default.createElement(a.TransitionGroup,null,this.hasRating()?this.renderRemarkInput():null))},n.renderRatingOptions=function(){for(var e=[],t=1;t<=5;t++)e.push(o.default.createElement(m.default,{key:t,ratingIndex:t,chosen:this.isChosen(t),otherChosen:this.isOtherChosen(t),onRatingChosen:this.props.onRatingChosen}));return o.default.createElement("div",{className:"intercom-conversation-rating-options-container"},o.default.createElement("div",{className:"intercom-conversation-rating-title-container"},o.default.createElement("div",{className:"intercom-conversation-rating-title"},(0,c.translate)("rate_your_conversation"))),o.default.createElement("div",{className:"intercom-conversation-rating-emojis-container"},e))},n.renderRemarkInput=function(){return o.default.createElement(a.CSSTransition,{classNames:"intercom-conversation-rating-remark-container",timeout:{enter:500,exit:500}},o.default.createElement(p.default,{placeholder:(0,c.translate)("tell_us_more"),onChange:this.handleRemarkChange,onSubmit:this.props.onRemarkSubmit}))},n.render=function(){return o.default.createElement("div",{className:this.getClassName()},o.default.createElement(i.default,{transitionName:"intercom-conversation-rating",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.shouldShowThanks()?this.renderThanksMessage():this.renderRatingForm()))},r}(o.Component);(t.default=v).propTypes={chosenRating:n.default.number,remark:n.default.string,submitted:n.default.bool,nextPart:n.default.object,part:n.default.object,onRemarkSubmit:n.default.func.isRequired,onRatingChosen:n.default.func.isRequired}},1173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(70)),l=o(r(15)),s=r(69);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r(24).isMobileBrowser,p=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(u(u(r=o.call.apply(o,[this].concat(t))||this)),"state",{text:r.props.initialValue}),c(u(u(r)),"handleFocus",function(e){if(d())r.focusTimeout=setTimeout(function(){var e=i.default.findDOMNode(u(u(r))),t=e.closest(".intercom-conversation-body-parts");(0,s.scrollToCenterIfNeeded)(e,t)},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),c(u(u(r)),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(r.handleSubmit(),e.preventDefault())}),c(u(u(r)),"handleSubmitButtonClick",function(e){e.preventDefault(),r.handleSubmit()}),c(u(u(r)),"handleInputClick",function(){r.conversationRatingInput.focus()}),c(u(u(r)),"handleInputChange",function(e){var t=e.target.value;r.setState({text:t}),r.props.onChange()}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},n.handleSubmit=function(){var e=this.state.text;(0,this.props.onSubmit)(e),this.conversationRatingInput.blur()},n.getInputClassNames=function(){return(0,l.default)({"intercom-conversation-rating-input":!0})},n.getSubmitClassNames=function(){return(0,l.default)({"intercom-conversation-rating-input-submit-button":!0})},n.getContainerClassNames=function(){return(0,l.default)({"intercom-conversation-rating-input-submit-container":!0})},n.render=function(){var e,t=this,r=this.state.text;return a.default.createElement("div",{className:"intercom-conversation-rating-remark-container",onClick:t.handleInputClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},a.default.createElement("div",{className:"intercom-conversation-rating-input-container"},a.default.createElement("div",{className:this.getInputClassNames()},a.default.createElement("pre",null,r,a.default.createElement("br",null)),a.default.createElement("textarea",((e={name:"message",autoFocus:!0,ref:function(e){return t.conversationRatingInput=e},type:"text"}).name="intercom-conversation-rating-remark",e.value=r,e.placeholder=this.props.placeholder,e.onFocus=this.handleFocus,e.onKeyDown=this.handleKeyDown,e.onChange=this.handleInputChange,e))),a.default.createElement("div",{className:this.getContainerClassNames()},a.default.createElement("div",{className:this.getSubmitClassNames(),onTouchEnd:this.handleSubmitButtonClick,onClick:t.handleSubmitButtonClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleSubmitButtonClick(e)},role:"button",tabIndex:"0"},a.default.createElement("div",{className:"intercom-conversation-rating-input-submit-icon"})))))},r}(a.Component);(t.default=p).defaultProps={initialValue:""},p.propTypes={initialValue:n.default.string,placeholder:n.default.string.isRequired,onSubmit:n.default.func.isRequired,onChange:n.default.func.isRequired}},1174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e,t=this.props.ratingIndex;return(0,i.default)(((e={"intercom-conversation-rating-emoji-thanks":!0})["intercom-conversation-rating-emoji-"+t]=!0,e))},o.render=function(){return a.default.createElement("span",{className:this.getClassName()})},n}(a.Component);(t.default=l).propTypes={ratingIndex:n.default.number.isRequired}},1175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=l(r(15)),i=r(31);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u={1:{emoji:"😠",unicode:"1f620",tooltipKey:"terrible"},2:{emoji:"🙁",unicode:"1f615",tooltipKey:"bad"},3:{emoji:"😐",unicode:"1f610",tooltipKey:"ok_description"},4:{emoji:"😃",unicode:"1f603",tooltipKey:"great"},5:{emoji:"🤩",unicode:"1f929",tooltipKey:"amazing"}},c=function(l){var e,t;function r(){for(var n,e,t,r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=l.call.apply(l,[this].concat(a))||this,e=s(s(n)),r=function(e){e.preventDefault();var t=n.props,r=t.ratingIndex;(0,t.onRatingChosen)(r)},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNameForContainer=function(){var e=this.props,t=e.chosen,r=e.otherChosen,n="";return t?n="chosen":r&&(n="other-chosen"),"intercom-conversation-rating-emoji-container "+n},n.getTooltip=function(){var e=this.props.ratingIndex;return(0,i.translate)(u[e].tooltipKey)},n.renderEmojiImage=function(){var e,t=this,r=this.props.ratingIndex,n=(0,a.default)(((e={"intercom-anchor":!0,"intercom-conversation-rating-emoji":!0})["intercom-conversation-rating-emoji-"+r]=!0,e));return o.default.createElement("span",{className:n,onClick:t.handleClick,"aria-label":this.getTooltip(),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"})},n.render=function(){var e=this.getTooltip();return o.default.createElement("div",{className:"intercom-conversation-rating-emoji-wrapper"},o.default.createElement("div",{className:this.getClassNameForContainer()},this.renderEmojiImage(),o.default.createElement("div",{className:"intercom-conversation-rating-emoji-tooltip"},e)))},r}(o.Component);(t.default=c).propTypes={ratingIndex:n.default.number.isRequired,chosen:n.default.bool,otherChosen:n.default.bool,onRatingChosen:n.default.func.isRequired}},1176:function(e,t,r){"use strict";function i(e,t){return{type:"CHANGE_CONVERSATION_RATING_INDEX",conversationId:e,ratingIndex:t}}function l(e,t){return{type:"ADD_CONVERSATION_RATING_REMARK",conversationId:e,remark:t}}e.exports={updateConversationRatingIndex:function(n,o,a){return function(e,t){e(i(o,a));var r=t().session;return n.changeConversationRatingIndex(r,o,a)}},updateConversationRatingRemark:function(n,o,a){return function(e,t){if(e(l(o,a)),void 0===a||""===a)return Promise.resolve();var r=t().session;return n.addConversationRatingRemark(r,o,a)}},changeConversationRatingIndex:i,addConversationRatingRemark:l}},1177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),s=o(r(15)),u=o(r(817)),c=o(r(1025));function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(l){var e,t;function r(){for(var e,t,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=l.call.apply(l,[this].concat(a))||this,t=d(d(e)),n=function(){return(0,s.default)({"intercom-pointer-body":!0})},(r="getBodyClassName")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return(0,s.default)({"intercom-pointer":!0,"intercom-pointer-inbox":!0,"intercom-pointer-body-full-width":!0})},n.render=function(){var e=this.props,t=e.part,r=e.appName,n=e.frameWindow,o=t.author,a=t.body;return i.default.createElement("div",{className:this.getClassNames()},i.default.createElement(u.default,{appName:r,isReplyStyle:!1,author:o},i.default.createElement("div",{className:this.getBodyClassName()},i.default.createElement(c.default,{blocks:a,frameWindow:n}),i.default.createElement("div",{className:"intercom-positioner-arrow"}))))},r}(i.Component);(t.default=a).propTypes={part:n.default.shape({id:n.default.string,author:n.default.object.isRequired,body:n.default.array.isRequired}).isRequired,appName:n.default.string,frameWindow:n.default.object}},1178:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(1043)),l=n(r(1179));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.shouldRenderNotificationChannelCollector=function(){var e=this.props.part.form;return!!e&&"notification_channel"===e.type},o.render=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isBorderless,o=e.frameWindow;return a.default.createElement("div",{className:"intercom-attribute-collector"},this.shouldRenderNotificationChannelCollector()?a.default.createElement(l.default,{part:t,hasAvatar:r,isBorderless:n}):a.default.createElement(i.default,{part:t,hasAvatar:r,isBorderless:n,frameWindow:o,key:JSON.stringify(t)}))},n}(a.PureComponent);t.default=o},1179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mergeProps=t.mapDispatchToProps=t.mapStateToProps=void 0;var n=r(38),o=a(r(1180)),l=a(r(53)),s=r(167);function a(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){return e.attributes.find(function(e){return e.identifier===t})},i=function(e,t){var r,n,o=t.part,a=o.id,i=o.form,l=e.user.countryCode||"us",s=e.app.conversationId,u=m(i,"email"),c=m(i,"phone"),d=void 0!==c,p=u.value,f=u.saveState;return d&&(r=c.value,n=c.saveState),{conversationId:s,partId:a,email:p,phoneNumber:r,emailSaveState:f,phoneNumberSaveState:n,isPhoneNumberEnabled:d,defaultCountryCode:l}};t.mapStateToProps=i;var u=function(i){return{onAttributeSubmit:function(e,t,r,n,o){var a=r;i((0,s.updateConversationForm)(l.default,e,t,r,n,a,o,!1))}}};t.mapDispatchToProps=u;var c=function(t,r,n){return Object.assign({},t,r,n,{onEmailSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"email",e,n.part.form.type)},onPhoneNumberSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"phone",e,n.part.form.type)}})};t.mergeProps=c;var d=(0,n.connect)(i,u,c)(o.default);t.default=d},1180:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(399)),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15)),l=o(r(752)),u=o(r(1181)),c=o(r(1063)),d=o(r(1064)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(p(p(t=o.call.apply(o,[this].concat(r))||this)),"state",{channel:"saved"===t.props.phoneNumberSaveState?"phone":"email",prevProps:t.props}),f(p(p(t)),"handleChannelChange",function(e){t.setState({channel:e})}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props,r=e.part,n=e.conversationId,o=this.context.addMetric,a=r.form;a&&a.attributes.forEach(function(e){var t=e.identifier;o("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:n,part_id:r.id,attribute_identifier:t,attribute_type:t,form_type:a.type,attribute_is_custom_data:!1})})},r.getDerivedStateFromProps=function(e,t){return!t||(0,a.default)(e,t.prevProps)?null:("saved"===e.emailSaveState?r="email":"saved"===e.phoneNumberSaveState&&(r="phone"),r?{channel:r,prevProps:e}:{prevProps:e});var r},n.getClassName=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState,n=e.isBorderless,o="saved"===t||"saved"===r;return(0,i.default)({"intercom-notification-channel-collector-card":!0,"intercom-notification-channel-collector-card-saved":o,"intercom-notification-channel-collector-card-borderless":n})},n.renderAvatar=function(){return s.default.createElement("div",{className:"intercom-notification-channel-collector-card-avatar"},s.default.createElement(l.default,{author:this.props.part.author}))},n.renderControls=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState,n=e.isPhoneNumberEnabled,o="saved"===t,a="saved"===r;return s.default.createElement(u.default,{channel:this.state.channel,isEmailSaved:o,isPhoneNumberSaved:a,isPhoneNumberEnabled:n,onChannelChange:this.handleChannelChange})},n.renderAttribute=function(){var e=this.props,t=e.email,r=e.phoneNumber,n=e.emailSaveState,o=e.phoneNumberSaveState,a=e.defaultCountryCode,i=e.onEmailSubmit,l=e.onPhoneNumberSubmit;return"email"===this.state.channel?s.default.createElement(c.default,{value:t,saveState:n,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:i}):s.default.createElement(d.default,{value:r,key:r,saveState:o,defaultCountryCode:a,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:l})},n.render=function(){return s.default.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAvatar():null,s.default.createElement("div",{className:"intercom-notification-channel-collector-card-body"},this.renderControls(),this.renderAttribute()))},r}(s.PureComponent);(t.default=m).contextTypes={addMetric:n.default.func}},1181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(15))&&n.__esModule?n:{default:n},l=r(31);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(s(s(t=o.call.apply(o,[this].concat(r))||this)),"handleEmailChannelClick",function(e){e.preventDefault(),t.props.onChannelChange("email")}),u(s(s(t)),"handlePhoneNumberChannelClick",function(e){e.preventDefault(),t.props.onChannelChange("phone")}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isEmailSaved,r=e.isPhoneNumberSaved,n=t||r;return(0,i.default)({"intercom-notification-channel-collector-card-controls":!0,"intercom-notification-channel-collector-card-controls-saved":n})},n.getChannelClassName=function(e){var t=e===this.props.channel;return(0,i.default)({"intercom-anchor":!0,"intercom-notification-channel-collector-card-controls-channel":!0,"intercom-notification-channel-collector-card-controls-channel-selected":t})},n.renderChannels=function(){var t=this;return a.default.createElement("div",{className:"intercom-notification-channel-collector-card-controls-channels"},a.default.createElement("span",{className:this.getChannelClassName("email"),onClick:t.handleEmailChannelClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleEmailChannelClick(e)},role:"button",tabIndex:"0"},(0,l.translate)("email")),a.default.createElement("span",{className:this.getChannelClassName("phone"),onClick:t.handlePhoneNumberChannelClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handlePhoneNumberChannelClick(e)},role:"button",tabIndex:"0"},(0,l.translate)("sms")))},n.renderPrompt=function(){return a.default.createElement("div",{className:"intercom-notification-channel-collector-card-controls-prompt"},this.props.isPhoneNumberEnabled?(0,l.translate)("get_notified"):(0,l.translate)("get_notified_by_email"))},n.renderMessage=function(){return a.default.createElement("div",{className:"intercom-notification-channel-collector-card-controls-message"},this.props.isEmailSaved?(0,l.translate)("youll_be_notified_here_and_by_email"):(0,l.translate)("youll_be_notified_here_and_by_sms"))},n.render=function(){return a.default.createElement("div",{className:this.getClassName()},this.renderMessage(),this.renderPrompt(),this.props.isPhoneNumberEnabled?this.renderChannels():null)},r}(a.PureComponent);t.default=o},1182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(70)),l=o(r(752));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(818).absoluteTimeInWords,d=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(s(s(r=o.call.apply(o,[this].concat(t))||this)),"state",{tooltipVisible:!1}),u(s(s(r)),"handleMouseMove",function(e){var t=i.default.findDOMNode(s(s(r))).getBoundingClientRect();r.setState({lastMouseMovedAt:Date.now(),tooltipVisible:!1,tooltipTop:Math.round(e.clientY-t.top+10),tooltipLeft:Math.round(e.clientX-t.left-20)})}),u(s(s(r)),"handleMouseEnter",function(){r.interval=setInterval(function(){var e=Date.now()-r.state.lastMouseMovedAt;r.setState({tooltipVisible:500<e})},100)}),u(s(s(r)),"handleMouseLeave",function(){r.setState({tooltipVisible:!1}),clearInterval(r.interval)}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){clearInterval(this.interval)},n.renderAvatar=function(){return a.default.createElement("div",{className:"intercom-participant-event-avatar"},a.default.createElement(l.default,{author:this.props.part.eventData.participant}))},n.renderText=function(){return a.default.createElement("div",{className:"intercom-participant-event-text-container"},a.default.createElement("span",{className:"intercom-participant-event-text"},this.partTypeText()))},n.partTypeText=function(){return this.props.part.eventData.eventAsPlainText},n.renderTooltip=function(){var e=this.state,t=e.tooltipVisible,r=e.tooltipTop,n=e.tooltipLeft,o=this.props.part.createdAt;return t?a.default.createElement("div",{className:"intercom-comment-tooltip",style:{left:n,top:r}},c(o)):null},n.renderAccessibleTooltip=function(){var e=this.props.part.createdAt;return a.default.createElement("div",{className:"intercom-comment-accessibility-tooltip"},c(e))},n.render=function(){return a.default.createElement("div",{className:"intercom-participant-event",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove},this.renderAvatar(),this.renderText(),this.renderTooltip(),this.renderAccessibleTooltip())},r}(a.Component);(t.default=d).propTypes={part:n.default.shape({eventData:n.default.shape({participant:n.default.shape({initial:n.default.string.isRequired,label:n.default.string.isRequired,type:n.default.string.isRequired,avatar:n.default.object.isRequired}).isRequired,eventAsPlainText:n.default.string.isRequired}).isRequired,partType:n.default.string.isRequired,createdAt:n.default.instanceOf(Date)})}},1183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(7))&&n.__esModule?n:{default:n};var a,i,l,s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getChildContext=function(){return{onHeightChange:this.props.onHeightChange}},o.render=function(){return this.props.children},n}(r(2).PureComponent);t.default=s,a=s,i="childContextTypes",l={onHeightChange:o.default.func},i in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l},1184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=l(r(753)),i=r(31);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.admin;return o.default.createElement("div",{className:"intercom-typing-admin"},o.default.createElement("div",{className:"intercom-typing-admin-avatar"},o.default.createElement(a.default,{admin:e})),o.default.createElement("div",{className:"intercom-typing-admin-bubble"},o.default.createElement("div",{className:"intercom-typing-admin-dot-1"}),o.default.createElement("div",{className:"intercom-typing-admin-dot-2"}),o.default.createElement("div",{className:"intercom-typing-admin-dot-3"}),o.default.createElement("div",{className:"intercom-visually-hidden"},(0,i.translate)("typing"))))},n}(o.Component);(t.default=s).propTypes={admin:n.default.shape({firstName:n.default.string.isRequired})}},1186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(760)),i=o(r(399)),n=o(r(7)),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=o(r(15)),s=o(r(1078)),u=o(r(1079)),c=o(r(1189)),d=o(r(1081)),f=o(r(1031)),m=o(r(1082)),h=o(r(1065)),v=o(r(1192)),y=o(r(1029)),b=o(r(1193)),g=r(31),C=r(1048),_=r(446),O=r(1044),P=r(69),w=r(682);function o(e){return e&&e.__esModule?e:{default:e}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=r(24),k=S.isMobileBrowser,M=S.hasFileSupport,N=S.isIOS;var T=function(n){var e,t;function r(){for(var d,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return j(E(E(d=n.call.apply(n,[this].concat(t))||this)),"state",{text:d.props.defaultText||"",email:"",errorMessage:"",prevProps:d.props}),j(E(E(d)),"textHasChanged",function(e){return e.text!==d.state.text}),j(E(E(d)),"isSubmissionDisabled",function(){var e=d.props.conversation;if(!e)return!1;var t=e.parts,r=e.id;return(!t||0!==t.length)&&!r}),j(E(E(d)),"handleTextInputChange",function(e){d.setState({text:e.target.value,cursorPosition:(0,P.getCursorPosition)(d.textInput)},d.handleChange)}),j(E(E(d)),"handleKeyDown",function(e){var t=d.props.conversation;if(D(e)){if(d.isSubmissionDisabled())try{var r=t.parts,n=(r&&r.length&&r[0]).saveState;d.context.addMetric("submitted","message","messenger","in_conversation",{conversation_state:n},"usability_metric")}catch(e){}else d.handleTextSubmit();e.preventDefault()}else d.handleTyping()}),j(E(E(d)),"handleTyping",(0,a.default)(function(){d.props.onTyping()},1e3)),j(E(E(d)),"handleGifClick",function(e){var t=e.url,r=e.width,n=e.height,o=e.attribution,a=e.title;d.props.onSubmit((0,w.createBlocksForImage)(t,r,n,o,a)),d.handleGifPickerToggle()}),j(E(E(d)),"handleCursorReposition",function(e){var t=Array.from(new Array(4),function(e,t){return t+37});"keyup"===e.type&&t.indexOf(e.keyCode)<0||d.setState({cursorPosition:(0,P.getCursorPosition)(d.textInput)})}),j(E(E(d)),"handleUploadButtonClick",function(){d.fileInput.click()}),j(E(E(d)),"handleEmojiPickerToggle",function(){var e=d.props,t=e.showEmojiPicker;(0,e.onEmojiPickerToggle)(),t&&d.focus()}),j(E(E(d)),"handleEmojiClick",function(e){var t=d.state.text,r=d.state.cursorPosition||t.length,n=r+e.length,o=!d.hasText(),a=(0,P.insertTextAtPosition)(t,e,r);d.setState({text:a,cursorPosition:n},function(){d.handleEmojiPickerToggle(),o?d.handleTextSubmit():d.handleChange()})}),j(E(E(d)),"handleGifPickerToggle",function(){var e=d.props,t=e.showGifPicker;(0,e.onGifPickerToggle)(),t&&d.focus()}),j(E(E(d)),"handleFileSubmit",function(e){var t=e;e.target&&(t=e.target.files),t&&0!==t.length&&(d.createBlocksForImageOrAttachment(t[0]),d.clearFileInput())}),j(E(E(d)),"createBlocksForImageOrAttachment",function(s){var u=d.props.onSubmit;(0,C.rotateImageAndGetPreview)(s).then(function(e){if(e){var t=e.width,r=e.height,n=e.src,o=(0,_.getFileFromBytes)(e.src,s.name,s.type);u((0,w.createBlocksForImage)(n,t,r),o)}else{var a=s.name,i=s.type,l=s.size;u((0,w.createBlocksForAttachment)(a,i,l),s)}})}),j(E(E(d)),"handleSubmitButtonClick",function(e){e.preventDefault(),d.handleTextSubmit()}),j(E(E(d)),"handleFocus",function(){if(k()){if(d.props.onHeaderCollapse(),N())return;setTimeout(function(){d.composer.scrollIntoView()},200)}}),j(E(E(d)),"handleEmailChange",function(e){var t=e.currentTarget.value;d.setState({email:t,errorMessage:""})}),j(E(E(d)),"handleSendMessageClick",function(){var e=d.state,t=e.email,r=e.text;d.hasEmailAndMessage()&&((0,O.isValidEmail)(t)?(d.setState({text:""},d.handleChange),d.props.onSubmit((0,w.createBlocksForText)(r),null,null,t)):d.setState({errorMessage:(0,g.translate)("that_email_address_doesnt_look_quite_right")}))}),j(E(E(d)),"handleUpfrontEmojiClick",function(e){var t=d.state.cursorPosition,r=(0,P.insertTextAtPosition)(d.state.text,e,t);d.setState({text:r},function(){d.handleEmojiPickerToggle()})}),j(E(E(d)),"hasEmailAndMessage",function(){var e=d.state,t=e.email,r=e.text;return 0<t.trim().length&&0<r.trim().length}),j(E(E(d)),"setTextInput",function(e){d.textInput=e}),j(E(E(d)),"setComposer",function(e){d.composer=e}),j(E(E(d)),"renderUpfrontEmailComposer",function(){var e=d.props,t=e.showEmojiPicker,r=e.toggleUpfrontEmailCollectorState,n=e.headerHeight,o=e.conversation,a=e.frameWindow,i=d.state,l=i.text,s=i.email,u=i.errorMessage,c=o&&!!o.id;return p.default.createElement(b.default,{onMessageChange:d.handleTextInputChange,onEmailChange:d.handleEmailChange,onCursorReposition:d.handleCursorReposition,onSendMessageClick:d.handleSendMessageClick,onEmojiClick:d.handleUpfrontEmojiClick,onEmojiPickerToggle:d.handleEmojiPickerToggle,onWheel:P.allowScrollEvent,toggleUpfrontEmailCollectorState:r,setTextInput:d.setTextInput,setComposer:d.setComposer,showEmojiPicker:t,message:l,email:s,errorMessage:u,sendButtonDisabled:!d.hasEmailAndMessage(),headerHeight:n,frameWindow:a,shouldShowSmallStateUpfrontEmailComposer:c})}),j(E(E(d)),"renderTextArea",function(){var e=d.props.placeholder,t=d.state.text;return p.default.createElement("textarea",{name:"message",ref:function(e){return d.textInput=e},value:t,placeholder:e,"aria-label":e,onChange:d.handleTextInputChange,onKeyDown:d.handleKeyDown,onKeyUp:d.handleCursorReposition,onClick:d.handleCursorReposition,onFocus:d.handleFocus,onWheel:P.allowScrollEvent,tabIndex:"0"})}),d}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.componentDidMount=function(){var e=this;this.handleHeightChange(),this.moveCaretToEndOfText(),k()||this.props.isBorderless||this.focus(),this.context.messengerOptions&&this.context.messengerOptions.subscribe("focusComposer",function(){return e.focus()})},r.getDerivedStateFromProps=function(e,t){if(!t||(0,i.default)(e,t.prevProps))return null;var r,n=t.prevProps.defaultText;return(e.defaultText||(r=e.defaultText,/^\s*$/.test(r)))&&e.defaultText!==n?{text:e.defaultText,prevProps:e}:{prevProps:e}},o.componentDidUpdate=function(e,t){this.textHasChanged(t)&&this.handleHeightChange()},o.handleHeightChange=function(){var e=this.props.onHeightChange;e&&e(this.composer.clientHeight)},o.handleTextSubmit=function(){this.hasText()&&(this.props.onSubmit((0,w.createBlocksForText)(this.state.text)),this.setState({text:""},this.handleChange))},o.handleChange=function(){this.props.onChange(this.state.text)},o.clearFileInput=function(){this.fileInput&&(this.fileInput.value=null)},o.focus=function(){var e=this.state.cursorPosition;(0,P.focusInputAtIndex)(this.textInput,e)},o.hasText=function(){return 0<this.state.text.trim().length},o.shouldShowUploadButton=function(){return M()&&this.props.showUploadButton&&!this.hasText()},o.moveCaretToEndOfText=function(){this.hasText()&&(0,P.focusInputAtIndex)(this.textInput,this.state.text.length)},o.getClassName=function(){return(0,l.default)({"intercom-composer":!0,"intercom-composer-borderless":this.props.isBorderless,"intercom-composer-uploads-hidden":!this.shouldShowUploadButton()&&!this.hasText()})},o.getComposerButtonsClassNames=function(){var e=this.context.isPrimaryColorReadable;return(0,l.default)({"intercom-composer-buttons":!0,"intercom-composer-buttons-not-readable":e&&!e()})},o.getEmojiButtonClassName=function(){return(0,l.default)({"intercom-composer-emoji-button":!0,"intercom-composer-emoji-button-active":this.props.showEmojiPicker})},o.getGifButtonClassName=function(){return(0,l.default)({"intercom-composer-gif-button":!0,"intercom-composer-gif-button-active":this.props.showGifPicker})},o.renderUploadButton=function(){var t=this;return p.default.createElement("div",{className:"intercom-composer-upload-button",onClick:t.handleUploadButtonClick,"aria-label":(0,g.translate)("upload_attachment"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleUploadButtonClick(e)},role:"button",tabIndex:"0"},p.default.createElement(y.default,null),p.default.createElement("input",{ref:function(e){return t.fileInput=e},type:"file",disabled:this.isSubmissionDisabled(),onChange:this.handleFileSubmit,style:{display:"none"}}))},o.renderEmojiPickerButton=function(){var e=this.props.showEmojiPicker;return p.default.createElement("button",{className:this.getEmojiButtonClassName(),disabled:this.isSubmissionDisabled(),onClick:this.handleEmojiPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":(0,g.translate)("emoji_picker"),tabIndex:"0"},e?p.default.createElement(m.default,null):p.default.createElement(f.default,null))},o.renderEmojiPicker=function(){var e=this.props,t=e.frameWindow,r=e.showEmojiPicker;return p.default.createElement(s.default,{className:"intercom-composer-emoji-popover",onEscapeKey:this.handleEmojiPickerToggle,frameWindow:t},r?p.default.createElement(u.default,{onEmojiClick:this.handleEmojiClick}):null)},o.renderGifPickerButton=function(){var e=this.props.showGifPicker;return p.default.createElement("button",{className:this.getGifButtonClassName(),disabled:this.isSubmissionDisabled(),onClick:this.handleGifPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":(0,g.translate)("gif_picker"),tabIndex:"0"},e?p.default.createElement(v.default,null):p.default.createElement(h.default,null))},o.renderGifPicker=function(){var e=this.props,t=e.frameWindow,r=e.showGifPicker;return p.default.createElement(s.default,{className:"intercom-composer-gif-popover",onEscapeKey:this.handleGifPickerToggle,frameWindow:t},r?p.default.createElement(c.default,{onGifClick:this.handleGifClick}):null)},o.renderSendButton=function(){return p.default.createElement("button",{className:"intercom-composer-send-button",disabled:this.isSubmissionDisabled(),onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,"aria-disabled":this.isSubmissionDisabled(),"aria-label":(0,g.translate)("send_a_message"),tabIndex:"0"},p.default.createElement(d.default,null))},o.renderButtons=function(){var e=this.props.showGifButton,t=this.hasText(),r=!k(),n=e&&!k()&&!t,o=this.shouldShowUploadButton();return p.default.createElement("div",{className:this.getComposerButtonsClassNames()},n?this.renderGifPickerButton():null,r?this.renderEmojiPickerButton():null,t?this.renderSendButton():null,o?this.renderUploadButton():null)},o.render=function(){var t=this,e=this.props.shouldShowUpfrontEmailComposer,r=this.state.text;return e?this.renderUpfrontEmailComposer():p.default.createElement("div",{ref:function(e){return t.composer=e},className:this.getClassName()},p.default.createElement("pre",null,r,p.default.createElement("br",null)),this.renderTextArea(),this.renderGifPicker(),this.renderEmojiPicker(),this.renderButtons())},r}(p.PureComponent);t.default=T;var D=function(e){return 13===e.keyCode&&!(e.altKey||e.shiftKey)};T.defaultProps={defaultText:"",showEmojiPicker:!1,showGifPicker:!1,showGifButton:!0,showUploadButton:!0,isBorderless:!1},T.propTypes={placeholder:n.default.string,showEmojiPicker:n.default.bool,showGifPicker:n.default.bool,showUploadButton:n.default.bool,showGifButton:n.default.bool,defaultText:n.default.string,isBorderless:n.default.bool,shouldShowUpfrontEmailComposer:n.default.bool,onHeightChange:n.default.func,onTyping:n.default.func.isRequired,onChange:n.default.func.isRequired,onSubmit:n.default.func.isRequired,toggleUpfrontEmailCollectorState:n.default.func.isRequired,onEmojiPickerToggle:n.default.func.isRequired,onHeaderCollapse:n.default.func,onGifPickerToggle:n.default.func,headerHeight:n.default.number,conversation:n.default.object,frameWindow:n.default.object},T.contextTypes={messengerOptions:n.default.object,addMetric:n.default.func,isPrimaryColorReadable:n.default.func}},1187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(685))&&n.__esModule?n:{default:n};function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(l(l(r=o.call.apply(o,[this].concat(t))||this)),"handleEmojiClick",function(e){var t=i.default.unicodeFromIdentifier(e.target.title);r.props.onEmojiClick(r.props.emoji,t)}),s(l(l(r)),"handleOverlayClick",function(){r.props.onClose()}),r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderEmoji=function(e,t){var r=this;return a.default.createElement("span",{key:t},a.default.createElement("span",{className:"emoji-skintone-picker-emoji",title:i.default.identifierFromUnicode(e),onClick:r.handleEmojiClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleEmojiClick(e)},role:"button",tabIndex:"0"},e),0===t?a.default.createElement("span",{className:"emoji-skintone-picker-divider"}):null)},n.caretHorizontalPositionStyle=function(){return{left:this.props.emojiXOffset-7}},n.verticlePositionStyle=function(){return{top:this.props.emojiYOffset-17}},n.render=function(){var r=this,e=i.default.getAllModifiedForBaseEmoji(this.props.emoji);return e.length<=1?null:a.default.createElement("div",{className:"emoji-skintone-picker-overlay",onClick:r.handleOverlayClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleOverlayClick(e)},role:"button",tabIndex:"0"},a.default.createElement("div",{className:"emoji-skintone-picker-popover",style:this.verticlePositionStyle()},e.map(function(e,t){return r.renderEmoji(e,t)}),a.default.createElement("div",null,a.default.createElement("div",{className:"emoji-skintone-picker-outer-caret",style:this.caretHorizontalPositionStyle()}),a.default.createElement("div",{className:"emoji-skintone-picker-caret",style:this.caretHorizontalPositionStyle()}))))},r}(a.Component);t.default=o},1188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=(n=r(15))&&n.__esModule?n:{default:n},s=r(69);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(i(i(e=o.call.apply(o,[this].concat(r))||this)),"state",{isHovering:!1}),u(i(i(e)),"handleEmojiMouseEnter",function(){e.setState({isHovering:!0})}),u(i(i(e)),"handleEmojiMouseLeave",function(){e.setState({isHovering:!1})}),e}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.state.isHovering||this.props.isActive;return(0,a.default)({"intercom-emoji-picker-emoji":!0,"intercom-emoji-picker-emoji-active":e})},n.render=function(){var e=this.props,t=e.emoji,r=e.index,n=e.title,o=e.onEmojiMouseUp,a=e.onEmojiMouseDown,i=n.replace(/(_|-)/gi," ");return l.default.createElement("span",{key:r,className:this.getClassNames(),title:n,"aria-label":i,role:"button",tabIndex:"0",onMouseUp:o,onMouseDown:a,onMouseEnter:this.handleEmojiMouseEnter,onMouseLeave:this.handleEmojiMouseLeave,onKeyDown:(0,s.onEnterOrSpace)(o)},t)},r}(l.Component);t.default=o},1189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapDispatchToProps=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(1190))&&n.__esModule?n:{default:n};var i=r(53),l=r(1191).searchGifs,s=function(e){var t=e.gifs;return{isFetching:t.isFetching,fetchingFailed:t.fetchingFailed,gifs:t.gifs}};t.mapStateToProps=s;var u=function(t){return{onSearchGifs:function(e){void 0===e&&(e=""),t(l(i,e))}}};t.mapDispatchToProps=u;var c=(0,o.connect)(s,u)(a.default);t.default=c},1190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=r(69),l=r(31),s=r(1037),u=o(r(123)),c=o(r(1080));function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return p(d(d(t=o.call.apply(o,[this].concat(r))||this)),"state",{query:null}),p(d(d(t)),"handleClick",function(e){e.stopPropagation()}),p(d(d(t)),"handleSearchInputChange",(0,s.debounceEventHandler)(function(e){t.setState({query:e.target.value}),t.props.onSearchGifs(e.target.value)},200)),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.onSearchGifs()},n.createHandleGifClick=function(t){var r=this;return function(e){r.props.onGifClick(t),e.preventDefault()}},n.renderGif=function(t){var r=this,e=(0,l.translate)("send");return a.default.createElement("div",{key:t.url,className:"intercom-gif-picker-gif-container"},a.default.createElement("div",{className:"intercom-gif-picker-gif",style:{background:"url("+t.url+") center center / cover"},onClick:r.createHandleGifClick(t),"aria-label":t.title?e+" "+t.title+" gif":e+" gif",onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.createHandleGifClick(t)(e)},role:"button",tabIndex:"0"}))},n.renderFetching=function(){return a.default.createElement(u.default,null)},n.renderResults=function(){var t=this,e=this.props,r=e.fetchingFailed,n=e.gifs;return a.default.createElement("div",{className:"intercom-gif-picker-results"},r?a.default.createElement("div",{className:"intercom-composer-popover-message"},(0,l.translate)("gifs_load_error")):null,r||0!==n.length?null:a.default.createElement("div",{className:"intercom-composer-popover-message"},(0,l.translate)("no_gifs_found")),n.map(function(e){return t.renderGif(e)}))},n.render=function(){var e=this.props.gifs,t=this.state.query;return a.default.createElement("div",{className:"intercom-gif-picker",onClick:this.handleClick,tabIndex:"-1"},a.default.createElement("div",{className:"intercom-composer-popover-header"},a.default.createElement("input",{name:"gif",className:"intercom-composer-popover-input",autoFocus:!0,placeholder:(0,l.translate)("search_gif"),onChange:this.handleSearchInputChange,"aria-label":(0,l.translate)("search_gif")}),a.default.createElement(c.default,{count:e.length,query:t})),a.default.createElement("div",{className:"intercom-composer-popover-body-container","aria-live":"polite"},a.default.createElement("div",{className:"intercom-composer-popover-body",onWheel:i.allowScrollEvent},this.props.isFetching?this.renderFetching():this.renderResults())))},r}(a.Component);(t.default=f).propTypes={isFetching:n.default.bool.isRequired,gifs:n.default.array.isRequired,fetchingFailed:n.default.bool.isRequired,onSearchGifs:n.default.func.isRequired,onGifClick:n.default.func.isRequired}},1191:function(e,t,r){"use strict";function a(e){return{type:"SEARCH_GIFS_REQUEST",searchTerm:e}}function i(e,t){return{type:"SEARCH_GIFS_SUCCESS",gifs:t.results,searchTerm:e}}e.exports={searchGifs:function(n,o){return void 0===o&&(o=""),function(t,e){t(a(o));var r=e().session;return n.searchGifs(r,o).then(function(e){t(i(o,e))}).catch(function(){t({type:"SEARCH_GIFS_FAILURE",searchTerm:o})})}},searchGifsRequest:a,searchGifsSuccess:i}},1192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{viewBox:"0 0 29 18"},o.default.createElement("path",{d:"M9 0h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0zM6.561 9.337c0 2.277 1.683 3.806 3.773 3.806 1.199 0 2.2-.506 2.882-1.265V9.227H9.784v.814h2.519v1.496a2.895 2.895 0 0 1-1.969.792c-1.606 0-2.827-1.254-2.827-2.992 0-1.749 1.221-2.981 2.827-2.981.88 0 1.661.418 2.123 1.012l.726-.451c-.649-.803-1.551-1.375-2.849-1.375-2.09 0-3.773 1.518-3.773 3.795zM14.701 13h.913V5.663h-.913V13zm2.629 0h.913V9.656h3.817v-.814h-3.817V6.477h3.894v-.814H17.33V13z",fillRule:"nonzero"}))};t.default=a},1193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=o(r(1081)),s=o(r(1031)),u=o(r(1082)),c=o(r(1079)),d=o(r(1078)),p=o(r(15)),f=r(31),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(n){var e,t;function r(){for(var i,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(h(h(i=n.call.apply(n,[this].concat(t))||this)),"emailInput",void 0),v(h(h(i)),"emailFocusTimeout",null),v(h(h(i)),"state",{isTextareaFocused:!1}),v(h(h(i)),"getEmojiButtonClassName",function(){return(0,p.default)({"intercom-composer-emoji-button":!0,"intercom-composer-emoji-button-active":i.props.showEmojiPicker})}),v(h(h(i)),"getEmailInputClassName",function(){return(0,p.default)({"email-error-input":i.props.errorMessage})}),v(h(h(i)),"getEmojiPickerClassName",function(){return(0,p.default)({"intercom-upfront-email-composer-emoji-popover":!0})}),v(h(h(i)),"getComposerClassName",function(){return(0,p.default)({"intercom-upfront-email-composer":!0,"intercom-small-state-upfront-email-composer":i.props.shouldShowSmallStateUpfrontEmailComposer})}),v(h(h(i)),"renderSendButton",function(){var e=i.props,t=e.sendButtonDisabled,r=e.onSendMessageClick;return l.default.createElement("button",{className:i.getSendButtonClassName(),onClick:r,disabled:t,tabIndex:"0"},l.default.createElement(a.default,null))}),v(h(h(i)),"renderEmojiPickerButton",function(){var e=i.props,t=e.showEmojiPicker,r=e.onEmojiPickerToggle;return i.state.isTextareaFocused?l.default.createElement("button",{className:i.getEmojiButtonClassName(),onClick:r,tabIndex:"0"},t?l.default.createElement(u.default,null):l.default.createElement(s.default,null)):null}),v(h(h(i)),"renderEmojiPicker",function(){var e=i.props,t=e.showEmojiPicker,r=e.onEmojiClick,n=e.onEmojiPickerToggle,o=e.frameWindow;return l.default.createElement(d.default,{className:"intercom-upfront-email-composer-emoji-popover",frameWindow:o,onEscapeKey:n},t?l.default.createElement(c.default,{onEmojiClick:r}):null)}),v(h(h(i)),"renderErrorMessage",function(){var e=i.props.errorMessage;return e?l.default.createElement("span",{className:"intercom-upfront-email-error-message"},e):null}),v(h(h(i)),"renderEmailInput",function(){var e=i.props,t=e.email,r=e.onEmailChange,n=e.errorMessage?{"aria-invalid":!0}:{};return l.default.createElement("input",m({name:"email",ref:function(e){i.emailInput=e},onChange:r,value:t,type:"text",placeholder:(0,f.translate)("leave_your_email"),className:i.getEmailInputClassName(),onFocus:i.handleEmailInputFocus},n))}),v(h(h(i)),"renderMessageTextArea",function(){var e=i.props,t=e.message,r=e.setTextInput,n=e.onMessageChange,o=e.onCursorReposition,a=e.onWheel;return l.default.createElement("textarea",{name:"message",ref:function(e){return r(e)},value:t,placeholder:(0,f.translate)("write_your_message"),onChange:n,onKeyUp:o,onClick:o,onWheel:a,onFocus:i.handleTextareaFocus,tabIndex:"0"})}),v(h(h(i)),"handleEmailInputFocus",function(){i.setState({isTextareaFocused:!1})}),v(h(h(i)),"handleTextareaFocus",function(){i.setState({isTextareaFocused:!0})}),i}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.componentDidMount=function(){this.props.toggleUpfrontEmailCollectorState()},o.componentWillUnmount=function(){this.props.toggleUpfrontEmailCollectorState(),this.emailFocusTimeout&&clearTimeout(this.emailFocusTimeout)},o.componentDidMount=function(){var e=this;this.emailFocusTimeout=setTimeout(function(){e.emailInput&&e.emailInput.focus()},0)},o.getSendButtonClassName=function(){var e=this.context.isPrimaryColorReadable;return(0,p.default)({"intercom-composer-send-button":!0,"intercom-composer-send-button-disabled":this.props.sendButtonDisabled,"intercom-composer-send-button-not-readable":e&&!e()})},o.render=function(){var e=this.props,t=e.headerHeight,r=e.setComposer;return l.default.createElement("div",{className:this.getComposerClassName(),style:{height:"calc(100vh - "+t+"px)"},ref:function(e){return r(e)}},this.renderEmailInput(),this.renderErrorMessage(),this.renderMessageTextArea(),this.renderEmojiPicker(),l.default.createElement("div",{className:"intercom-upfront-email-actions"},this.renderEmojiPickerButton(),this.renderSendButton()))},r}(l.PureComponent);v(t.default=i,"defaultProps",{email:"",message:"",disabled:!1,showEmojiPicker:!1}),v(i,"contextTypes",{isPrimaryColorReadable:n.default.func})},1194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,s){var t=new FileReader;t.onload=function(e){var t=new DataView(e.target.result);if(65496!==t.getUint16(0,!1))return s(-2);for(var r=t.byteLength,n=2;n<r;){var o=t.getUint16(n,!1);if(n+=2,65505===o){if(1165519206!==t.getUint32(n+=2,!1))return s(-1);var a=18761===t.getUint16(n+=6,!1);n+=t.getUint32(n+4,a);var i=t.getUint16(n,a);n+=2;for(var l=0;l<i;l++)if(274===t.getUint16(n+12*l,a))return s(t.getUint16(n+12*l+8,a))}else{if(65280!=(65280&o))break;n+=t.getUint16(n,!1)}}return s(-1)},t.readAsArrayBuffer(e.slice(0,65536))}},1195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,o,a,i){var l=new Image;l.src=e,l.onload=function(){var e=l.width,t=l.height,r=document.createElement("canvas"),n=r.getContext("2d");switch(r.height=4<o&&o<9?(r.width=t,e):(r.width=e,t),o){case 2:n.transform(-1,0,0,1,e,0);break;case 3:n.transform(-1,0,0,-1,e,t);break;case 4:n.transform(1,0,0,-1,0,t);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,t,0);break;case 7:n.transform(0,-1,-1,0,t,e);break;case 8:n.transform(0,-1,1,0,0,e)}n.drawImage(l,0,0),i(r.toDataURL(a))}}},1196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.readAsDataURL(e)}},1197:function(e,t,r){"use strict";var n=r(757);function o(e){return e?"draft-"+e:"draft"}function a(e){return n.sessionStorage.remove(o(e))}e.exports={saveDraft:function(e,t){return t&&""!==t?n.sessionStorage.set(o(e),(r=t,JSON.stringify({text:r}))):a(e);var r},loadDraft:function(e){var t=n.sessionStorage.get(o(e));return t?JSON.parse(t).text:null},removeDraft:a}},1200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(r,n){var o=[],a=0,e=function(e){var t=Date.now();a=a+n<t?t:a+n,o.push(setTimeout(function(){return r(e)},a-t))};return e.cancel=function(){o.forEach(clearTimeout)},e};t.default=n},400:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2));var n=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return o.default.createElement("div",{className:"intercom-notification-channels-error"},o.default.createElement("p",{className:"intercom-notification-channels-error-text",role:"alert"},this.props.errorMessage))},n}(o.PureComponent);t.default=n},404:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessage=function(e,t,r){return{intercomSheet:{type:e,payload:t,meta:{proxy:r}}}},t.SET_TITLE=t.FINISH_NAVIGATION=t.START_NAVIGATION=t.SUBMIT_SHEET=t.CLOSE=t.SEND_DATA_TO_SHEET=t.SEND_DATA_TO_MESSENGER=void 0;t.SEND_DATA_TO_MESSENGER="send-data-to-messenger";t.SEND_DATA_TO_SHEET="send-data-to-sheet";t.CLOSE="close";t.SUBMIT_SHEET="submit-sheet";t.START_NAVIGATION="start-navigation";t.FINISH_NAVIGATION="finish-navigation";t.SET_TITLE="set-title"},423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transitionDuration=t.transitionLeaveTimeout=t.transitionEnterTimeout=void 0;var a=o(r(399)),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),c=o(r(692)),d=o(r(707)),p=o(r(434)),n=r(89);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.transitionEnterTimeout=900;t.transitionLeaveTimeout=300;t.transitionDuration=300;var s=function(e){return e.components.map(n.getComponentKey).join("-")},f=function(e,t){return!(-1!==s(t).indexOf(s(e)))},m=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(i(i(t=o.call.apply(o,[this].concat(r))||this)),"cardBodyNode",null),l(i(i(t)),"state",{bodyKey:"front",prevProps:t.props}),l(i(i(t)),"handleHeightChange",function(e){t.props.onHeightChange(e.height)}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||(0,a.default)(e,t.prevProps)?null:f(t.prevProps,e)?{bodyKey:(r=t.bodyKey,"front"===r?"back":"front"),prevProps:e}:{prevProps:e};var r};var n=r.prototype;return n.componentDidUpdate=function(e){if(this.cardBodyNode&&f(e,this.props)){var t=this.cardBodyNode.querySelector('input, button, [role="button"]');t&&t.focus()}},n.render=function(){var t=this,e=this.props,r=e.cardUri,n=e.isContentFetching,o=e.isContentError,a=e.components,i=e.onAction,l=e.getCardContent,s=e.frameWindow;return u.default.createElement(c.default,{component:"div",className:"intercom-messenger-card-body-container",transitionName:"intercom-messenger-card-body",transitionEnterTimeout:900,transitionLeaveTimeout:300},u.default.createElement(p.default,{id:"body",key:this.state.bodyKey,onChange:this.handleHeightChange},u.default.createElement("div",{className:"intercom-messenger-card-body",ref:function(e){return t.cardBodyNode=e},"aria-live":"polite"},u.default.createElement(d.default,{cardUri:r,isContentError:o,isContentFetching:n,components:a,onAction:i,getCardContent:l,frameWindow:s}))))},r}(u.PureComponent);l(t.default=m,"defaultProps",{isContentError:!1,transitionFlow:"downward"})},435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitMessengerCardActionFailure=t.submitMessengerCardActionSuccess=t.submitMessengerCardActionRequest=t.submitMessengerCardAction=void 0;var n=r(89),l=r(125),s=r(176);t.submitMessengerCardAction=function(n,o,a,i){return function(t,e){var r=e().session;return t(u(o,a)),n.submitMessengerCardAction(r,o,a,i).then(function(e){t(c(e)),t((0,l.getCardContent)(n,e))}).catch(function(){t(d(o,a)),t((0,s.showAlert)("MessengerCardSubmitError",{cardUri:o,componentId:a,inputValues:i}))})}};var u=function(e,t){return{type:"SUBMIT_MESSENGER_CARD_ACTION_REQUEST",cardUri:e,componentId:t}};t.submitMessengerCardActionRequest=u;var c=function(e){return{type:"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS",card:(0,n.normalizeCardToCanvasFormat)(e)}};t.submitMessengerCardActionSuccess=c;var d=function(e,t){return{type:"SUBMIT_MESSENGER_CARD_ACTION_FAILURE",cardUri:e,componentId:t}};t.submitMessengerCardActionFailure=d},443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),d=(n=r(15))&&n.__esModule?n:{default:n},p=r(90);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l(i(i(a=n.call.apply(n,[this].concat(t))||this)),"state",{}),l(i(i(a)),"handleClick",function(e){var t=a.props,r=t.action,n=t.onClick;n&&r&&"url"===r.type&&r.url&&n(r.url,r,"image","clicked",e)}),l(i(i(a)),"handleImageLoad",function(e){var t=e.target,r=a.props,n=r.width,o=r.height;a.setState({imageWidth:n||t.offsetWidth,imageHeight:o||t.offsetHeight})}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.hasUrlAction=function(){var e=this.props.action;return e&&"url"===e.type&&e.url},o.getClassName=function(){var e=this.props,t=e.align,r=e.rounded,n=e.isLast,o=e.bottomMargin,a=e.disabled,i=e.isFirst,l=this.state,s=l.imageWidth,u=l.imageHeight,c=(0,p.mobileHost)(window)&&"full_width"===t?"center":t;return(0,d.default)({"intercom-messenger-card-image":!0,"intercom-messenger-card-image-left":"left"===c,"intercom-messenger-card-image-center":"center"===c,"intercom-messenger-card-image-right":"right"===c,"intercom-messenger-card-image-full-width":"full_width"===c,"intercom-messenger-card-image-round":s&&u&&r,"intercom-messenger-card-image-first-component":i,"intercom-messenger-card-image-last-component":n,"intercom-messenger-card-image-margin-bottom-none":"none"===o,"intercom-messenger-card-image-active":this.hasUrlAction()&&!a,"intercom-messenger-card-image-disabled":a})},o.calculateImageWidth=function(e){if(e)return 213<e?"100%":e},o.calculateImageHeight=function(e,t){if(e&&t)return 213<e?"auto":t},o.getImageStyle=function(){var e=this.state,t=e.imageWidth,r=e.imageHeight,n=this.props,o=n.width||t,a=n.height||r;return o||a?{width:this.calculateImageWidth(o),height:this.calculateImageHeight(o,a)}:{}},o.render=function(){var t=this,e=this.props,r=e.url,n=e.alt;return a.default.createElement("div",{className:this.getClassName(),onClick:t.handleClick,"aria-label":n||"",tabIndex:this.hasUrlAction()?"0":"-1",onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button"},a.default.createElement("div",{className:"intercom-messenger-card-image-wrapper"},a.default.createElement("img",{src:r,alt:n||"",style:this.getImageStyle(),onLoad:this.handleImageLoad})))},r}(a.Component);l(t.default=o,"defaultProps",{align:"left",rounded:!1,isLast:!1,bottomMargin:"default",disabled:!1})},444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),h=r(90);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=function(o){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y(a(a(r=o.call.apply(o,[this].concat(t))||this)),"state",{value:r.props.value||""}),y(a(a(r)),"handleChange",function(e){var t=e.target.value.trim();r.setState({value:t}),r.props.onChange(t)}),y(a(a(r)),"handleClick",function(){var e=(0,h.mobileHost)(window);if(e&&!r.props.disabled){var t={type:"INPUT_TEXT",payload:{currentValue:r.state.value,id:r.props.id,label:r.props.label,placeholder:r.props.placeholder}};e.handleAction(JSON.stringify(t))}}),r}return t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e,t=this,r=this.props,n=r.value,o=r.placeholder,a=r.disabled,i=r.autoFocus,l=r.onFocus,s=r.onKeyDown,u=r.isFailed,c=r.ariaLabel,d=r.ariaLabelledby,p=r.type,f=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){y(t,e,r[e])})}return t}({},u?{"aria-invalid":!0}:{},{"aria-labelledby":d,"aria-label":c});return(0,h.mobileHost)(window)?m.default.createElement("div",{style:{position:"relative"}},m.default.createElement("div",{className:"intercom-messenger-card-input-overlay",onClick:t.handleClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"}," "),m.default.createElement("input",v({type:p,autoComplete:"email"===p?"email":"off",disabled:a,defaultValue:n,value:n,placeholder:o,autoFocus:i,onFocus:l,onKeyDown:s,onChange:this.handleChange},f))):m.default.createElement("div",null,m.default.createElement("input",v(((e={type:p,autoComplete:"email"===p?"email":"off",disabled:a,defaultValue:n,placeholder:o,autoFocus:i,onFocus:l,onKeyDown:s,onChange:this.handleChange}).onFocus=l,e),f)))},r}(m.PureComponent);y(t.default=n,"defaultProps",{disabled:!1,autoFocus:!0,onChange:function(){}})},445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHEET_LOADED=t.HTML_LOADED=void 0;t.HTML_LOADED="html-loaded";t.SHEET_LOADED="sheet-loaded"},691:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(399)),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),u=n(r(717)),c=n(r(444)),i=n(r(15)),d=n(r(400));function n(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(l(l(t=o.call.apply(o,[this].concat(r))||this)),"state",{value:t.props.value||"",saveState:t.props.saveState,isInvalid:"failed"===t.props.saveState,prevProps:t.props}),f(l(l(t)),"handleChange",function(e){t.setState({saveState:"unsaved",isInvalid:!1}),t.props.onChange(e)}),f(l(l(t)),"handleSubmit",function(e){t.props.isValid(e)?t.props.onSubmit(e):t.setState({saveState:"failed",isInvalid:!0})}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||(0,a.default)(e,t.prevProps)?null:{value:e.value||t.value||"",saveState:e.saveState,isInvalid:"failed"===e.saveState,prevProps:e}};var n=r.prototype;return n.autoFocus=function(){var e=this.props,t=e.isBorderless,r=e.isReplyType,n=e.autoFocus;return(!t||!r)&&n},n.getInputClassNames=function(){var e=this.props,t=e.saveState,r=e.isBorderless,n=e.isReplyType,o=e.isNotificationChannel;return(0,i.default)({"intercom-validating-input":!0,"intercom-validating-input-saving":"saving"===t,"intercom-validating-input-saved":"saved"===t,"intercom-validating-input-failed":"failed"===t||this.state.isInvalid,"intercom-validating-input-borderless":r,"intercom-validating-input-reply-type":n,"intercom-validating-input-notification-channel":o})},n.buildInputProps=function(){var e=this.props,t=e.saveState,r=e.value,n=e.placeholder,o=e.id,a=e.label,i=e.disabled,l=e.onFocus;return{value:r,key:r,placeholder:n,id:o,label:a,ariaLabel:e.ariaLabel,ariaLabelledby:e.ariaLabelledby,type:e.type,saveState:this.state.saveState,disabled:i,autoFocus:this.autoFocus(),onFocus:l,onChange:this.handleChange,isFailed:"failed"===t||this.state.isInvalid}},n.render=function(){var e=this.buildInputProps(),t=this.state.isInvalid,r=this.props,n=r.validationErrorMessage,o=r.hideErrorMessage,a=r.isSubmittable,i=r.buttonAriaLabel,l=r.buttonAriaLabelledby;return s.default.createElement("div",null,s.default.createElement("div",{className:this.getInputClassNames()},a?s.default.createElement(u.default,p({},e,{onSubmit:this.handleSubmit,buttonAriaLabel:i,buttonAriaLabelledby:l})):s.default.createElement(c.default,e)),t&&!o?s.default.createElement(d.default,{errorMessage:n}):null)},r}(s.PureComponent);f(t.default=o,"defaultProps",{saveState:"unsaved",type:"text",disabled:!1,hideErrorMessage:!1,validationErrorMessage:"",isBorderless:!1,isReplyType:!1,isNotificationChannel:!1,isSubmittable:!0,autoFocus:!0,onChange:function(){}})},693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(15))&&n.__esModule?n:{default:n},l=r(715);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(s(s(e=o.call.apply(o,[this].concat(r))||this)),"renderParsedText",function(e){return(0,l.parseText)(e).map(function(e,t){switch(e.type){case"plain":return e.text;case"link":return a.default.createElement("a",{href:e.url,target:"_blank",key:"link-"+t,rel:"noopener noreferrer",className:"intercom-messenger-card-text-link"},e.text);case"bold":return a.default.createElement("b",{key:"bold-"+t,className:"intercom-messenger-card-text-bold"},e.text)}})}),e}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.style,r=e.align,n=e.isLast,o=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-text":!0,"intercom-messenger-card-text-header":"header"===t,"intercom-messenger-card-text-muted":"muted"===t,"intercom-messenger-card-text-paragraph":"paragraph"===t,"intercom-messenger-card-text-error":"error"===t,"intercom-messenger-card-text-left":"left"===r,"intercom-messenger-card-text-center":"center"===r,"intercom-messenger-card-text-right":"right"===r,"intercom-messenger-card-text-margin-bottom-none":"none"===o,"intercom-messenger-card-text-last-component":n})},n.render=function(){var e=this.props,t=e.text,r=e.style,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){u(t,e,r[e])})}return t}({},"error"===r?{role:"alert"}:{},{className:this.getClassName(),children:this.renderParsedText(t)});return"header"===r?a.default.createElement("h2",n):a.default.createElement("div",n)},r}(a.PureComponent);u(t.default=o,"defaultProps",{type:"text",style:"paragraph",align:"left",isLast:!1,bottomMargin:"default"})},694:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",null,o.default.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinejoin:"round"},o.default.createElement("path",{d:"M9 10.995V5.672M16.652 15.652H1.348L9 .348z",strokeLinecap:"round"}),o.default.createElement("path",{d:"M9.348 13.217a.348.348 0 1 1-.696 0 .348.348 0 0 1 .696 0z"})))};t.default=a},695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringifiedSheetDataSelector=t.sheetDataSelector=t.sheetUrlSelector=t.sourceCardSelector=t.isOpenSelector=t.isNavigatingSelector=t.sheetTitleSelector=t.isProxyLoadedSelector=t.isSheetsDataLoadedSelector=t.isSheetsDataLoadingSelector=void 0;var n=r(32),o=function(e){return e.messengerSheet},a=(0,n.createSelector)(o,function(e){return e.isSheetsDataLoading});t.isSheetsDataLoadingSelector=a;var i=(0,n.createSelector)(o,function(e){return e.isSheetsDataLoaded});t.isSheetsDataLoadedSelector=i;var l=(0,n.createSelector)(o,function(e){return e.isProxyLoaded});t.isProxyLoadedSelector=l;var s=(0,n.createSelector)(o,function(e){return e.sheetTitle});t.sheetTitleSelector=s;var u=(0,n.createSelector)(o,function(e){return e.isNavigating});t.isNavigatingSelector=u;var c=(0,n.createSelector)(o,function(e){return e.isOpen});t.isOpenSelector=c;var d=(0,n.createSelector)(o,function(e){return e.sourceCard});t.sourceCardSelector=d;var p=(0,n.createSelector)(o,function(e){return e.url});t.sheetUrlSelector=p;var f=(0,n.createSelector)(o,function(e){return e.data});t.sheetDataSelector=f;var m=(0,n.createSelector)(f,function(e){return JSON.stringify(e)});t.stringifiedSheetDataSelector=m},699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement("svg",{className:"intercom-submittable-input-submit-icon"},o.default.createElement("path",{d:"M1.5 13.864L7.864 7.5 1.5 1.136",strokeWidth:"2.5",fill:"none",fillRule:"evenodd"}))};var n,o=(n=r(2))&&n.__esModule?n:{default:n}},700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(399)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=n(r(15)),s=r(69),u=r(31),c=n(r(400)),d=n(r(724));function n(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(p(p(t=o.call.apply(o,[this].concat(r))||this)),"listRef",void 0),f(p(p(t)),"state",{value:t.props.value||null,isOpen:!1,prevProps:t.props}),f(p(p(t)),"handleDocumentClick",function(e){t.eventTargetIsNotInsideList(e.target)&&t.state.isOpen&&t.setState({isOpen:!1})}),f(p(p(t)),"eventTargetIsNotInsideList",function(e){return t.listRef&&!t.listRef.contains(e)}),f(p(p(t)),"handleOpenToggle",function(e){e.preventDefault(),t.props.disabled||t.setState({isOpen:!t.state.isOpen})}),f(p(p(t)),"handleChange",function(e){t.setState({value:e}),t.props.onChange(e)}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){if(!t||(0,a.default)(e,t.prevProps))return null;var r=e.value||t.value||null;return e.disabled?{isOpen:!1,prevProps:e,value:r}:{value:r,prevProps:e}};var n=r.prototype;return n.componentDidMount=function(){this.props.frameWindow&&this.props.frameWindow.document.addEventListener("click",this.handleDocumentClick,!1),this.listRef&&this.props.autoFocus&&this.listRef.focus()},n.componentWillUnmount=function(){this.props.frameWindow&&this.props.frameWindow.document.removeEventListener("click",this.handleDocumentClick)},n.getClassName=function(){var e=this.props,t=e.saveState,r=e.disabled;return(0,l.default)({"intercom-list-attribute":!0,"intercom-list-attribute-open":this.state.isOpen,"intercom-list-attribute-saving":"saving"===t,"intercom-list-attribute-saved":"saved"===t,"intercom-list-attribute-failed":"failed"===t,"intercom-list-attribute-disabled":r})},n.getPlaceholder=function(){return this.state.value?this.state.value.text:(0,u.translate)("choose_one")},n.renderOption=function(e,t){var r=this.state.value;return i.default.createElement(d.default,{key:t,id:e.id,text:e.text,disabled:this.props.disabled||!!e.disabled,isSelected:!!r&&r.id===e.id,onClick:this.handleChange})},n.renderOptions=function(){var r=this,e=this.props.options.map(function(e,t){return r.renderOption(e,t)});return i.default.createElement("div",{className:"intercom-list-attribute-options",onWheel:s.allowScrollEvent,onScroll:s.allowScrollEvent},e)},n.renderUnsubmitted=function(){var t=this,e=this.props,r=e.disabled,n=e.saveState;return i.default.createElement("div",null,i.default.createElement("div",{className:this.getClassName(),onClick:t.handleOpenToggle,ref:function(e){return t.listRef=e},"aria-disabled":r,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOpenToggle(e)},role:"button",tabIndex:"0"},i.default.createElement("span",{className:"intercom-list-attribute-placeholder"},this.getPlaceholder()),i.default.createElement("span",{className:"intercom-list-attribute-open-icon"}),this.state.isOpen&&this.renderOptions()),"failed"===n&&i.default.createElement(c.default,{errorMessage:(0,u.translate)("something_is_wrong")}))},n.renderSubmitted=function(){return i.default.createElement("div",{className:this.getClassName(),"aria-disabled":!0},i.default.createElement("span",{className:"intercom-list-attribute-value"},this.getPlaceholder()),"saved"===this.props.saveState||"saving"===this.props.saveState?i.default.createElement("span",{className:"intercom-list-attribute-success-icon"}):null)},n.render=function(){var e=this.props.saveState;return"unsaved"===e||"failed"===e?this.renderUnsubmitted():this.renderSubmitted()},r}(i.Component);f(t.default=o,"defaultProps",{autoFocus:!1,disabled:!1})},701:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=n(r(15)),l=r(31),s=n(r(400)),u=n(r(727));function n(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d(c(c(o=n.call.apply(n,[this].concat(t))||this)),"state",{value:o.props.value}),d(c(c(o)),"handleChange",function(e){var t=o.props,r=t.saveState,n=t.disabled;"saved"===r||"saving"===r||n||(o.setState({value:e}),o.props.onChange(e))}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.getClassName=function(){var e=this.props,t=e.saveState,r=e.disabled;return(0,a.default)({"intercom-button-group-attribute":!0,"intercom-button-group-attribute-unsaved":"unsaved"===t,"intercom-button-group-attribute-saving":"saving"===t,"intercom-button-group-attribute-saved":"saved"===t,"intercom-button-group-attribute-failed":"failed"===t,"intercom-button-group-attribute-disabled":r})},o.renderOption=function(e,t){var r=this.props,n=r.disabled,o=r.isLoading,a=this.state.value;return i.default.createElement(u.default,{key:t,id:e.id,text:e.text,disabled:n||!!e.disabled,isSelected:!!a&&a.id===e.id,isLoading:o,onClick:this.handleChange})},o.renderOptions=function(){var r=this,e=this.props.options.map(function(e,t){return r.renderOption(e,t)});return i.default.createElement("div",{className:this.getClassName(),"aria-disabled":this.props.disabled},e)},o.render=function(){return i.default.createElement("div",null,this.renderOptions(),"failed"===this.props.saveState&&i.default.createElement(s.default,{errorMessage:(0,l.translate)("something_is_wrong")}))},r}(i.Component);t.default=o},707:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapStateToProps=void 0;var n,o=r(38),a=(n=r(708))&&n.__esModule?n:{default:n};var s=r(122).currentViewSelector,i=function(e,t){var r=t.cardUri;if(!e.messengerCards)return{};var n=e.messengerCards[r];if(!n)return{};var o=n.card,a=!!e.borderless.conversationId,i=a?"conversation":s(e),l=e.app.conversationId;return{cardUri:r,currentView:i,messengerAppId:o&&o.messenger_app_id,conversationId:l,isBorderless:a}};t.mapStateToProps=i;var l=(0,o.connect)(i)(a.default);t.default=l},708:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(709)),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=r(127),n=o(r(7)),s=r(89),u=o(r(714)),c=o(r(693)),d=o(r(443)),p=o(r(716)),f=o(r(719)),m=o(r(720)),h=o(r(721)),v=o(r(723)),y=o(r(726)),b=o(r(728)),g=r(174);function o(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e,o){var a={};return e.components.map(function(e){var t,r,n;w(e)&&(a[e.id]=(t=o[e.id],r=e,(n=t||{}).userChanged||(n={value:r.value||"",userChanged:!1}),n))}),a},w=function(e){return"input"===e.type||"dropdown"===e.type||"single-select"===e.type},E=function(n){var e,t;function r(){for(var f,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return O(_(_(f=n.call.apply(n,[this].concat(t))||this)),"state",{values:P(f.props,{}),isGroupLoading:!1,isGroupSaving:!1}),O(_(_(f)),"handleFormComponentChange",function(e,t,r){var n,o=(0,a.default)({},f.state.values,((n={})[e]={value:t,userChanged:!0},n));f.setState({values:o},r)}),O(_(_(f)),"handleInputFocus",function(e){var t=f.props,r=t.cardUri,n=t.messengerAppId,o=t.conversationId,a=t.currentView,i=t.isBorderless;f.context.addMetric("focused","input","messenger_card",a,{conversation_id:o,messenger_app_id:n,messenger_card_uri:r,component_id:e,is_borderless:i},"m4_metric")}),O(_(_(f)),"handleAction",function(e,t,r,n,o){var a,i=f.props,l=i.cardUri,s=i.messengerAppId,u=i.conversationId,c=i.currentView,d=i.isBorderless;if(f.context.addMetric(n,r,"messenger_card",c,{conversation_id:u,messenger_app_id:s,messenger_card_uri:l,action_type:t.type,component_id:e,is_borderless:d},"m4_metric"),"sheet"===t.type&&(f.context.addMetric("viewed","messenger_sheet","messenger",c,{conversation_id:u,messenger_app_id:s,messenger_card_uri:l,component_id:e,url:t.url,is_borderless:d},"m4_metric"),o)){var p=o.target;p&&(0,g.setSheetOpener)(function(){return setTimeout(function(){return p.focus()},100)})}f.props.onAction(e,t,(a=f.state.values,Object.keys(a).reduce(function(e,t){return e[t]=a[t].value,e},{})))}),f}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return{values:P(e,t&&t.values?t.values:{}),isGroupLoading:(0,s.hasComponentWithKeyValue)(e.components,"loading",!0),isGroupSaving:(0,s.hasComponentWithKeyValue)(e.components,"saveState","saving")}};var o=r.prototype;return o.isDisabled=function(e){var t=this.state,r=t.isGroupLoading,n=t.isGroupSaving;return!0===e.disabled||r||n},o.renderComponent=function(e,t){var r={isFirst:0===t,isLast:t===this.props.components.length-1};switch(e.type){case"button":return i.default.createElement(u.default,C({},e,r,{onClick:this.handleAction,disabled:this.isDisabled(e)}));case"text":return i.default.createElement(c.default,C({},e,r));case"input":return i.default.createElement(p.default,C({},e,r,{onSubmit:this.handleAction,onChange:this.handleFormComponentChange,onFocus:this.handleInputFocus,disabled:this.isDisabled(e)}));case"spacer":return i.default.createElement(f.default,e);case"divider":return i.default.createElement(m.default,C({},e,r));case"image":return i.default.createElement(d.default,C({},e,r,{onClick:this.handleAction}));case"list":return i.default.createElement(h.default,C({},e,r,{onItemClick:this.handleAction,disabled:this.isDisabled(e)}));case"dropdown":return i.default.createElement(v.default,C({},e,r,{onChange:this.handleFormComponentChange,disabled:this.isDisabled(e),frameWindow:this.props.frameWindow}));case"single-select":return i.default.createElement(y.default,C({},e,r,{onSubmit:this.handleAction,onChange:this.handleFormComponentChange,disabled:this.isDisabled(e)}));default:return"Unknown component: "+e.type}},o.renderError=function(){return this.props.isContentFetching?null:i.default.createElement(l.CSSTransition,{key:"error",classNames:"intercom-messenger-card-component",timeout:{enter:900}},i.default.createElement(b.default,{getCardContent:this.props.getCardContent}))},o.renderComponents=function(){var r=this,e=this.props.components;return e.length?i.default.createElement(l.CSSTransition,{key:"error",classNames:"intercom-messenger-card-component",timeout:{enter:900}},i.default.createElement("div",null,e.map(function(e,t){return i.default.createElement("div",{key:(0,s.getComponentKey)(e,t),className:"intercom-messenger-card-component"},r.renderComponent(e,t))}))):null},o.render=function(){return i.default.createElement(l.TransitionGroup,{exit:!1,className:"intercom-messenger-card-component-group"},this.props.isContentError?this.renderError():this.renderComponents())},r}(i.PureComponent);(t.default=E).contextTypes={addMetric:n.default.func}},714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=o(r(15)),n=o(r(7)),l=o(r(123)),s=r(31);function o(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(n){var e,t;function r(){for(var l,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d(c(c(l=n.call.apply(n,[this].concat(t))||this)),"handleClick",function(e){var t=l.props,r=t.id,n=t.action,o=t.loading,a=t.disabled,i=t.onClick;e.preventDefault(),a||o||i(r,n,"button","clicked",e)}),l}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.getClassName=function(){var e=this.props,t=e.style,r=e.loading,n=e.isLast,o=e.bottomMargin,a=this.context.isPrimaryColorLight;return(0,i.default)({"intercom-messenger-card-button":!0,"intercom-messenger-card-button-loading":r,"intercom-messenger-card-button-primary":"primary"===t,"intercom-messenger-card-button-secondary":"secondary"===t,"intercom-messenger-card-button-link":"link"===t,"intercom-messenger-card-button-last-component":n,"intercom-messenger-card-button-margin-bottom-none":"none"===o,"intercom-messenger-card-button-disabled":this.isDisabled(),"intercom-messenger-card-button-light":a&&a()})},o.isDisabled=function(){var e=this.props,t=e.disabled,r=e.loading;return t&&!r},o.hasUrlAction=function(){var e=this.props.action;return"url"===e.type&&e.url},o.buildAnchorProps=function(){return{href:this.props.action.url?this.props.action.url:null,className:this.getClassName(),onClick:this.handleClick,role:"button"}},o.renderAnchor=function(){return a.default.createElement("a",this.buildAnchorProps(),this.props.label)},o.renderButton=function(){var e=this.props,t=e.label,r=e.loading,n="primary"===e.style?"white":"primary",o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){d(t,e,r[e])})}return t}({"aria-label":r?(0,s.translate)("loading"):t},r?{role:"progressbar"}:{});return a.default.createElement("button",u({className:this.getClassName(),onClick:this.handleClick,disabled:this.isDisabled()},o,{tabIndex:"0"}),r?a.default.createElement(l.default,{size:"small",color:n}):t)},o.render=function(){return this.hasUrlAction()?this.renderAnchor():this.renderButton()},r}(a.PureComponent);d(t.default=p,"defaultProps",{style:"primary",disabled:!1,loading:!1,isLast:!1,bottomMargin:"default"}),d(p,"contextTypes",{isPrimaryColorLight:n.default.func})},716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),l=n(r(691)),s=r(24);function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(u(u(n=o.call.apply(o,[this].concat(t))||this)),"node",null),c(u(u(n)),"interval",void 0),c(u(u(n)),"handleSubmit",function(){var e=n.props,t=e.id,r=e.action;n.props.onSubmit(t,r,"input","submitted")}),c(u(u(n)),"handleChange",function(e){n.props.onChange(n.props.id,e)}),c(u(u(n)),"handleFocus",function(){if(n.props.onFocus(n.props.id),n.node&&(0,s.isMobileBrowser)()&&(0,s.isAndroid)()){clearInterval(n.interval);var e=0;n.interval=setInterval(function(){n.node&&n.node.scrollIntoView(),7==++e&&clearInterval(n.interval)},200)}}),n}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isLast,r=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-input":!0,"intercom-messenger-card-input-last-component":t,"intercom-messenger-card-input-margin-bottom-none":"none"===r})},n.componentWillUnmount=function(){clearInterval(this.interval)},n.renderLabel=function(){return a.default.createElement("label",{className:"intercom-messenger-card-input-label"},this.props.label)},n.buildInputProps=function(){var e=this.props,t=e.action,r=e.value,n=e.id,o=e.label;return{value:r,placeholder:e.placeholder,id:n,label:o,saveState:e.saveState,disabled:e.disabled,ariaLabel:e.ariaLabel,ariaLabelledby:e.ariaLabelledby,buttonAriaLabel:t?t.ariaLabel:void 0,buttonAriaLabelledby:t?t.ariaLabelledby:void 0,hideErrorMessage:!0,autoFocus:!1,isBorderless:!1,isReplyType:!1,isSubmittable:!!t,onSubmit:this.handleSubmit,onChange:this.handleChange,isValid:function(){return!0},onFocus:this.handleFocus}},n.renderInput=function(){var e=this.buildInputProps();return a.default.createElement(l.default,e)},n.render=function(){var t=this;return a.default.createElement("div",{className:this.getClassName(),ref:function(e){return t.node=e}},this.props.label?this.renderLabel():null,this.renderInput())},r}(a.PureComponent);c(t.default=o,"defaultProps",{disabled:!1,saveState:"unsaved",required:!0,isLast:!1,bottomMargin:"default"})},717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),n=o(r(7)),v=o(r(444)),a=o(r(15)),y=r(31),b=o(r(699)),g=o(r(718)),i=o(r(123));function o(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return _(l(l(t=o.call.apply(o,[this].concat(r))||this)),"state",{value:t.props.value||""}),_(l(l(t)),"handleChange",function(e){t.setState({value:e}),t.props.onChange(e)}),_(l(l(t)),"handleSubmit",function(){if(!t.isDisabled()){var e=t.state.value;t.props.onSubmit(e)}}),_(l(l(t)),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.handleSubmit())}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getButtonClassNames=function(){var e=this.props,t=e.saveState,r=e.disabled,n=this.context.isPrimaryColorLight;return(0,a.default)({"intercom-submittable-input-submit-button":!0,"intercom-submittable-input-submit-button-disabled":r&&"saving"!==t,"intercom-submittable-input-submit-button-saving":"saving"===t,"intercom-submittable-input-submit-button-light":n&&n()})},n.isDisabled=function(){var e=this.props,t=e.saveState;return e.disabled||"saving"===t||"saved"===t},n.renderLoadingSpinner=function(){var e=(0,this.context.isPrimaryColorLight)()?"black":"white";return h.default.createElement(i.default,{color:e,size:"small"})},n.render=function(){var e=this.props,t=e.value,r=e.saveState,n=e.placeholder,o=e.id,a=e.label,i=e.autoFocus,l=e.onFocus,s=e.ariaLabel,u=e.ariaLabelledby,c=e.buttonAriaLabel,d=e.buttonAriaLabelledby,p=e.type,f="saving"===r,m=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_(t,e,r[e])})}return t}({"aria-label":f?(0,y.translate)("loading"):c||(0,y.translate)("submit"),"aria-labelledby":d},f?{role:"progressbar"}:{});return h.default.createElement("div",null,h.default.createElement(v.default,{value:t,key:t,placeholder:n,id:o,label:a,ariaLabel:s,ariaLabelledby:u,type:p,disabled:this.isDisabled(),autoFocus:i,onChange:this.handleChange,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown,onFocus:l,isFailed:"failed"===r}),h.default.createElement("button",C({className:this.getButtonClassNames(),disabled:this.isDisabled(),onClick:this.handleSubmit},m,{tabIndex:"0"}),h.default.createElement(b.default,null),f?this.renderLoadingSpinner():null),h.default.createElement(g.default,null))},r}(h.PureComponent);_(t.default=s,"contextTypes",{isPrimaryColorLight:n.default.func}),_(s,"defaultProps",{saveState:"unsaved",disabled:!1,autoFocus:!0,errorMessage:(0,y.translate)("something_is_wrong"),onChange:function(){}})},718:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement("svg",{className:"intercom-submittable-input-success-icon"},o.default.createElement("path",{d:"M1 5.485l5.194 4.706L13.36.874",strokeWidth:"2.5",fill:"none",fillRule:"evenodd"}))};var n,o=(n=r(2))&&n.__esModule?n:{default:n}},719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(15))&&n.__esModule?n:{default:n};var o,l,s,u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props.size;return(0,i.default)({"intercom-messenger-card-spacer":!0,"intercom-messenger-card-spacer-xs":"xs"===e,"intercom-messenger-card-spacer-s":"s"===e,"intercom-messenger-card-spacer-m":"m"===e,"intercom-messenger-card-spacer-l":"l"===e,"intercom-messenger-card-spacer-xl":"xl"===e})},o.render=function(){return a.default.createElement("div",{className:this.getClassName()})},n}(a.PureComponent);t.default=u,s={size:"s"},(l="defaultProps")in(o=u)?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s},720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=(n=r(15))&&n.__esModule?n:{default:n};var o,l,s,u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props,t=e.isLast,r=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-divider":!0,"intercom-messenger-card-divider-last-component":t,"intercom-messenger-card-divider-margin-bottom-none":"none"===r})},o.render=function(){return a.default.createElement("div",{className:this.getClassName()})},n}(a.PureComponent);t.default=u,s={isLast:!(l="defaultProps"),bottomMargin:"default"},l in(o=u)?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s},721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),l=n(r(722));function n(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o,u,c,d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var o=n.prototype;return o.getClassName=function(){var e=this.props,t=e.isFirst,r=e.isLast,n=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-list":!0,"intercom-messenger-card-list-first-component":t,"intercom-messenger-card-list-last-component":r,"intercom-messenger-card-list-margin-bottom-none":"none"===n})},o.render=function(){var e=this.props,t=e.items,r=e.onItemClick,n=e.disabled;return a.default.createElement("div",{className:this.getClassName()},t.map(function(e,t){return a.default.createElement(l.default,s({key:t},e,{disabled:n||e.disabled,onClick:r}))}))},n}(a.PureComponent);t.default=d,c={items:[],isFirst:!(u="defaultProps"),isLast:!1,bottomMargin:"default",disabled:!1},u in(o=d)?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c},722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),n=o(r(7)),a=o(r(15)),s=o(r(443)),i=o(r(123));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(u(u(a=n.call.apply(n,[this].concat(t))||this)),"handleClick",function(e){var t=a.props,r=t.id,n=t.action,o=t.onClick;!a.isDisabled()&&n&&o(r,n,"actionable_list_item","clicked",e)}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.isDisabled=function(){var e=this.props,t=e.disabled,r=e.loading;return t||r},o.hasUrlAction=function(){var e=this.props.action;return e&&"url"===e.type&&e.url},o.getClassName=function(){var e=this.props.action,t=this.context.isPrimaryColorLight;return(0,a.default)({"intercom-messenger-card-list-item":!0,"intercom-messenger-card-list-item-light":t(),"intercom-messenger-card-list-item-active":e&&!this.isDisabled(),"intercom-messenger-card-list-item-disabled":this.isDisabled()})},o.getTitleClassName=function(){var e=this.props.action;return(0,a.default)({"intercom-messenger-card-list-item-text-title":!0,"intercom-messenger-card-list-item-text-title-action":e,"intercom-messenger-card-list-item-text-title-disabled":this.isDisabled()})},o.buildImageProps=function(){var e=this.props;return{type:"image",url:e.image,width:e.imageWidth,height:e.imageHeight,rounded:e.roundedImage,disabled:this.isDisabled()}},o.renderSubtitle=function(){var e=this.props,t=e.subtitle,r=e.tertiaryText;return l.default.createElement("div",{className:"intercom-messenger-card-list-item-text-subtitle"},t?l.default.createElement("span",{className:"intercom-messenger-card-list-item-text-subtitle-secondary-text"},t):null,r?l.default.createElement("span",{className:"intercom-messenger-card-list-item-text-subtitle-tertiary-text"},r):null)},o.renderSpinner=function(){return this.hasUrlAction()||!this.props.loading?null:l.default.createElement(i.default,{size:"small",color:"primary"})},o.render=function(){var t=this,e=this.props,r=e.title,n=e.subtitle,o=e.tertiaryText,a=e.image,i=e.disabled;return l.default.createElement("div",{className:this.getClassName(),onClick:t.handleClick,"aria-disabled":i,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},a?l.default.createElement(s.default,this.buildImageProps()):null,l.default.createElement("div",{className:"intercom-messenger-card-list-item-text"},l.default.createElement("div",{className:this.getTitleClassName()},r),n||o?this.renderSubtitle():null),this.renderSpinner())},r}(l.PureComponent);c(t.default=d,"defaultProps",{title:"",disabled:!1,loading:!1,roundedImage:!1}),c(d,"contextTypes",{isPrimaryColorLight:n.default.func})},723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),l=n(r(700));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(o){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(s(s(t=o.call.apply(o,[this].concat(r))||this)),"state",t.getDefaultState()),u(s(s(t)),"handleOnChange",function(e){t.setState({value:e}),t.props.onChange(t.props.id,e.id)}),t}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getDefaultState=function(){var e=this.props,t=e.options,r=e.value;return{value:t.find(function(e){return e.id===r}),loading:!1}},n.getClassName=function(){var e=this.props,t=e.disabled,r=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-dropdown":!0,"intercom-messenger-card-dropdown-disabled":t,"intercom-messenger-card-dropdown-margin-bottom-none":"none"===r})},n.renderLabel=function(){return a.default.createElement("label",{className:"intercom-messenger-card-dropdown-label"},this.props.label)},n.mapOptions=function(){return this.props.options.map(function(e){return{id:e.id,text:e.text,disabled:!!e.disabled}})},n.render=function(){var e=this.props,t=e.label,r=e.disabled,n=e.saveState;return a.default.createElement("div",{className:this.getClassName()},t?this.renderLabel():null,a.default.createElement(l.default,{value:this.state.value,options:this.mapOptions(),disabled:r,saveState:n,frameWindow:this.props.frameWindow,onChange:this.handleOnChange}))},r}(a.PureComponent);u(t.default=o,"defaultProps",{disabled:!1,bottomMargin:"default"})},724:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),o=n(r(15)),s=n(r(725));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(l){var e,t;function r(){for(var a,e,t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=l.call.apply(l,[this].concat(o))||this,e=u(u(a)),r=function(e){var t=a.props,r=t.id,n=t.text,o=t.onClick;t.disabled?e.stopPropagation():o({id:r,text:n})},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,a}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isSelected,r=e.disabled;return(0,o.default)({"intercom-list-attribute-option":!0,"intercom-list-attribute-option-selected":t,"intercom-list-attribute-option-disabled":r})},n.render=function(){var t=this,e=this.props,r=e.id,n=e.text,o=e.disabled,a=e.isSelected;return i.default.createElement("div",{key:r,className:this.getClassName(),onClick:t.handleClick,"aria-disabled":o,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},a?i.default.createElement(s.default,null):null,n)},r}(i.Component);t.default=a},725:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement("svg",{className:"intercom-check-icon",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M13.933 3.09a.35.35 0 0 0-.495.026l-7.236 8.012-3.757-3.393a.35.35 0 0 0-.495.025l-.86.951a.35.35 0 0 0 .026.495l4.96 4.48a.34.34 0 0 0 .17.082.346.346 0 0 0 .34-.107l8.324-9.217a.35.35 0 0 0-.026-.494l-.951-.86z"}))};var n,o=(n=r(2))&&n.__esModule?n:{default:n}},726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),i=n(r(15)),l=n(r(701)),s=n(r(401));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(n){var e,t;function r(){for(var l,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(u(u(l=n.call.apply(n,[this].concat(t))||this)),"state",l.getDefaultState()),c(u(u(l)),"handleOnChange",function(e){var t=l.props,r=t.id,n=t.action,o=t.disabled,a=t.onChange,i=t.onSubmit;o||l.state.loading||(n?("submit"===n.type&&l.setState({value:e,loading:!0}),a(r,e.id,function(){i(r,n,"single-select","submitted")})):(l.setState({value:e}),a(r,e.id)))}),l}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.getDefaultState=function(){var e=this.props,t=e.options,r=e.value,n=e.saveState;return{value:t.find(function(e){return e.id===r}),loading:"saving"===n}},o.componentDidUpdate=function(){this.state.loading&&"saved"===this.props.saveState&&this.handleSaveCompletion()},o.getClassName=function(){var e=this.props,t=e.disabled,r=e.bottomMargin;return(0,i.default)({"intercom-messenger-card-single-select":!0,"intercom-messenger-card-single-select-disabled":t,"intercom-messenger-card-single-select-loading":this.state.loading,"intercom-messenger-card-single-select-margin-bottom-none":"none"===r})},o.renderLabel=function(){return a.default.createElement("label",{className:"intercom-messenger-card-single-select-label"},this.props.label)},o.handleSaveCompletion=function(){this.setState({loading:!1})},o.mapOptions=function(){return this.props.options.map(function(e){return{id:e.id,text:e.text,disabled:!!e.disabled}})},o.render=function(){var e=this.props,t=e.label,r=e.saveState,n=e.disabled,o=this.state.value;return a.default.createElement("div",{className:this.getClassName()},t?this.renderLabel():null,a.default.createElement(l.default,{value:o,key:(0,s.default)(JSON.stringify(o)),options:this.mapOptions(),saveState:r,disabled:n,isLoading:this.state.loading,onChange:this.handleOnChange}))},r}(a.PureComponent);c(t.default=o,"defaultProps",{disabled:!1,bottomMargin:"default"})},727:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=n(r(15)),i=n(r(123));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(l){var e,t;function r(){for(var o,e,t,r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return o=l.call.apply(l,[this].concat(a))||this,e=s(s(o)),r=function(){var e=o.props,t=e.id,r=e.text,n=e.onClick;e.disabled||n({id:t,text:r})},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,o}t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.props,t=e.isSelected,r=e.disabled;return(0,a.default)({"intercom-button-group-item-attribute":!0,"intercom-button-group-item-attribute-selected":t,"intercom-button-group-item-attribute-disabled":r})},n.renderText=function(){var e=this.props,t=e.text,r=e.isSelected,n=e.isLoading;return r&&n?o.default.createElement(i.default,{size:"small",color:"white"}):o.default.createElement("span",{className:"intercom-button-group-item-attribute-text"},t)},n.render=function(){var e=this.props,t=e.id,r=e.disabled;return o.default.createElement("button",{key:t,className:this.getClassNames(),onClick:this.handleClick,"aria-disabled":r,tabIndex:"0"},this.renderText())},r}(o.Component);t.default=l},728:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),a=r(31),i=(n=r(694))&&n.__esModule?n:{default:n};function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(l){var e,t;function r(){for(var e,t,r,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=l.call.apply(l,[this].concat(a))||this,t=s(s(e)),n=function(){e.props.getCardContent()},(r="handleTryAgain")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=l,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var t=this;return o.default.createElement("div",{className:"intercom-messenger-card-error"},o.default.createElement(i.default,null),o.default.createElement("span",null,(0,a.translate)("couldnt_load_app")," "),o.default.createElement("span",{className:"try-again",onClick:t.handleTryAgain,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleTryAgain(e)},role:"button",tabIndex:"0"},(0,a.translate)("try_again")))},r}(o.PureComponent);t.default=l},755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveSheetMessage=function(i,l){return function(e,t){var r=l.data||{},n=r.intercomSheet,o=t(),a=(0,v.sourceCardSelector)(o);if(!n)return null;switch(n.type){case d.SHEET_LOADED:e({type:"FINISH_NAVIGATION"});break;case c.START_NAVIGATION:e({type:"START_NAVIGATION"});break;case c.FINISH_NAVIGATION:e({type:"FINISH_NAVIGATION"});break;case c.CLOSE:e(C("sheet_api_close"));break;case c.SET_TITLE:if(!n.payload)return;e(_(n.payload.title));break;case c.SUBMIT_SHEET:if(!a)return null;e({type:"START_NAVIGATION"}),e(h(i,n.payload))}}},t.fetchMessengerSheetData=function(a,i,l,s,u){return function(t,e){var r=e(),n=r.app.isMessengerOpen,o=r.session;return n||t((0,p.toggleMessenger)()),t(g(s,i,l)),t(O()),t((0,m.closeMessage)()),a.fetchMessengerSheetData(o,i,l,u).then(function(e){t(P(e))}).catch(function(){t(w())})}},t.submitSheet=h,t.openSheet=g,t.closeSheet=C,t.setSheetTitle=_,t.startNavigation=n,t.finishNavigation=o,t.setProxyLoadedStatus=function(e){void 0===e&&(e=!1);return{type:"SET_PROXY_LOADED_STATUS",isLoaded:e}},t.fetchMessengerSheetDataFailure=t.fetchMessengerSheetDataSuccess=t.fetchMessengerSheetDataRequest=void 0;var l=r(435),s=r(125),u=r(423),c=r(404),d=r(445),v=r(695),p=r(168),f=r(176),m=r(437),y=r(122).currentViewSelector,b=r(39);function h(a,i){return function(t,e){var r=e(),n=(0,v.sourceCardSelector)(r).get("cardUri"),o=r.session;return a.submitSheet(o,n,i).then(function(e){t((0,l.submitMessengerCardActionSuccess)(e)),t((0,s.getCardContent)(a,e))}).then(function(){return new Promise(function(e){return setTimeout(e,u.transitionLeaveTimeout+u.transitionDuration)})}).then(function(){t({type:"FINISH_NAVIGATION"}),t(C("sheet_api_submit"))}).catch(function(){t((0,f.showAlert)("MessengerSheetSubmitError",{sheetValues:i}))})}}function g(e,t,r){return{type:"OPEN_SHEET",url:e,cardUri:t,componentId:r}}function C(h){return function(e,t){var r,n,o,a,i,l,s=t(),u=(0,v.sourceCardSelector)(s).get("cardUri"),c=s.messengerCards[u].card;if(c){var d=s.messengerSheet.url,p=s.user,f=s.app.conversationId,m="sheet_api_submit"===h||"sheet_api_close"===h?h:y(s);r=p,n=m,o=d,a=u,i=c.messenger_app_id,l=f,b.buildAndAddMetric(r,"closed","messenger_sheet","messenger",n,{url:o,messenger_card_uri:a,messenger_app_id:i,conversation_id:l},"m4_metric")}e({type:"CLOSE_SHEET"})}}function _(e){return{type:"SET_SHEET_TITLE",sheetTitle:e}}function n(){return{type:"START_NAVIGATION"}}function o(){return{type:"FINISH_NAVIGATION"}}var O=function(){return{type:"FETCH_MESSENGER_SHEET_DATA_REQUEST"}};t.fetchMessengerSheetDataRequest=O;var P=function(e){return{type:"FETCH_MESSENGER_SHEET_DATA_SUCCESS",data:e}};t.fetchMessengerSheetDataSuccess=P;var w=function(){return{type:"FETCH_MESSENGER_SHEET_DATA_FAILURE"}};t.fetchMessengerSheetDataFailure=w},819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{className:"intercom-close-icon"},o.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("g",{transform:"translate(-340.000000, -32.000000)",fill:"#ffffff"},o.default.createElement("polygon",{points:"350.656537 44 346 39.343463 341.343463 44 340 42.656537 344.656537 38 340 33.343463 341.343463 32 346 36.656537 350.656537 32 352 33.343463 347.343463 38 352 42.656537"}))))};t.default=a},820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openLink=t.shouldOpenInNewWindow=t.openUrlInNewWindow=t.safelyOpenUrlInNewWindow=t.getWindowLocationHostname=void 0;var n=r(698).parseURL,o=r(24),a=function(){return window.location.hostname};t.getWindowLocationHostname=a;var i=function(e){var t=window.open("");t&&(t.opener=null,t.document.write('<meta http-equiv="refresh" content="0; url='+e+'">'),t.document.close())};t.safelyOpenUrlInNewWindow=i;var l=function(e){u(e)&&(c()?window.open(e):i(e))};t.openUrlInNewWindow=l;var s=function(e){return u(e)&&a()!==n(e).hostname};t.shouldOpenInNewWindow=s;t.openLink=function(e){var t=e.getAttribute("href"),r=e.getAttribute("data-via")||t;if(0<=e.className.split(" ").indexOf("intercom-link-card"))return!1;if(0===t.indexOf("mailto:"))return!1;e.setAttribute("href",r);var n=s(t);return o.isChrome()?(e.setAttribute("target",n?"_blank":"_parent"),!1):n?(l(r),!0):(e.setAttribute("target","_parent"),!1)};var u=function(e){return null!=e&&""!==e},c=function(){return o.isElectron()||o.isNativeMobile()||o.isIOSFirefox()}},827:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),l=o(r(15)),n=o(r(7)),a=r(423);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(o){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(s(s(e=o.call.apply(o,[this].concat(r))||this)),"state",{isRenderComplete:e.props.isContentFetched}),u(s(s(e)),"settingRenderCompleteTimeout",void 0),e}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){var t=this;if(this.props.isContentFetched&&!e.isContentFetched){var r=a.transitionEnterTimeout+a.transitionDuration;this.settingRenderCompleteTimeout=setTimeout(function(){t.setState({isRenderComplete:!0})},r)}},n.componentWillUnmount=function(){clearTimeout(this.settingRenderCompleteTimeout)},n.render=function(){var e=this.props,t=e.isBorderless,r=e.children,n=e.style,o=this.context.isPrimaryColorLight,a=(0,l.default)({"intercom-messenger-card-wrapper":!0,"intercom-messenger-card-wrapper-borderless":t,"intercom-messenger-card-wrapper-light":o(),"intercom-messenger-card-wrapper-fetching":!this.state.isRenderComplete});return i.default.createElement("div",{className:a,style:n},r)},r}(i.PureComponent);u(t.default=c,"defaultProps",{isBorderless:!1}),u(c,"contextTypes",{isPrimaryColorLight:n.default.func})},834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r(2)),n=o(r(7)),d=r(24),i=r(31),l=o(r(835)),s=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(n){var e,t;function r(){for(var c,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p(u(u(c=n.call.apply(n,[this].concat(t))||this)),"handleClick",function(){c.addMetric("clicked")}),p(u(u(c)),"getLinkUrl",function(){var e=c.props,t=e.userId,r=e.appName,n=e.intercomLinkSolution,o=e.appId,a=e.currentView,i=n||"",l="utm_content=4+";a&&(l+=a+"+"),l+=e.isDeveloperWorkspace?"developer-workspace&":"we-run-on-intercom&";var s=(0,d.isMobileBrowser)()?"mobile-web":"desktop-web",u=encodeURI(window.location.origin+window.location.pathname);return"https://www.intercom.com/intercom-link?user_id="+(t||"")+"&powered_by_app_id="+(o||"")+"&company="+encodeURIComponent(r)+"&solution="+i+"&"+l+"utm_source="+s+"&utm_medium=messenger&utm_campaign=intercom-link&utm_referrer="+u}),c}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var o=r.prototype;return o.addMetric=function(e){var t=this.props,r=t.currentView,n=t.isDeveloperWorkspace?"developer_workspace":"we_run_on_intercom";this.context.addMetric(e,n,"messenger",r,{},"m4_metric")},o.getClassName=function(){return(0,s.default)({"intercom-link-container":!0,"intercom-under-construction-banner":this.props.isDeveloperWorkspace})},o.getLinkText=function(){return this.props.isDeveloperWorkspace?"Development Workspace":(0,i.translate)("we_run_on_intercom")},o.render=function(){return a.default.createElement("div",{className:this.getClassName()},a.default.createElement("div",{className:"intercom-link"},a.default.createElement("a",{href:this.getLinkUrl(),onClick:this.handleClick,className:"intercom-link-target",target:"_blank",tabIndex:"0"},a.default.createElement(l.default,null),a.default.createElement("span",{className:"intercom-link-text"},this.getLinkText()))))},r}(a.Component);p(t.default=c,"defaultProps",{currentView:"conversation"}),p(c,"contextTypes",{addMetric:n.default.func})},835:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var a=function(){return o.default.createElement("svg",{className:"intercom-link-container-icon",viewBox:"0 0 16 16"},o.default.createElement("g",null,o.default.createElement("path",{d:"M13.9 8.8C13.9 9.1 13.6 9.3 13.3 9.3 13 9.3 12.8 9.1 12.8 8.8L12.8 4C12.8 3.7 13 3.5 13.3 3.5 13.6 3.5 13.9 3.7 13.9 4L13.9 8.8 13.9 8.8ZM13.7 12.1C13.6 12.2 11.6 13.9 8 13.9 4.4 13.9 2.4 12.2 2.3 12.1 2.1 11.9 2.1 11.6 2.3 11.4 2.5 11.2 2.8 11.1 3 11.3 3 11.4 4.8 12.8 8 12.8 11.2 12.8 13 11.3 13 11.3 13.2 11.1 13.5 11.2 13.7 11.4 13.9 11.6 13.9 11.9 13.7 12.1L13.7 12.1ZM2.1 4C2.1 3.7 2.4 3.5 2.7 3.5 3 3.5 3.2 3.7 3.2 4L3.2 8.8C3.2 9.1 3 9.3 2.7 9.3 2.4 9.3 2.1 9.1 2.1 8.8L2.1 4 2.1 4ZM4.8 2.9C4.8 2.6 5 2.4 5.3 2.4 5.6 2.4 5.9 2.6 5.9 2.9L5.9 10.1C5.9 10.4 5.6 10.6 5.3 10.6 5 10.6 4.8 10.4 4.8 10.1L4.8 2.9 4.8 2.9ZM7.5 2.7C7.5 2.4 7.7 2.1 8 2.1 8.3 2.1 8.5 2.4 8.5 2.7L8.5 10.4C8.5 10.7 8.3 10.9 8 10.9 7.7 10.9 7.5 10.7 7.5 10.4L7.5 2.7 7.5 2.7ZM10.1 2.9C10.1 2.6 10.4 2.4 10.7 2.4 11 2.4 11.2 2.6 11.2 2.9L11.2 10.1C11.2 10.4 11 10.6 10.7 10.6 10.4 10.6 10.1 10.4 10.1 10.1L10.1 2.9 10.1 2.9ZM14 0L2 0C0.9 0 0 0.9 0 2L0 14C0 15.1 0.9 16 2 16L14 16C15.1 16 16 15.1 16 14L16 2C16 0.9 15.1 0 14 0L14 0Z"})))};t.default=a}}]);