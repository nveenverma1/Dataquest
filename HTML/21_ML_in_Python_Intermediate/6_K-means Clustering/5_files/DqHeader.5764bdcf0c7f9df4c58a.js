(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1159:function(e,n,t){"use strict";var o={};t.r(o),t.d(o,"startup_helpscout",function(){return C}),t.d(o,"change_type",function(){return N}),t.d(o,"open_for_mission",function(){return S}),t.d(o,"open_for_general",function(){return T}),t.d(o,"open_for_dashboard",function(){return x}),t.d(o,"close_helpscout",function(){return M});var r=t(11),i=t.n(r),a=t(10),s={loaded:!1,show:!1,opening:!1,beacon_type:""},_="helpscout",l=(Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e})({},Object(a.make_simple_selectors)(s,_)),c=Object(a.make_reducer_n_actions)({public_handlers:{},private_handlers:{change_show:function(e,n){var t=n.payload;return e.merge({show:t})},script_loaded:function(e){return e.merge({loaded:!0})},set_type:function(e,n){var t=n.payload;return e.merge({beacon_type:t})},set_opening:function(e,n){var t=n.payload;return e.merge({opening:t})}},action_types_prefix:"helpscout/",initial_state:s,Immutable:i.a}),u=c.reducer,d=c.private_actions,p=c.actions,m=(c.ACTION_TYPES,u),f=t(88),h=t.n(f),g=t(102),b=t.n(g),y=t(2),w=t.n(y),v=t(4),k=t(18),q=t(22),D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},E={MISSIONS:"c128c1fd-f90e-43be-92c7-8bc4533ad48f",GENERAL:"2bd520af-c65b-40fb-9272-66eb05c2e755",DASHBOARD:"4022be22-ba10-4ba9-b898-f91e0d6b3937"},H={TOPIC:9155,SEQUENCE:9954,CODE:11291,PLAN:11292,CODE_OUTPUT:11293};window.Beacon=function(e,n,t){window.Beacon.readyQueue.push({method:e,options:n,data:t})},window.Beacon.readyQueue=[];var O=function(e,n){l.loaded(n())||C.scriptjs("https://beacon-v2.helpscout.net/",function(){e(d.script_loaded())})},C=function(){return function(e,n){O(e,n),N("GENERAL")(e,n)}};C.scriptjs=b.a;var N=function(e){return function(n,t){l.beacon_type(t())!==e&&(window.Beacon("destroy"),window.Beacon("init",E[e]),window.Beacon("config",{display:{style:"manual"}}),window.Beacon("on","close",function(){return n(d.change_show(!1))}),window.Beacon("on","open",function(){return n(d.set_opening(!1))}),n(d.set_type(e)))}};function P(e,n){return n||(n="n/a"),{id:e,value:n}}var j=["name","email","subject","text"],R=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments[2];return function(o,r){O(o,r),o(d.set_opening(!0)),N(e)(o,r),window.Beacon("reset"),window.Beacon("identify",D({user_id:v.b.user_id(r()),logrocket:h.a.sessionURL},w.a.get(n,"identify",{}))),function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={name:v.b.user_name(e()),email:v.b.user_email(e())};j.forEach(function(e){w.a.get(n,["fields",e])&&(o[e]=n.fields[e])}),t.push(P(H.PLAN,v.b.plan_full_name(e()))),w.a.forEach(n.fields,function(e,n){var o=H[n.toUpperCase()];o&&t.push(P(o,w.a.toString(e)))});var r=w.a.uniqWith(t,function(e,n){return e.id===n.id});window.Beacon("prefill",D({},o,{fields:r}))}(r,n,t),!0===n.open_message?(window.Beacon("open"),window.Beacon("navigate","/ask/message/")):n.open_message?window.Beacon("article",n.open_message):window.Beacon("open"),o(d.change_show(!0))}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n,t){var o=k.c.current_step_output(t());e.identify={run_count:k.c.run_count(t()),run_success:o.has_result?o.success:null,output_hints:o.hints.join(" | ")};var r=[P(H.SEQUENCE,q.d.mission_info(t()).sequence),P(H.CODE,k.c.current_code(t())),P(H.CODE_OUTPUT,o.errors)];return R("MISSIONS",e,r)(n,t)}},T=function(e){return R("GENERAL",e)},x=function(e){return R("DASHBOARD",e)},M=function(){return function(e,n){window.Beacon("close"),e(d.change_show(!1))}},I=t(16);t.d(n,"a",function(){return L}),t.d(n,"b",function(){return l}),t.d(n,!1,function(){return _}),t.d(n,!1,function(){}),t.d(n,!1,function(){return d});var L=Object.assign({},p,o);Object(I.a)(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},_,m))},1192:function(e,n,t){"use strict";var o=t(14),r=t.n(o),i=t(0),a=t.n(i),s=t(1),_=t.n(s),l=(t(1264),function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}()),c={"./MenuDropdown.scss":{menu_close:"MenuDropdown__menu_close",menu_open:"MenuDropdown__menu_open",dropmenu:"MenuDropdown__dropmenu"}};function u(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var d=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=u(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={menu_open:!1},o.toggle_menu=function(){return o.setState({menu_open:!o.state.menu_open})},o.toggle_menu_off=function(){o._timer&&window.clearTimeout(o._timer);o._timer=window.setTimeout(function(){return o.setState({menu_open:!1})},1e3)},o.toggle_menu_not_off=function(){o._timer&&window.clearTimeout(o._timer)},o._no_fallthrough=function(e){o.props.close_on_dropdown_click||e.stopPropagation()},u(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),l(n,[{key:"render_drop_menu",value:function(){return this.state.menu_open?a.a.createElement("div",{className:"MenuDropdown__dropmenu",onClick:this._no_fallthrough},this.props.dropdown):null}},{key:"render",value:function(){var e=this.state.menu_open?"menu_open":"menu_close";return a.a.createElement("div",{onClick:this.toggle_menu,onMouseLeave:this.toggle_menu_off,onMouseEnter:this.toggle_menu_not_off,className:r()(e,c)},this.render_drop_menu(),this.props.selector)}}]),n}();d.propTypes={selector:_.a.node.isRequired,dropdown:_.a.node.isRequired,close_on_dropdown_click:_.a.bool},d.displayName="MenuDropdown",n.a=d},1264:function(e,n,t){e.exports={menu_close:"MenuDropdown__menu_close",menu_open:"MenuDropdown__menu_open",dropmenu:"MenuDropdown__dropmenu"}},1265:function(e,n,t){e.exports={behind_paywall:"DqHeader__behind_paywall",not_logged_in:"DqHeader__not_logged_in",top_links:"DqHeader__top_links",user_box:"DqHeader__user_box",mission_title:"DqHeader__mission_title",back:"DqHeader__back",dropmenu:"DqHeader__dropmenu",menu_link:"DqHeader__menu_link",root:"DqHeader__root",root_blocked:"DqHeader__root_blocked",root_blocked_loggedin:"DqHeader__root_blocked_loggedin",root_marketing:"DqHeader__root_marketing",left_side:"DqHeader__left_side",left_side_non_mission:"DqHeader__left_side_non_mission",right_side:"DqHeader__right_side",middle:"DqHeader__middle",logo:"DqHeader__logo",new_version:"DqHeader__new_version",logo_on_new:"DqHeader__logo_on_new",behind_paywall_notice:"DqHeader__behind_paywall_notice",login_popup:"DqHeader__login_popup",not_logged_in_notice:"DqHeader__not_logged_in_notice",shield:"DqHeader__shield",bounceInDown:"DqHeader__bounceInDown",login_cancel:"DqHeader__login_cancel",menu_link_active:"DqHeader__menu_link_active",back_text:"DqHeader__back_text",icon:"DqHeader__icon",continue_mission:"DqHeader__continue_mission"}},1594:function(e,n,t){e.exports={errors:"MissingEmailPrompt__errors",root:"MissingEmailPrompt__root",thankyou:"MissingEmailPrompt__thankyou",body:"MissingEmailPrompt__body",controls:"MissingEmailPrompt__controls"}},1596:function(e,n,t){e.exports={root:"ConnectionDetails__root",error:"ConnectionDetails__error",item:"ConnectionDetails__item",warning:"ConnectionDetails__warning"}},1598:function(e,n,t){e.exports={root:"ConnectionIndicator__root",disconnected:"ConnectionIndicator__disconnected",good:"ConnectionIndicator__good",issue:"ConnectionIndicator__issue"}},1600:function(e,n,t){},1602:function(e,n,t){e.exports={body:"HelpScoutLauncher__body"}},1611:function(e,n,t){"use strict";t.r(n);var o=t(14),r=t.n(o),i=t(0),a=t.n(i),s=t(1),_=t.n(s),l=t(3),c=t(6),u=t(70),d=t(2),p=t.n(d),m=t(1265),f=t.n(m),h=t(148),g=t(9),b=t(5),y=t(20),w=t(1192),v=t(32),k=t.n(v)()({loader:function(){return t.e(33).then(t.bind(null,1610))},loading:function(){return null}}),q=t(140),D=t(104),E=t.n(D),H=(t(1602),t(1264),t(55)),O=t(1159),C=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),N={my_styles:{body:"HelpScoutLauncher__body"},menu_styles:{menu_close:"MenuDropdown__menu_close",menu_open:"MenuDropdown__menu_open",dropmenu:"MenuDropdown__dropmenu"},link_styles:{root_marketing:"DqHeader__root_marketing",root:"DqHeader__root",root_blocked:"DqHeader__root_blocked",root_blocked_loggedin:"DqHeader__root_blocked_loggedin",right_side:"DqHeader__right_side",left_side:"DqHeader__left_side",left_side_non_mission:"DqHeader__left_side_non_mission",middle:"DqHeader__middle",top_links:"DqHeader__top_links",not_logged_in:"DqHeader__not_logged_in",behind_paywall:"DqHeader__behind_paywall",logo:"DqHeader__logo",new_version:"DqHeader__new_version",logo_on_new:"DqHeader__logo_on_new",not_logged_in_notice:"DqHeader__not_logged_in_notice",behind_paywall_notice:"DqHeader__behind_paywall_notice",shield:"DqHeader__shield",login_popup:"DqHeader__login_popup",bounceInDown:"DqHeader__bounceInDown",login_cancel:"DqHeader__login_cancel",user_box:"DqHeader__user_box",menu_link:"DqHeader__menu_link",menu_link_active:"DqHeader__menu_link_active",dropmenu:"DqHeader__dropmenu",back:"DqHeader__back",back_text:"DqHeader__back_text",icon:"DqHeader__icon",mission_title:"DqHeader__mission_title",continue_mission:"DqHeader__continue_mission"}};function P(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var j=O.b,R=O.a,S=Object(l.createStructuredSelector)(j),T=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=P(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.is_mission_page=function(){return o.props.location.pathname.includes("/m/")},o.is_dashboard=function(){return o.props.location.pathname.includes("/dashboard")},o._change=function(e){o.props.show?o.props.close_helpscout():o.is_mission_page()?o.props.open_for_mission(e):o.is_dashboard()?o.props.open_for_dashboard(e):o.props.open_for_general(e)},o._onClick=function(){return o._change()},o.get_base_style=function(){return o.props.as_block_button?o.props.show?"menu_styles.menu_open":"menu_styles.menu_close":o.props.show?"link_styles.menu_link_active":"link_styles.menu_link"},P(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),C(n,[{key:"componentDidMount",value:function(){window.setTimeout(this.props.startup_helpscout,3e4);var e=E.a.parse(this.props.location.search);if(e.beacon){var n=p.a.reduce(e,function(e,n,t){return"b_"===t.substr(0,"b_".length)&&(e[t.substr("b_".length)]=n),e},{});this._change({open_message:"open"===e.beacon||e.beacon,fields:n})}}},{key:"render",value:function(){return a.a.createElement("div",{title:"Get Help",onClick:this._onClick,className:r()(this.get_base_style(),N)},a.a.createElement("div",{className:"HelpScoutLauncher__body"},this.props.opening?a.a.createElement(H.a,null):a.a.createElement(y.a,{name:"questions"})))}}]),n}();T.propTypes={className:_.a.string,as_block_button:_.a.bool,location:_.a.shape({pathname:_.a.string.isRequired,search:_.a.string.isRequired}).isRequired,opening:_.a.bool.isRequired,show:_.a.bool.isRequired,startup_helpscout:_.a.func.isRequired,open_for_mission:_.a.func.isRequired,open_for_general:_.a.func.isRequired,open_for_dashboard:_.a.func.isRequired,close_helpscout:_.a.func.isRequired},T.defaultProps={},T.displayName="HelpScoutLauncher";var x=Object(u.d)(Object(c.b)(S,R)(T)),M=(t(1600),t(1598),function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}()),I={"./ConnectionIndicator.scss":{root:"ConnectionIndicator__root",good:"ConnectionIndicator__good",issue:"ConnectionIndicator__issue",disconnected:"ConnectionIndicator__disconnected"}};var L=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),M(n,[{key:"render",value:function(){var e="good";return this.props.all_good||(e="issue"),this.props.connected||(e="disconnected"),a.a.createElement("div",{className:"ConnectionIndicator__root",title:this.props.tool_tip},a.a.createElement("div",{className:r()(e,I)}))}}]),n}();L.propTypes={tool_tip:_.a.string.isRequired,connected:_.a.bool.isRequired,all_good:_.a.bool.isRequired},L.defaultProps={},L.displayName="ConnectionIndicator";var B=L,A=(t(1596),function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}()),U={"./ConnectionDetails.scss":{root:"ConnectionDetails__root",item:"ConnectionDetails__item",error:"ConnectionDetails__error",warning:"ConnectionDetails__warning"}};var W=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),A(n,[{key:"render_since",value:function(){var e=this.props.connected_since;return null==e?a.a.createElement("div",{className:"ConnectionDetails__item"},"Not connected - retry: ",this.props.retry_count):a.a.createElement("div",{className:"ConnectionDetails__item"},"Connected since: ",new Date(e).toLocaleTimeString()," ")}},{key:"container_status",value:function(){var e=this.props.container_status;if(""===e)return null;var n="item";return"ready"!==e&&(n="warning"),"dead"===e&&(n="error"),a.a.createElement("div",{className:r()(n,U)},"Your virtual machine status: ",e," ")}},{key:"render_HTTP_option",value:function(){return p.a.includes(this.props.user_email,"@dataquest.io")?a.a.createElement("label",{className:"ConnectionDetails__item"},"Use ws: ",a.a.createElement("input",{type:"checkbox",checked:this.props.using_ws,onChange:this.props.dev_ws})):null}},{key:"render",value:function(){return a.a.createElement("div",{className:"ConnectionDetails__root"},this.props.error_message&&a.a.createElement("div",{className:"ConnectionDetails__error"},this.props.error_message),this.render_since(),a.a.createElement("div",{className:"ConnectionDetails__item"},"using ",this.props.using_ws?"websockets":"https"),this.render_HTTP_option(),this.container_status())}}]),n}();W.propTypes={connected:_.a.bool.isRequired,error_message:_.a.string,using_ws:_.a.bool.isRequired,retry_count:_.a.number.isRequired,connected_since:_.a.number,container_status:_.a.string.isRequired,dev_ws:_.a.func,user_email:_.a.string},W.displayName="ConnectionDetails";var G=W,Q=t(35),V=t(41),F=t(4),J=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),Y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};var z=Y({},Q.b,p.a.pick(V.c,["all_good","container_status"]),{user_email:F.b.user_email}),K=Y({},V.b,{dev_ws:Q.a.dev_ws}),X=Object(l.createStructuredSelector)(z),Z=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),J(n,[{key:"componentWillMount",value:function(){this.props.listen_for_container_status()}},{key:"render",value:function(){return a.a.createElement(w.a,{dropdown:a.a.createElement(G,p.a.omit(this.props,["styles"])),selector:a.a.createElement(B,{tool_tip:"Connection Status Details",connected:this.props.connected,all_good:this.props.all_good})})}}]),n}();Z.propTypes={connected:_.a.bool.isRequired,error_message:_.a.string,using_ws:_.a.bool,retry_count:_.a.number,connected_since:_.a.number,all_good:_.a.bool.isRequired,container_status:_.a.string.isRequired,listen_for_container_status:_.a.func.isRequired,dev_ws:_.a.func,user_email:_.a.string},Z.displayName="ConnectionStatusInMenu";var $=Object(c.b)(X,K)(Z),ee=(t(1594),function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}());function ne(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var te=p.a.pick(F.b,["is_logged_in","user_email","change_errors"]),oe=F.a,re=Object(l.createStructuredSelector)(te),ie=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=ne(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={email:"",submitting:!1,thankyou:!1},o._update_email=function(e){return o.setState({email:e.target.value})},o._submit=function(){o.props.add_email(o.state.email),o.setState({submitting:!0})},ne(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.Component),ee(n,[{key:"componentWillReceiveProps",value:function(e){var n=this;""!==e.user_email&&""===this.props.user_email&&this.props.is_logged_in&&(this.setState({thankyou:!0}),this._timer=setTimeout(function(){n.setState({thankyou:!1})},5e3)),e.change_errors&&this.state.submitting&&p.a.isEmpty(this.props.change_errors)&&this.setState({submitting:!1})}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"show_me",value:function(){return this.props.is_logged_in&&(this.state.thankyou||""===this.props.user_email)}},{key:"renderSubmitButton",value:function(){var e=this.state.submitting?"Adding":"Add";return a.a.createElement(g.a,{color:"green",disabled:this.state.submitting,waiting:this.state.submitting,text:e,onClick:this._submit})}},{key:"render_errors",value:function(){return p.a.isEmpty(this.props.change_errors)?null:a.a.createElement("div",{className:"MissingEmailPrompt__errors"},p.a.map(this.props.change_errors,function(e,n){return a.a.createElement("div",{key:n},e)}))}},{key:"render",value:function(){return this.show_me()?this.state.thankyou?a.a.createElement("div",{className:"MissingEmailPrompt__root"},a.a.createElement("div",{className:"MissingEmailPrompt__thankyou"},"Thank you!")):a.a.createElement("div",{className:"MissingEmailPrompt__root"},a.a.createElement("div",{className:"MissingEmailPrompt__body"},a.a.createElement("div",{className:"MissingEmailPrompt__controls"},a.a.createElement("label",null,"Please add your email address so we can confirm your account and save your progress:"),a.a.createElement("input",{type:"email",placeholder:"name@email.com",disabled:this.state.submitting,value:this.state.email,onChange:this._update_email}),this.renderSubmitButton()),this.render_errors())):null}}]),n}();ie.propTypes={is_logged_in:_.a.bool.isRequired,user_email:_.a.string.isRequired,change_errors:_.a.object.isRequired,add_email:_.a.func.isRequired},ie.displayName="MissingEmailPrompt";var ae=Object(c.b)(re,oe)(ie),se=t(86),_e=t(85),le=t(146),ce=t(69),ue=t(22),de=t(87);t.d(n,"selectors",function(){return ge}),t.d(n,"actions",function(){return be}),t.d(n,"DqHeader",function(){return we});var pe=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),me=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fe={styles:{root_marketing:"DqHeader__root_marketing",root:"DqHeader__root",root_blocked:"DqHeader__root_blocked",root_blocked_loggedin:"DqHeader__root_blocked_loggedin",right_side:"DqHeader__right_side",left_side:"DqHeader__left_side",left_side_non_mission:"DqHeader__left_side_non_mission",middle:"DqHeader__middle",top_links:"DqHeader__top_links",not_logged_in:"DqHeader__not_logged_in",behind_paywall:"DqHeader__behind_paywall",logo:"DqHeader__logo",new_version:"DqHeader__new_version",logo_on_new:"DqHeader__logo_on_new",not_logged_in_notice:"DqHeader__not_logged_in_notice",behind_paywall_notice:"DqHeader__behind_paywall_notice",shield:"DqHeader__shield",login_popup:"DqHeader__login_popup",bounceInDown:"DqHeader__bounceInDown",login_cancel:"DqHeader__login_cancel",user_box:"DqHeader__user_box",menu_link:"DqHeader__menu_link",menu_link_active:"DqHeader__menu_link_active",dropmenu:"DqHeader__dropmenu",back:"DqHeader__back",back_text:"DqHeader__back_text",icon:"DqHeader__icon",mission_title:"DqHeader__mission_title",continue_mission:"DqHeader__continue_mission"}};function he(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var ge=me({},F.b,ce.b,{show_badges:function(e){return"not removed"===de.c.actives(e).reward_badges},is_behind_paywall:function(e){return ue.d.mission_info(e).is_behind_paywall},mission_title:function(e){return ue.d.mission_info(e).title}}),be=me({},F.a),ye=Object(l.createStructuredSelector)(ge),we=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=he(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={show_LoginOrSignup:!1,menu_links:[{name:"Dashboard",to:"/dashboard"},{name:"Course Directory",to:"/directory"},{name:"Profile",to:"/profile"},{name:"Account",to:"/account"},{name:"Change Plan",to:"/subscribe"},{name:"Teams",to:"/team"},{name:"Help",to:"/help",external:!0},{name:"Forum",to:"/forum"}],top_links_logged_in:[],top_links_not_logged_in:[{name:"Why Dataquest",to:"/why-dataquest"},{name:"Stories",to:"/stories"},{name:"Pricing",to:"/subscribe"}],last_show_badges:!1},o.path_is=function(e){var n=o.props.location.pathname.split("/")[1]||"";return p.a.includes(e,n)},o.is_marketing_page=function(){return o.path_is(["","home","why-dataquest","stories"])},o.is_account_page=function(){return o.path_is(["account"])},o._prevent_default=function(e){return e.stopPropagation()},he(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.a.PureComponent),pe(n,[{key:"componentDidUpdate",value:function(e){if(this.props.location.hash!==e.location.hash){var n=this.props.location.hash.replace("#",""),t=document.getElementById(n);if(t)t.scrollIntoView();else{window.setTimeout(function(){var e=document.getElementById(n);e&&e.scrollIntoView()},500)}}}},{key:"renderVersionNotice",value:function(){return this.props.is_new_version?"/onboarding"===this.props.location.pathname?null:a.a.createElement(se.a,{className:"DqHeader__new_version"},a.a.createElement(h.a,{onDark:!0,className:"DqHeader__logo_on_new"}),a.a.createElement("h2",null,"Always improving your learning experience!"),a.a.createElement("p",null,"Dataquest just upgraded to a new version. Don't worry, your work has been saved."),a.a.createElement(g.a,{text:"Upgrade Dataquest Now",onClick:this.props.window_reload})):null}},{key:"renderOutdatedNotice",value:function(){return this.props.is_new_version?null:this.props.is_outdated_version?"/onboarding"===this.props.location.pathname?null:a.a.createElement(se.a,{className:"DqHeader__new_version"},a.a.createElement(h.a,{onDark:!0,className:"DqHeader__logo_on_new"}),a.a.createElement("h2",null,"Always improving your learning experience!"),a.a.createElement("p",null,"Dataquest just upgraded to a new version. Don't worry, your work has been saved."),a.a.createElement(g.a,{text:"Upgrade Dataquest Now",onClick:this.props.window_reload})):null}},{key:"is_mission_page",value:function(){return this.path_is(["m"])}},{key:"is_blocked_page",value:function(){return this.path_is(["m","course","path","directory","projects"])}},{key:"renderLoginWindow",value:function(){return this.props.is_there_a_request?a.a.createElement(se.a,{className:"DqHeader__shield",onClick:this.props.cancel_request},a.a.createElement("div",{className:"heading smaller DqHeader__login_popup",onClick:this._prevent_default},a.a.createElement("div",{className:"DqHeader__login_cancel",onClick:this.props.cancel_request},a.a.createElement(y.a,{name:"cancel"})),a.a.createElement(q.a,{start_on_login:this.props.requesting_login}))):null}},{key:"renderNotifications",value:function(){return this.props.is_logged_in?this.is_marketing_page()?null:a.a.createElement(k,null):null}},{key:"renderConnectionStatus",value:function(){return this.props.is_logged_in?this.is_marketing_page()?null:a.a.createElement($,null):null}},{key:"renderNotLoginedIn",value:function(){return a.a.createElement("div",{className:"DqHeader__not_logged_in"},a.a.createElement(g.a,{onDark:!0,color:"green",text:"start learning now",onClick:this.props.request_signup}),a.a.createElement("a",{className:"DqHeader__menu_link",onClick:this.props.request_login},"Login"))}},{key:"renderHomePageBlock",value:function(){return a.a.createElement("div",{className:"DqHeader__not_logged_in"},a.a.createElement(g.a,{text:"My Dashboard",color:"blue",link_to:"/dashboard"}),a.a.createElement("a",{className:"DqHeader__menu_link",onClick:this.props.logout},"Logout"))}},{key:"renderDropMenu",value:function(){return a.a.createElement("div",{className:"DqHeader__dropmenu"},this.state.menu_links.map(this.renderLink),a.a.createElement("a",{onClick:this.props.logout},"Logout"))}},{key:"renderUserLink",value:function(){return a.a.createElement("div",{className:"meta-light DqHeader__user_box"},a.a.createElement("span",null,this.props.user_name," ",a.a.createElement(y.a,{name:"caret-down"})))}},{key:"renderLink",value:function(e){return e.external?a.a.createElement("a",{key:e.name,href:e.to,target:"_blank"},e.name):a.a.createElement(b.a,{key:e.name,to:e.to},e.name)}},{key:"renderUserBlock",value:function(){return this.props.is_logged_in?this.is_marketing_page()?this.renderHomePageBlock():a.a.createElement(w.a,{close_on_dropdown_click:!0,dropdown:this.renderDropMenu(),selector:this.renderUserLink()}):this.renderNotLoginedIn()}},{key:"renderTopLinks",value:function(){var e=this.props.is_logged_in&&!this.is_marketing_page()?this.state.top_links_logged_in:this.state.top_links_not_logged_in;return 0===e.length?null:a.a.createElement("div",{className:"DqHeader__top_links"},p.a.map(e,function(e){return e.external?a.a.createElement("a",{key:e.name,className:"DqHeader__menu_link",href:e.to},e.name):a.a.createElement(b.b,{key:e.name,to:e.to,className:"DqHeader__menu_link",activeClassName:f.a.menu_link_active},e.name)}))}},{key:"renderLogoOrDashboard",value:function(){return this.state.show_version?null:this.will_display_mission_title()?a.a.createElement(b.a,{className:"DqHeader__back",to:"/dashboard"},a.a.createElement(y.a,{name:"left",className:"DqHeader__icon"}),a.a.createElement("div",{className:"DqHeader__back_text"},"Dashboard")):a.a.createElement(b.a,{to:"/dashboard",className:"DqHeader__logo"},a.a.createElement(h.a,{onDark:!0}))}},{key:"will_display_mission_title",value:function(){return!!this.is_mission_page()&&(!!this.props.mission_title&&!(!this.props.is_logged_in||this.props.is_behind_paywall))}},{key:"renderContinue",value:function(){return this.is_account_page()?a.a.createElement(le.a,{color:"green",short:!0,className:"DqHeader__continue_mission"}):null}},{key:"renderMissionTitle",value:function(){return this.will_display_mission_title()?a.a.createElement("div",{className:"DqHeader__mission_title"},this.props.mission_title):null}},{key:"get_root_style",value:function(){return this.is_blocked_page()?this.props.is_logged_in?this.props.is_behind_paywall?"root_blocked_loggedin":"root":"root_blocked":this.props.is_logged_in?this.is_marketing_page()?"root_marketing":"root":"root_marketing"}},{key:"render",value:function(){var e=this.get_root_style();return a.a.createElement("header",{className:r()(e,fe)},a.a.createElement(_e.a,{part_name:"header",className:r()(this.will_display_mission_title()?"left_side":"left_side_non_mission",fe)},this.renderLogoOrDashboard()),a.a.createElement("div",{className:"DqHeader__middle"},this.renderMissionTitle(),this.renderVersionNotice(),this.renderOutdatedNotice()),a.a.createElement(_e.a,{part_name:"header",className:"DqHeader__right_side"},this.renderContinue(),this.renderTopLinks(),a.a.createElement(x,{as_block_button:"root"===e}),this.renderNotifications(),this.renderConnectionStatus(),this.renderUserBlock(),this.renderLoginWindow(),this.is_mission_page()&&a.a.createElement(ae,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.show_badges&&!n.last_show_badges?{last_show_badges:!0,menu_links:[{name:"Dashboard",to:"/dashboard"},{name:"Course Directory",to:"/directory"},{name:"Profile",to:"/profile"},{name:"Badges",to:"/reward-badges"},{name:"Account",to:"/account"},{name:"Change Plan",to:"/subscribe"},{name:"Teams",to:"/team"},{name:"Help",to:"/help",external:!0},{name:"Forum",to:"/forum"}]}:null}}]),n}();we.propTypes={location:_.a.shape({pathname:_.a.string.isRequired,hash:_.a.string}).isRequired,url_hash:_.a.string,user_name:_.a.string.isRequired,user_email:_.a.string.isRequired,is_logged_in:_.a.bool.isRequired,is_new_version:_.a.bool.isRequired,is_outdated_version:_.a.bool.isRequired,is_behind_paywall:_.a.bool.isRequired,mission_title:_.a.string.isRequired,logout:_.a.func.isRequired,request_login:_.a.func.isRequired,request_signup:_.a.func.isRequired,cancel_request:_.a.func.isRequired,requesting_login:_.a.bool.isRequired,requesting_signup:_.a.bool.isRequired,is_there_a_request:_.a.bool.isRequired,show_badges:_.a.bool.isRequired,window_reload:_.a.func.isRequired},we.defaultProps={window_reload:function(){return window.location.reload(!0)}},we.displayName="DqHeader";n.default=Object(u.d)(Object(c.b)(ye,be)(we))}}]);