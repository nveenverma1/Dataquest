(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1159:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"startup_helpscout",function(){return P}),n.d(r,"change_type",function(){return S}),n.d(r,"open_for_mission",function(){return N}),n.d(r,"open_for_general",function(){return C}),n.d(r,"open_for_dashboard",function(){return D}),n.d(r,"close_helpscout",function(){return A});var o=n(11),i=n.n(o),s=n(10),a={loaded:!1,show:!1,opening:!1,beacon_type:""},c="helpscout",l=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Object(s.make_simple_selectors)(a,c)),p=Object(s.make_reducer_n_actions)({public_handlers:{},private_handlers:{change_show:function(e,t){var n=t.payload;return e.merge({show:n})},script_loaded:function(e){return e.merge({loaded:!0})},set_type:function(e,t){var n=t.payload;return e.merge({beacon_type:n})},set_opening:function(e,t){var n=t.payload;return e.merge({opening:n})}},action_types_prefix:"helpscout/",initial_state:a,Immutable:i.a}),u=p.reducer,_=p.private_actions,f=p.actions,d=(p.ACTION_TYPES,u),h=n(88),m=n.n(h),b=n(102),y=n.n(b),v=n(2),g=n.n(v),w=n(4),O=n(18),k=n(22),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x={MISSIONS:"c128c1fd-f90e-43be-92c7-8bc4533ad48f",GENERAL:"2bd520af-c65b-40fb-9272-66eb05c2e755",DASHBOARD:"4022be22-ba10-4ba9-b898-f91e0d6b3937"},j={TOPIC:9155,SEQUENCE:9954,CODE:11291,PLAN:11292,CODE_OUTPUT:11293};window.Beacon=function(e,t,n){window.Beacon.readyQueue.push({method:e,options:t,data:n})},window.Beacon.readyQueue=[];var M=function(e,t){l.loaded(t())||P.scriptjs("https://beacon-v2.helpscout.net/",function(){e(_.script_loaded())})},P=function(){return function(e,t){M(e,t),S("GENERAL")(e,t)}};P.scriptjs=y.a;var S=function(e){return function(t,n){l.beacon_type(n())!==e&&(window.Beacon("destroy"),window.Beacon("init",x[e]),window.Beacon("config",{display:{style:"manual"}}),window.Beacon("on","close",function(){return t(_.change_show(!1))}),window.Beacon("on","open",function(){return t(_.set_opening(!1))}),t(_.set_type(e)))}};function T(e,t){return t||(t="n/a"),{id:e,value:t}}var q=["name","email","subject","text"],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return function(r,o){M(r,o),r(_.set_opening(!0)),S(e)(r,o),window.Beacon("reset"),window.Beacon("identify",E({user_id:w.b.user_id(o()),logrocket:m.a.sessionURL},g.a.get(t,"identify",{}))),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={name:w.b.user_name(e()),email:w.b.user_email(e())};q.forEach(function(e){g.a.get(t,["fields",e])&&(r[e]=t.fields[e])}),n.push(T(j.PLAN,w.b.plan_full_name(e()))),g.a.forEach(t.fields,function(e,t){var r=j[t.toUpperCase()];r&&n.push(T(r,g.a.toString(e)))});var o=g.a.uniqWith(n,function(e,t){return e.id===t.id});window.Beacon("prefill",E({},r,{fields:o}))}(o,t,n),!0===t.open_message?(window.Beacon("open"),window.Beacon("navigate","/ask/message/")):t.open_message?window.Beacon("article",t.open_message):window.Beacon("open"),r(_.change_show(!0))}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=O.c.current_step_output(n());e.identify={run_count:O.c.run_count(n()),run_success:r.has_result?r.success:null,output_hints:r.hints.join(" | ")};var o=[T(j.SEQUENCE,k.d.mission_info(n()).sequence),T(j.CODE,O.c.current_code(n())),T(j.CODE_OUTPUT,r.errors)];return R("MISSIONS",e,o)(t,n)}},C=function(e){return R("GENERAL",e)},D=function(e){return R("DASHBOARD",e)},A=function(){return function(e,t){window.Beacon("close"),e(_.change_show(!1))}},I=n(16);n.d(t,"a",function(){return L}),n.d(t,"b",function(){return l}),n.d(t,!1,function(){return c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return _});var L=Object.assign({},f,r);Object(I.a)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},c,d))},1193:function(e,t,n){"use strict";var r=n(14),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=n(6),p=n(3),u=n(2),_=n.n(u),f=n(9),d=n(20),h=n(206),m=n(34),b=(n(1523),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),b(t,[{key:"render",value:function(){return s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"Footer__root",id:this.props.id},s.a.createElement("a",{href:"https://dataquest.io",target:"_blank",className:"Footer__link"},s.a.createElement("div",{className:"Footer__logo"}),s.a.createElement("div",{className:"Footer__text"},this.props.text)))}}]),t}();y.propTypes={text:c.a.string.isRequired,className:c.a.string,id:c.a.string},y.defaultProps={text:"Powered By Dataquest"},y.displayName="Footer";var v=y,g=(n(1521),n(1232)),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O={"./MissionTakeaways.scss":{content:"MissionTakeaways__content",paper:"MissionTakeaways__paper",force_paper:"MissionTakeaways__force_paper",button:"MissionTakeaways__button",takeaways:"MissionTakeaways__takeaways",title:"MissionTakeaways__title",copyright:"MissionTakeaways__copyright",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}};function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={shown:Object(g.a)({type:"takeaways/shown",include_payload:!0}),downloaded:Object(g.a)({type:"takeaways/downloaded"})},x=Object(p.createStructuredSelector)({}),j=800,M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={force_paper:!1,pdf_maker_loaded:!1},r.handler_pdf_request=function(){r.props.on_paper?r.make_pdf_document():r.setState({force_paper:!0})},r.make_pdf_document=function(){var e=document.getElementById("pdf_takeaways"),t=0,n=null,o=_.a.flatMap(e.children,function(e){var t=[e],n=_.a.flatMap(e.children,function(e){var n=[e];return _.a.forEach(e.children,function(e){return t.push(e)}),n});return _.a.forEach(n,function(e){return t.push(e)}),t});_.a.forEach(o,function(e){e.offsetTop-t>j&&(n.className+=" html2pdf__page-break",t=n.offsetTop+t),n=e}),r.html2pdf(e,{filename:"mission-"+r.props.sequence+"-"+r.props.slug+"-takeaways.pdf",margin:1,html2canvas:{dpi:300,letterRendering:!0},jsPDF:{unit:"in"}}),r.props.downloaded()},k(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),w(t,[{key:"componentDidMount",value:function(){var e=this;this.props.shown(!0),this._setState=this.setState,n.e(25).then(n.t.bind(null,1614,7)).then(function(t){null!=e._setState&&(e.html2pdf=t.default,e._setState({pdf_maker_loaded:!0}))})}},{key:"componentDidUpdate",value:function(e,t){this.state.force_paper&&(this.make_pdf_document(),this.setState({force_paper:!1}))}},{key:"componentWillUnmount",value:function(){this.props.shown(!1),this._setState=null}},{key:"render_pdf",value:function(){var e="https://"+window.location.host+Object(m.a)(this.props),t="by Dataquest Labs, Inc. - All rights reserved Â© "+(new Date).getFullYear();return s.a.createElement("div",{id:"pdf_takeaways",className:"MissionTakeaways__takeaways"},s.a.createElement("div",{className:"MissionTakeaways__title"},s.a.createElement("h1",null,this.props.title,": Takeaways"),s.a.createElement("a",{href:e,className:"MissionTakeaways__share"},s.a.createElement(d.a,{name:"share"}))),s.a.createElement("div",{className:"MissionTakeaways__copyright"},t),s.a.createElement(h.a,{className:"MissionTakeaways__text",body:this.props.text}),s.a.createElement(v,{className:"MissionTakeaways__footer",text:"Takeaways "+t}))}},{key:"render",value:function(){var e=this.props.on_paper?"paper":"content";return this.state.force_paper&&(e="force_paper"),s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+o()(e,O)},s.a.createElement(f.a,{color:"gray_to_green",hollow:!0,short:!0,icon_on_left:!0,icon:"download",text:"Download as PDF",title:this.state.pdf_maker_loaded?"":"loading pdf maker...",className:"MissionTakeaways__button",disabled:!this.state.pdf_maker_loaded,onClick:this.handler_pdf_request}),this.render_pdf())}}]),t}();M.propTypes={className:c.a.string,on_paper:c.a.bool,title:c.a.string.isRequired,sequence:c.a.string.isRequired,slug:c.a.string.isRequired,text:c.a.string.isRequired,shown:c.a.func.isRequired,downloaded:c.a.func.isRequired},M.defaultProps={},M.displayName="MissionTakeaways";t.a=Object(l.b)(x,E)(M)},1231:function(e,t,n){"use strict";var r=n(14),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=(n(1517),n(20)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={"./SidePanelTitle.scss":{icon:"SidePanelTitle__icon",light:"SidePanelTitle__light",dark:"SidePanelTitle__dark"}};var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),u(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.className,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["icon","title","className"]);return s.a.createElement("div",p({},i,{className:(r?r+" ":"")+o()(this.props.theme,_)}),t&&s.a.createElement(l.a,{name:t,className:"SidePanelTitle__icon"}),n)}}]),t}();f.propTypes={title:c.a.string.isRequired,icon:c.a.string,className:c.a.string,theme:c.a.string},f.defaultProps={theme:"light"},f.displayName="SidePanelTitle",t.a=f},1232:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.type,n=e.include_payload,r=void 0!==n&&n;return function(e){return r?{type:t,payload:e}:{type:t}}}},1452:function(e,t,n){e.exports=n.p+"assets/runner47fbb25bd1bcaeeb0de72d9a5df6ed5f.png"},1453:function(e,t,n){e.exports=n.p+"assets/book78a27d0620b646cbd6b3651605530838.png"},1454:function(e,t,n){e.exports=n.p+"assets/handse19fdbd31d15699afdcd2b4b0cf6861b.png"},1456:function(e,t,n){e.exports={content:"TipPopup__content",tooltip:"TipPopup__tooltip",arrow:"TipPopup__arrow",top:"TipPopup__top",bottom:"TipPopup__bottom","x-mark":"TipPopup__x-mark","children-container":"TipPopup__children-container"}},1458:function(e,t,n){e.exports={root:"MissionOnboardingTips__root"}},1498:function(e,t,n){e.exports={root:"PanelPopup__root",body:"PanelPopup__body"}},1499:function(e,t,n){e.exports=n.p+"assets/premiumd505e488b48bd25230aa023f8ffdc939.svg"},1501:function(e,t,n){e.exports={root:"MissionComplete__root",side:"MissionComplete__side",side_marketing:"MissionComplete__side_marketing",progress_block:"MissionComplete__progress_block",loading:"MissionComplete__loading",image:"MissionComplete__image",icon:"MissionComplete__icon",link:"MissionComplete__link"}},1503:function(e,t,n){e.exports={root:"PanelIndicator__root",active:"PanelIndicator__active",inactive:"PanelIndicator__inactive"}},1505:function(e,t,n){e.exports={root:"MissionEnd__root",panel:"MissionEnd__panel",footer:"MissionEnd__footer",footer_back:"MissionEnd__footer_back",footer_forward:"MissionEnd__footer_forward"}},1507:function(e,t,n){e.exports={root:"MissionFooter__root",right_side:"MissionFooter__right_side",title_side:"MissionFooter__title_side",more:"MissionFooter__more",title:"MissionFooter__title",center:"MissionFooter__center",nav_button:"MissionFooter__nav_button"}},1509:function(e,t,n){e.exports={current:"MissionStepItem__current",root:"MissionStepItem__root",done:"MissionStepItem__done",number:"MissionStepItem__number"}},1511:function(e,t,n){e.exports={side:"MissionSteps__side",root:"MissionSteps__root",shield:"MissionSteps__shield",header:"MissionSteps__header",back:"MissionSteps__back",back_text:"MissionSteps__back_text",back_icon:"MissionSteps__back_icon",icon:"MissionSteps__icon",lesson:"MissionSteps__lesson",steps:"MissionSteps__steps"}},1513:function(e,t,n){e.exports={close:"DqDropMenu__close",open:"DqDropMenu__open",top:"DqDropMenu__top",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}},1515:function(e,t,n){e.exports={side_help_panel:"MissionAnswer__side_help_panel"}},1517:function(e,t,n){e.exports={dark:"SidePanelTitle__dark",light:"SidePanelTitle__light",icon:"SidePanelTitle__icon"}},1519:function(e,t,n){e.exports={root:"ScrollAccordion__root",bottom_headers:"ScrollAccordion__bottom_headers",top_headers:"ScrollAccordion__top_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}},1521:function(e,t,n){e.exports={takeaways:"MissionTakeaways__takeaways",copyright:"MissionTakeaways__copyright",content:"MissionTakeaways__content",force_paper:"MissionTakeaways__force_paper",paper:"MissionTakeaways__paper",button:"MissionTakeaways__button",title:"MissionTakeaways__title",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}},1523:function(e,t,n){e.exports={text:"Footer__text",root:"Footer__root",link:"Footer__link",logo:"Footer__logo"}},1525:function(e,t,n){e.exports={instructions:"MissionLearn__instructions",section:"MissionLearn__section",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}},1527:function(e,t,n){e.exports={dark:"MissionInformation__dark",light:"MissionInformation__light",body:"MissionInformation__body"}},1529:function(e,t,n){e.exports={root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}},1613:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"get_end_info",function(){return Gt});var o=n(14),i=n.n(o),s=n(0),a=n.n(s),c=n(1),l=n.n(c),p=n(6),u=n(3),_=n(2),f=n.n(_),d=(n(1529),n(1527),n(1525),n(206)),h=n(1193),m=(n(1519),n(223)),b=n(101),y=n(1231),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={"./ScrollAccordion.scss":{root:"ScrollAccordion__root",top_headers:"ScrollAccordion__top_headers",bottom_headers:"ScrollAccordion__bottom_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}};function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=1,j=function(e){function t(){var e,n,r;O(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._clicked=function(){r.props.onSelected(r.props.title)},k(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"render",value:function(){return a.a.createElement(y.a,{onClick:this._clicked,id:this.props.id,title:this.props.title,icon:this.props.icon,theme:this.props.theme,className:i()(this.props.in_text?"in_text":"in_header",w)})}}]),t}();j.propTypes={title:l.a.string.isRequired,onSelected:l.a.func.isRequired,icon:l.a.string,in_text:l.a.bool,id:l.a.string,theme:l.a.string},j.displayName="SectionTitle";var M=function(e){function t(){var e,n,r;O(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={headers:{}},r.openSection=function(e){if(null!=r._sections[e]){var t=r._sections[e],n=t.ref.offsetTop,o=t.order,i=(r._sections[e].ref.firstChild.clientHeight+x+x)*o;clearTimeout(r._animate_id),r._animate_id=Object(m.a)(r._scrollarea,n-i+4)}},r.am_scrolling=function(){if(null!=r._scrollarea){var e=r._scrollarea,t=e.offsetHeight,n=e.scrollTop,o=e.clientWidth;r._top_headers.style.width=o+"px",r._bottom_headers.style.width=o+"px";var i=!1,s=f.a.mapValues(r._sections,function(e,o){var s=e.ref;return s.offsetTop<n+r._top_headers.clientHeight?(i=i||"above"!==r.state.headers[o],s.firstChild.style.opacity=0,"above"):s.offsetTop+s.firstChild.clientHeight>n+t-r._bottom_headers.clientHeight?(i=i||"below"!==r.state.headers[o],s.firstChild.style.opacity=0,"below"):(i=i||"shown"!==r.state.headers[o],s.firstChild.style.opacity=1,"shown")});i&&r.setState({headers:s})}},r.render_a_header=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=t.props.title;return r.state.headers[n]!==(e?"above":"below")?null:a.a.createElement(j,v({},t.props,{key:n,onSelected:r.openSection,id:t.props.id}))}},r._ref_for_child=function(e,t){return function(n){null===n?delete r._sections[t]:r._sections[t]={ref:n,order:e}}},r.render_child=function(e,t){var n=v({},e.props);return"shown"!==r.state.headers[e.props.title]&&delete n.id,a.a.createElement("div",{key:e.props.title,className:"ScrollAccordion__section",ref:r._ref_for_child(t,e.props.title)},a.a.createElement(j,v({},n,{in_text:!0,onSelected:r.openSection})),a.a.createElement(b.a,{onResize:r.am_scrolling}),e.props.children)},r.set_scrollarea_ref=function(e){r._scrollarea=e},k(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"componentWillMount",value:function(){this._sections={}}},{key:"componentDidMount",value:function(){this._scrollarea.addEventListener("scroll",this.am_scrolling,{passive:!0}),this.am_scrolling()}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this._scrollarea.scrollTop=0,this.am_scrolling())}},{key:"componentDidUpdate",value:function(){this.am_scrolling()}},{key:"componentWillUnmount",value:function(){this._scrollarea.removeEventListener("scroll",this.am_scrolling),this._scrollarea=null}},{key:"render",value:function(){var e=this,t=s.Children.toArray(this.props.children).filter(function(e){return e.type===P});return a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"ScrollAccordion__root"},a.a.createElement("div",{className:"ScrollAccordion__top_headers",ref:function(t){e._top_headers=t}},t.map(this.render_a_header())),a.a.createElement("div",{className:"ScrollAccordion__body",ref:this.set_scrollarea_ref},t.map(this.render_child)),a.a.createElement("div",{className:"ScrollAccordion__bottom_headers",ref:function(t){e._bottom_headers=t}},t.map(this.render_a_header(!1))))}}]),t}();M.propTypes={id:l.a.string.isRequired,children:l.a.node.isRequired,className:l.a.string},M.defaultProps={},M.displayName="ScrollAccordion";var P=function(e){function t(){return O(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a.a.PureComponent),t}();P.propTypes={id:l.a.string,title:l.a.string.isRequired,children:l.a.node.isRequired},M.Section=P;var S=M,T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),q(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["text"]);return a.a.createElement("div",T({},n,{dangerouslySetInnerHTML:{__html:t}}))}}]),t}();R.propTypes={text:l.a.string.isRequired},R.displayName="MissionHelp";var N=R,C=(n(1515),n(61)),D=n(18),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=f.a.pick(D.c,["tries_before_answer","run_count","current_step_info","current_step_output"]),L=Object(u.createStructuredSelector)(I),F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),A(t,[{key:"render",value:function(){var e=this.props,t=e.run_count,n=e.tries_before_answer,r=e.className;if(n<=t||this.props.current_step_output.success)return a.a.createElement(C.a,{className:r,value:this.props.current_step_info.answer,mode:this.props.current_step_info.editor_language,readOnly:!0,onDark:"dark"===this.props.theme});var o=n-t,i=1===o?"time":"times";return a.a.createElement("div",{className:r},"You'll need to run code ",o," more ",i," before you can see the answer.")}}]),t}();F.propTypes={tries_before_answer:l.a.number.isRequired,run_count:l.a.number.isRequired,current_step_output:l.a.shape({success:l.a.bool.isRequired}).isRequired,current_step_info:l.a.shape({answer:l.a.string.isRequired,editor_language:l.a.string.isRequired}).isRequired,className:l.a.string,theme:l.a.string},F.defaultProps={theme:"dark"},F.displayName="MissionAnswer";var B=Object(p.b)(L,{})(F),W=(n(1513),n(20)),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H={"./DqDropMenu.scss":{open:"DqDropMenu__open",top:"DqDropMenu__top",close:"DqDropMenu__close",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}};function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G=1e3,Q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={open:!1},r.toggle_state=function(){r.state.open?r.close_state():r.open_state()},r.open_state=function(){r.props.open_close_listener("open"),r.setState({open:!0})},r.close_state=function(){r.props.open_close_listener("close"),r.setState({open:!1})},r.toggle_off=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.close_state,G)},r.toggle_on=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.open_state,G)},Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),U(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._timer)}},{key:"render_menu_options",value:function(e){return a.a.createElement("div",{className:"DqDropMenu__options",onClick:this.close_state},e.map(function(e){return a.a.createElement("div",{key:e.text,onClick:e.onClick,className:"DqDropMenu__option",title:e.title},e.text)}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.options,r=(e.open_close_listener,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","options","open_close_listener"]));return a.a.createElement("div",z({onMouseLeave:this.toggle_off,onMouseEnter:this.toggle_on},r,{className:i()(this.state.open?"open":"close",H)}),a.a.createElement("div",{className:"DqDropMenu__top",onClick:this.toggle_state},a.a.createElement("div",{className:"DqDropMenu__text"},t),a.a.createElement("div",{className:"DqDropMenu__icon"},a.a.createElement(W.a,{name:"down"}))),this.render_menu_options(n))}}]),t}();Q.propTypes={title:l.a.string.isRequired,options:l.a.arrayOf(l.a.shape({text:l.a.string.isRequired,onClick:l.a.func.isRequired,title:l.a.string})),open_close_listener:l.a.func.isRequired},Q.defaultProps={open_close_listener:function(){}},Q.displayName="DqDropMenu";var J=Q,K=n(119),V=n(1159),X=n(22),Z=n(1232),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te={"./MissionLearn.scss":{section:"MissionLearn__section",instructions:"MissionLearn__instructions",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}};function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var re=ee({},f.a.pick(D.c,["current_step_index","current_step_info","show_help","show_answer"]),{mission_info:X.d.mission_info}),oe=ee({},D.b,{open_for_mission:V.a.open_for_mission,get_help_listener:Object(Z.a)({type:"MissionLearn/get_help",include_payload:!0}),intercom_listener:Object(Z.a)({type:"MissionLearn/intercom",include_payload:!0})}),ie=Object(u.createStructuredSelector)(re),se="The Answer",ae=100,ce=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={get_help_options:[]},r.hot_keys={"alt+a":{priority:1,handler:function(){return r.show_the_answer()}}},r.show_the_answer=function(){return 0!==r.props.current_step_info.answer.length&&(r.props.set_show_answer(!0),setTimeout(function(){return r._accordion&&r._accordion.openSection(se)},ae),!1)},ne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),$(t,[{key:"componentWillMount",value:function(){this.make_help_options(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.current_step_info.answer.length>0==this.props.current_step_info.answer.length>0&&e.current_step_info.help.length>0==this.props.current_step_info.help.length>0||this.make_help_options(e)}},{key:"make_help_options",value:function(e){var t=this,n=[];e.current_step_info.help.length>0&&n.push({text:"Get a hint",onClick:function(){e.set_show_help(!0),setTimeout(function(){return t._accordion&&t._accordion.openSection("Hint")},ae)}}),e.current_step_info.answer.length>0&&n.push({text:"See the answer",title:"["+Object(K.hotkey_display)("alt+a")+"] to See the answer",onClick:this.show_the_answer}),n.push({text:"Discuss this lesson",onClick:e.onOpenDiscuss}),n.push({text:"Message Us",onClick:function(){e.intercom_listener("show"),e.open_for_mission()}}),this.setState({get_help_options:n})}},{key:"render_learn",value:function(e){return 0===e.body.length?null:a.a.createElement(S.Section,{title:"Learn",id:"onboarding-tip-learn",theme:this.props.theme},a.a.createElement(d.a,{body:e.body,processPreCode:!0,className:"MissionLearn__section",theme:this.props.theme}))}},{key:"render_instructions",value:function(e){return"text"===e.type||0===e.instructions.length?null:a.a.createElement(S.Section,{title:"instructions",id:"onboarding-tip-instructions",theme:this.props.theme},a.a.createElement(d.a,{className:"MissionLearn__instructions",body:e.instructions,theme:this.props.theme}),a.a.createElement("div",{className:"MissionLearn__section"},a.a.createElement(J,{title:"Get Help",options:this.state.get_help_options,open_close_listener:this.props.get_help_listener,theme:this.props.theme})))}},{key:"render_help",value:function(){return this.props.show_help?a.a.createElement(S.Section,{title:"Hint",theme:this.props.theme},a.a.createElement(N,{className:"MissionLearn__section",text:this.props.current_step_info.help})):null}},{key:"render_answer",value:function(){return this.props.show_answer?a.a.createElement(S.Section,{title:se,theme:this.props.theme},a.a.createElement(B,{className:"MissionLearn__solution",theme:this.props.theme})):null}},{key:"render",value:function(){var e=this,t=this.props.current_step_info;return"takeaways"===this.props.current_step_info.type?a.a.createElement("div",{className:"MissionLearn__takeaways"},a.a.createElement(h.a,{on_paper:!0,title:this.props.mission_info.title,sequence:this.props.mission_info.sequence,slug:this.props.mission_info.slug,text:this.props.current_step_info.body})):a.a.createElement(S,{id:t.sequence,ref:function(t){e._accordion=t},className:i()(this.props.theme,te)},this.render_learn(t),this.render_instructions(t),this.render_help(),this.render_answer())}}]),t}();ce.propTypes={onOpenDiscuss:l.a.func.isRequired,current_step_index:l.a.number.isRequired,current_step_info:l.a.shape({sequence:l.a.string.isRequired,title:l.a.string.isRequired,body:l.a.string.isRequired,help:l.a.string.isRequired,instructions:l.a.string.isRequired,type:l.a.string.isRequired,answer:l.a.string.isRequired}).isRequired,show_help:l.a.bool.isRequired,show_answer:l.a.bool.isRequired,set_show_help:l.a.func.isRequired,set_show_answer:l.a.func.isRequired,mission_info:l.a.shape({title:l.a.string.isRequired,sequence:l.a.string.isRequired,slug:l.a.string.isRequired}).isRequired,get_help_listener:l.a.func.isRequired,intercom_listener:l.a.func.isRequired,open_for_mission:l.a.func.isRequired,theme:l.a.string},ce.defaultProps={theme:"light"},ce.displayName="MissionLearn";var le=Object(p.b)(ie,oe)(Object(K.hotkeys)(ce)),pe=n(226),ue=n(36),_e=n(32),fe=n.n(_e),de={loader:function(){return Promise.all([n.e(26),n.e(30)]).then(n.bind(null,1609))},loading:function(e){return a.a.createElement(ue.a,e)}},he=fe()(de),me=fe()({loader:function(){return n.e(29).then(n.bind(null,1607))},loading:function(e){return a.a.createElement(ue.a,e)}}),be=n(159),ye=n(85),ve=n(4),ge=n(23),we=n(71),Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ke={"./MissionInformation.scss":{light:"MissionInformation__light",dark:"MissionInformation__dark",body:"MissionInformation__body"}};function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var xe={is_moderator:ve.b.is_moderator,current_step_index:D.c.current_step_index,active_tab:X.d.active_tab,theme:we.b.text_theme},je={fetch_directory:ge.a.fetch_directory,open_tab:X.b.open_tab},Me=Object(u.createStructuredSelector)(xe),Pe=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={tabs:[]},r.on_tab_select=function(e){return r.props.open_tab({select:e})},r.help_open_discuss=function(){return r.props.open_tab({select:"FAQ",source:"get help"})},Ee(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Oe(t,[{key:"componentWillMount",value:function(){var e=[{text:"Learn",icon:"book"},{text:"FAQ",icon:"questions"},{text:"Mission Reference",icon:"search"}];this.props.is_moderator&&e.push({text:"Admin"}),this.setState({tabs:e}),this.props.fetch_directory(),he.preload()}},{key:"componentWillReceiveProps",value:function(e){e.current_step_index!==this.props.current_step_index&&"Learn"!==this.props.active_tab&&this.props.open_tab({select:"Learn"})}},{key:"render_body",value:function(){switch(this.props.active_tab){case"FAQ":return a.a.createElement(pe.a,null);case"Mission Reference":return a.a.createElement(he,{theme:this.props.theme});case"Admin":return a.a.createElement(me,null);default:return a.a.createElement(le,{onOpenDiscuss:this.help_open_discuss,theme:this.props.theme})}}},{key:"render",value:function(){var e=this;return a.a.createElement(ye.a,{part_name:"info",className:i()(this.props.theme,ke)},a.a.createElement(be.a,null,this.state.tabs.map(function(t){return a.a.createElement(ye.a,{key:t.text,part_name:t.text},a.a.createElement(be.a.Tab,{key:t.text,title:t.text,icon:t.icon,onSelect:e.on_tab_select,selected:e.props.active_tab===t.text}))})),a.a.createElement("div",{className:"MissionInformation__body"},this.render_body()))}}]),t}();Pe.propTypes={is_moderator:l.a.bool.isRequired,current_step_index:l.a.number.isRequired,fetch_directory:l.a.func.isRequired,theme:l.a.string,active_tab:l.a.string.isRequired,open_tab:l.a.func.isRequired},Pe.defaultProps={theme:"light"},Pe.displayName="MissionInformation";var Se=Object(p.b)(Me,je)(Pe),Te=n(227),qe=(n(1511),n(45)),Re=(n(1509),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ne={"./MissionStepItem.scss":{root:"MissionStepItem__root",current:"MissionStepItem__current",number:"MissionStepItem__number",done:"MissionStepItem__done"}};function Ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var De=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ce(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._click=function(){return r.props.onSelected(r.props.index)},Ce(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Re(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._click,id:"step-"+this.props.index,className:i()(this.props.current?"current":"root",Ne)},this.props.completed?a.a.createElement(W.a,{name:"pass",className:"MissionStepItem__done"}):a.a.createElement("span",{className:"MissionStepItem__number"},this.props.index+1,"."),this.props.title)}}]),t}();De.propTypes={current:l.a.bool.isRequired,completed:l.a.bool.isRequired,title:l.a.string.isRequired,index:l.a.number.isRequired,onSelected:l.a.func.isRequired},De.displayName="MissionStepItem";var Ae=De,Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Be=Le({},f.a.pick(D.c,["current_step_index","step_list"]),{mission_info:X.d.mission_info}),We=D.b,ze=Object(u.createStructuredSelector)(Be),Ue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._directly_to_step=function(e){r.props.directly_to_step(e),r.props.onClose()},r.renderStep=function(e,t){return a.a.createElement(Ae,Le({key:t+" "+e.title},e,{current:t===r.props.current_step_index,index:t,onSelected:r._directly_to_step}))},Fe(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Ie(t,[{key:"render",value:function(){var e=Math.max(this.props.current_step_index-2,0);return a.a.createElement("div",{className:"MissionSteps__root"},a.a.createElement("div",{className:"MissionSteps__shield",onClick:this.props.onClose}),a.a.createElement("div",{className:"MissionSteps__side"},a.a.createElement("div",{className:"MissionSteps__header"},a.a.createElement("div",{className:"MissionSteps__back",onClick:this.props.onClose},a.a.createElement("div",{className:"MissionSteps__back_icon"},a.a.createElement(W.a,{name:"left",className:"MissionSteps__icon"})),a.a.createElement("div",{className:"MissionSteps__back_text"},"Close")),a.a.createElement("h2",null,this.props.mission_info.title),a.a.createElement("div",null,this.props.mission_info.description)),a.a.createElement("div",{className:"MissionSteps__lesson"},"Steps"),a.a.createElement(m.b,{className:"MissionSteps__steps",scroll_to_id:"step-"+e},this.props.step_list.map(this.renderStep),a.a.createElement(qe.a,{color:"danger",text:"reset progress",new_style:!0,hollow:!0,borderless:!0,confirmTitle:"Reset mission progress?",confirmText:'You will lose all of your progress on the "'+this.props.mission_info.title+'" mission!',confirmButtonText:"Reset",dangerMode:!0,onClick:this.props.reset_all_progress}))))}}]),t}();Ue.propTypes={current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired,completed:l.a.bool.isRequired})),mission_info:l.a.shape({title:l.a.string.isRequired,description:l.a.string.isRequired}).isRequired,reset_all_progress:l.a.func.isRequired,directly_to_step:l.a.func.isRequired,onClose:l.a.func.isRequired},Ue.displayName="MissionSteps";var He=Object(p.b)(ze,We)(Ue),Ye=(n(1507),n(9)),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Je={current_step_index:D.c.current_step_index,step_list:D.c.step_list},Ke=D.b,Ve=Object(u.createStructuredSelector)(Je),Xe=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Qe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.hot_keys={"alt+n":{priority:1,handler:function(){return r.props.next_step(),!1}},"alt+b":{priority:1,handler:function(){return r.props.back_step(),!1}}},Qe(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ge(t,[{key:"render_next",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list,r="Next",o="["+Object(K.hotkey_display)("alt+n")+"] Next Screen";return n.length-1===t&&(r="Finish",o="["+Object(K.hotkey_display)("alt+n")+"] Goto Mission End"),a.a.createElement(Ye.a,{short:!0,onDark:!0,hollow:!0,color:"white",className:"MissionFooter__nav_button",text:r,title:o,onClick:this.props.next_step})}},{key:"render",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list;if(0===n.length)return a.a.createElement("div",{className:"MissionFooter__root"});var r=n[t].title;return a.a.createElement(ye.a,{className:"MissionFooter__root",part_name:"footer"},a.a.createElement("div",{className:"MissionFooter__title_side",onClick:this.props.onOpenSteps},a.a.createElement(W.a,{name:"bars",className:"MissionFooter__more"}),a.a.createElement("div",{className:"MissionFooter__title"},t+1,". ",r)),a.a.createElement("div",{className:"MissionFooter__center"},a.a.createElement(Ye.a,{text:"back",short:!0,onDark:!0,color:"white",hollow:!0,className:"MissionFooter__nav_button",title:"["+Object(K.hotkey_display)("alt+b")+"] Back a Screen",disabled:0===t,onClick:this.props.back_step}),a.a.createElement("div",null,t+1," / ",n.length),this.render_next()),a.a.createElement("div",{className:"MissionFooter__right_side"}))}}]),t}();Xe.propTypes={onOpenSteps:l.a.func.isRequired,current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired})).isRequired,next_step:l.a.func.isRequired,back_step:l.a.func.isRequired},Xe.displayName="MissionFooter";var Ze=Object(p.b)(Ve,Ke)(Object(K.hotkeys)(Xe)),$e=(n(1505),n(1503),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),et={"./PanelIndicator.scss":{root:"PanelIndicator__root",inactive:"PanelIndicator__inactive",active:"PanelIndicator__active"}};function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ot=function(e){function t(){var e,n,r;tt(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=nt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._onClick=function(){return r.props.onSelect(r.props.index)},nt(r,n)}return rt(t,a.a.PureComponent),$e(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._onClick,className:i()(this.props.active?"active":"inactive",et)})}}]),t}();ot.propTypes={index:l.a.number.isRequired,active:l.a.bool.isRequired,onSelect:l.a.func.isRequired},ot.displayName="Indicator";var it=function(e){function t(){return tt(this,t),nt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return rt(t,a.a.PureComponent),$e(t,[{key:"render",value:function(){var e=this;return this.props.count<=1?a.a.createElement("div",{className:"PanelIndicator__root"}):a.a.createElement("div",{className:"PanelIndicator__root"},f.a.times(this.props.count,function(t){return a.a.createElement(ot,{index:t,key:t,onSelect:e.props.onSelect,active:t===e.props.active_index})}))}}]),t}();it.propTypes={count:l.a.number.isRequired,active_index:l.a.number.isRequired,onSelect:l.a.func.isRequired},it.displayName="PanelIndicator";var st=it,at=(n(1501),n(51)),ct=n(143),lt=n(142),pt=n(145),ut=n(13),_t=n(103),ft=n(30),dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ht=[{text:"Unlock hundreds of hours of data science and engineering content"},{text:"Get help from our experts during office hours"},{text:"Connect and collaborate with your fellow learners"},{text:"Work on guided projects to build your portfolio"}],mt={cutoutPercentage:86,animation:{duration:1e3}},bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),dt(t,[{key:"render_right_side",value:function(){return this.props.on_free_plan?a.a.createElement(ut.a,{centered:!0,className:"MissionComplete__side_marketing"},a.a.createElement("h2",null,"Want to learn more?",a.a.createElement("br",null),"Go further with Dataquest Premium!"),a.a.createElement("img",{className:"MissionComplete__image",src:n(1499)}),a.a.createElement(ct.a,{features:ht}),a.a.createElement("div",{className:"spacer"}),a.a.createElement(_t.a,{text:"Learn More",className:"MissionComplete__link",to:"/subscribe"}),a.a.createElement("div",{className:"spacer"})):null}},{key:"render_progress",value:function(){var e=this.props.course;return 0===e.progress?a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement(ft.a,{message:"Updating your progress",className:"MissionComplete__loading"})):a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement("p",null,"You are ",a.a.createElement("b",null,Object(at.a)(e.progress))," through the ",a.a.createElement("br",null),e.title," course"),a.a.createElement("div",{className:"spacer"}),a.a.createElement(lt.a,{light:!0,course_icon:!0,className:"MissionComplete__icon",progress:e.progress,icon_name:Object(pt.a)(e.slug),options:mt}),a.a.createElement("div",{className:"spacer"}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionComplete__root"},a.a.createElement(ut.a,{light:!0,centered:!0,className:"MissionComplete__side"},a.a.createElement("h1",null,a.a.createElement("b",null,"Congratulations!")),a.a.createElement("h2",{style:{marginTop:0}},a.a.createElement("b",null,"You've finished the mission")),this.render_progress()),this.render_right_side())}}]),t}();bt.propTypes={on_free_plan:l.a.bool.isRequired,course:l.a.shape({title:l.a.string.isRequired,slug:l.a.string.isRequired,progress:l.a.number.isRequired}).isRequired},bt.displayName="MissionComplete";var yt=bt,vt=n(17),gt=n(52),wt=n(34),Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Et={is_subscribed:ve.b.is_subscribed,mission_next:X.d.mission_next,user_id:ve.b.user_id,mission_info:X.d.mission_info},xt={push_route:vt.c},jt=Object(u.createStructuredSelector)(Et),Mt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=kt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.skip_plus=function(){return r.props.is_subscribed&&"plus"===r.props.mission_next.upgrade_suggestion},r.gotoNext=function(){var e=r.props,t=e.mission_next,n=e.push_route;return t.allowed?(n(Object(wt.a)(t)),Promise.resolve()):r.skip_plus()?(n(Object(wt.a)(t.alternate)),Promise.resolve()):r.props.dq_alert({title:"We're going to need to skip ahead",type:"warning",text:r.get_alert_text(),cancelButtonText:"Preview Mission",confirmButtonText:"Skip Ahead",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){r.send_paywall_event("Skip Ahead"),n(Object(wt.a)(t.alternate))}).catch(function(){r.send_paywall_event("Preview Mission"),n(Object(wt.a)(t))})},r.send_paywall_event=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={user_id:r.props.user_id,mission_id:r.props.mission_info.id,element:e};window.analytics.track("next-mission-paywall",t)},kt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Ot(t,[{key:"get_html_link",value:function(e){return'<a href="'+Object(wt.a)(e)+'">'+e.title+"</a>"}},{key:"get_alert_text",value:function(){var e=this.props.mission_next;return"You need our "+e.upgrade_suggestion+' plan to access Mission: "'+e.title+'".\n\nOr you can skip ahead to Mission: "'+e.alternate.title+'" with your current plan.'}},{key:"render",value:function(){var e=this.skip_plus()?this.props.mission_next.alternate.title:this.props.mission_next.title;return a.a.createElement(Ye.a,{color:"green",text:"Next mission",title:"Next mission: "+e,icon:"right",onClick:this.gotoNext})}}]),t}();Mt.propTypes={is_subscribed:l.a.bool.isRequired,mission_next:l.a.shape({allowed:l.a.bool.isRequired,sequence:l.a.string.isRequired,title:l.a.string,upgrade_suggestion:l.a.string.isRequired,alternate:l.a.shape({title:l.a.string,sequence:l.a.string.isRequired}).isRequired}).isRequired,user_id:l.a.string.isRequired,mission_info:l.a.shape({id:l.a.string}).isRequired,push_route:l.a.func.isRequired,dq_alert:l.a.func.isRequired},Mt.defaultProps={dq_alert:gt.a},Mt.displayName="NextMissionButton";var Pt=Object(p.b)(jt,xt)(Mt),St=(n(1498),n(86)),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Tt(t,[{key:"render",value:function(){return a.a.createElement(St.a,{className:"PanelPopup__root"},a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"PanelPopup__body"},this.props.children))}}]),t}();qt.propTypes={children:l.a.node,className:l.a.string},qt.displayName="PanelPopup";var Rt=qt,Nt=n(11),Ct=n.n(Nt),Dt=n(10),At={in_course:{title:"",slug:"",progress:0}},It=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Object(Dt.make_simple_selectors)(At,"mission_end_info")),Lt={reset:function(){return Ct()(At)}},Ft=Object(Dt.make_reducer_n_actions)({public_handlers:Lt,private_handlers:{set_info:function(e,t){var n=t.payload;return e.merge({in_course:n})}},action_types_prefix:"mission_end_info/",initial_state:At,Immutable:Ct.a}),Bt=Ft.reducer,Wt=Ft.private_actions,zt=Ft.actions,Ut=(Ft.ACTION_TYPES,Bt),Ht=n(7),Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt=function(e){return function(t,n){t(zt.reset());var r="{\n    mission(sequence: "+e+") {\n      in_course {\n        title: name\n        slug\n      }\n    }\n  }";return Object(Ht.c)(r).then(function(e){var t=e.data.mission.in_course;return Object(Ht.c)(function(e){return'{\n    progress {\n      course(slug: "'+e+'") {\n        progress\n      }\n    }\n  }'}(t.slug)).then(function(e){var n=e.data;return Yt({},t,n.progress.course)})}).then(function(e){return t(Wt.set_info(e))}).catch(console.error)}},Qt=n(16),Jt=Object.assign({},zt,r),Kt=(Object(Qt.a)({mission_end_info:Ut}),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var en=Vt({},It,{mission_sequence:function(e){return X.d.mission_info(e).sequence},open_end_of_mission:D.c.open_end_of_mission,plan_name:ve.b.plan_name}),tn=Vt({},Jt,{back_step:D.b.back_step}),nn=Object(u.createStructuredSelector)(en),rn=function(e){function t(){var e,n,r;Xt(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Zt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={active_panel_index:0,panels:[]},r._change_panel=function(e){r.setState({active_panel_index:e})},r._back=function(){0!==r.state.active_panel_index?r.setState({active_panel_index:r.state.active_panel_index-1}):r.props.back_step()},r._next=function(){r.setState({active_panel_index:r.state.active_panel_index+1})},Zt(r,n)}return $t(t,a.a.PureComponent),Kt(t,[{key:"componentWillMount",value:function(){this.setup_panels(),this.props.get_end_info(this.props.mission_sequence)}},{key:"componentWillReceiveProps",value:function(e){this.setup_panels(e)}},{key:"setup_panels",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var e=["MissionComplete"];f.a.isEqual(this.state.panel,e)||this.setState({panels:e})}},{key:"render_panel",value:function(){return this.state.panels[this.state.active_panel_index],a.a.createElement(yt,{on_free_plan:"free"===this.props.plan_name,course:this.props.in_course})}},{key:"render_next",value:function(){return this.state.panels.length-1<=this.state.active_panel_index?a.a.createElement(Pt,null):a.a.createElement(Ye.a,{color:"gray",text:"Next",icon:"right",onClick:this._next})}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionEnd__root"},a.a.createElement("div",{className:"MissionEnd__panel"},this.render_panel()),a.a.createElement("div",{className:"MissionEnd__footer"},a.a.createElement("div",{className:"MissionEnd__footer_back"},a.a.createElement(Ye.a,{color:"gray",onDark:!0,text:"Back",icon:"left",onClick:this._back})),a.a.createElement(st,{count:this.state.panels.length,active_index:this.state.active_panel_index,onSelect:this._change_panel}),a.a.createElement("div",{className:"MissionEnd__footer_forward"},this.render_next())))}}]),t}();rn.propTypes={in_course:l.a.object.isRequired,get_end_info:l.a.func.isRequired,mission_sequence:l.a.string.isRequired,back_step:l.a.func.isRequired,open_end_of_mission:l.a.bool.isRequired,plan_name:l.a.string.isRequired},rn.displayName="MissionEnd";var on=function(e){function t(){return Xt(this,t),Zt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $t(t,a.a.PureComponent),Kt(t,[{key:"render",value:function(){return this.props.open_end_of_mission?a.a.createElement(Rt,null,a.a.createElement(rn,this.props)):null}}]),t}();on.propTypes={open_end_of_mission:l.a.bool.isRequired},on.displayName="MissionEndInPopup";var sn=Object(p.b)(nn,tn)(on),an=n(1496),cn=n.n(an),ln=(n(1458),n(225)),pn=(n(1456),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),un={"./TipPopup.scss":{root:"TipPopup__root",tooltip:"TipPopup__tooltip",content:"TipPopup__content",arrow:"TipPopup__arrow",top:"TipPopup__top",bottom:"TipPopup__bottom","x-mark":"TipPopup__x-mark","children-container":"TipPopup__children-container"}};var _n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),pn(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.style,className:i()("tooltip "+this.props.arrow_side,un)},a.a.createElement("div",{className:"TipPopup__arrow"}),a.a.createElement("div",{className:"TipPopup__content"},a.a.createElement("button",{className:"TipPopup__x-mark",onClick:this.props.onNext},"â¨¯"),a.a.createElement("div",{className:"TipPopup__children-container"},this.props.children),a.a.createElement(Ye.a,{text:this.props.button_text,color:"white",hollow:!0,onDark:!0,onClick:this.props.onNext})))}}]),t}();_n.propTypes={style:l.a.object,onNext:l.a.func.isRequired,button_text:l.a.string.isRequired,arrow_side:l.a.oneOf(["top","bottom"]).isRequired,children:l.a.node},_n.displayName="TipPopup";var fn=_n,dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function mn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var bn=hn({},ln.b,{show_tips:function(e){return!!ve.b.is_new_user(e)&&"snippet_runner"===D.c.current_step_info(e).type}}),yn=hn({},ln.a),vn=Object(u.createStructuredSelector)(bn),gn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=mn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={acquire_target_attempt:0},r.get_center_styles=function(e){var t=r.props.getElementById(e.dom_id);if(null==t)return r.wait_for_targets(),null;var n=t.getBoundingClientRect();return{left:(n.right-n.left)/2+n.left+"px",top:(n.bottom-n.top)/2+n.top+"px",position:"absolute"}},mn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),dn(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._load_timer),delete this._still_mounted}},{key:"wait_for_targets",value:function(){var e=this;this.state.acquire_target_attempt>4||(this._still_mounted=!0,window.setTimeout(function(){e._still_mounted&&e.setState({acquire_target_attempt:e.state.acquire_target_attempt+1})},1))}},{key:"render",value:function(){var e=this;if(!this.props.show_tips)return null;if(this.props.current_tip_index>=this.props.tips.length)return null;var t=this.props.tips[this.props.current_tip_index];if(null==t)return null;var n=this.get_center_styles(t);return null==n?null:a.a.createElement("div",{className:"MissionOnboardingTips__root",onClick:this.props.cancel_tip},a.a.createElement(fn,hn({style:n},t,{onNext:function(t){e.props.next_tip({tip_count:e.props.tips.length}),t.stopPropagation()}})))}}]),t}();gn.propTypes={show_tips:l.a.bool.isRequired,current_tip_index:l.a.number.isRequired,next_tip:l.a.func.isRequired,cancel_tip:l.a.func.isRequired,tips:l.a.arrayOf(l.a.shape({dom_id:l.a.string.isRequired,arrow_side:l.a.oneOf(["top","bottom"]).isRequired,button_text:l.a.string.isRequired,children:l.a.node.isRequired})),getElementById:l.a.func.isRequired},gn.defaultProps={getElementById:function(e){return document.getElementById(e)},tips:[{dom_id:"onboarding-tip-learn",arrow_side:"top",button_text:"Got it",children:a.a.createElement("div",null,a.a.createElement("h3",null,"Welcome to your first code screen!"),a.a.createElement("img",{src:n(1454)}),a.a.createElement("p",null,"Youâll be writing real code and solving data science problems in no time!"),a.a.createElement("p",null,"To start, learn concepts by reading the text in the âlearnâ section"))},{dom_id:"onboarding-tip-instructions",arrow_side:"bottom",button_text:"Cool!",children:a.a.createElement("div",null,a.a.createElement("img",{src:n(1453)}),a.a.createElement("p",null,"Next, read the instructions under this header, which will tell you what code to write."))},{dom_id:"onboarding-tip-run",arrow_side:"bottom",button_text:"I'm Ready!",children:a.a.createElement("div",null,a.a.createElement("img",{src:n(1452)}),a.a.createElement("p",null,"Then, just write your code in the box above, and click âRunâ to see if itâs correct."),a.a.createElement("p",null,"Youâll be on your way to learning about data in no time."))}]},gn.displayName="MissionOnboardingTips";var wn=Object(p.b)(vn,yn)(gn),On=n(211);n.d(t,"selectors",function(){return jn}),n.d(t,"actions",function(){return Mn}),n.d(t,"TheMission",function(){return Tn});var kn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),En={"./TheMission.scss":{root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}};function xn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var jn=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({mission_info:X.d.mission_info,is_logged_in:ve.b.is_logged_in,editor_type:function(e){return D.c.current_step_info(e).type}},f.a.pick(we.b,["autocomplete","editor_theme","text_theme"]),{settings_loading:we.b.is_loading}),Mn={setup_mission:X.b.setup_mission,on_mission_heartbeat:X.b.on_mission_heartbeat,get_mission_files:On.a.get_mission_files},Pn=Object(u.createStructuredSelector)(jn),Sn=["snippet_runner","command_line","widget","jupyter","file_editor"],Tn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=xn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={steps_open:!1,min_split_width:200,max_split_width:1e3,split_size:null,user_split_size:"50%",is_dragging:!1},r.updateSplitSize=function(e){var t=Sn.indexOf(e)>-1?r.state.user_split_size:"100%";r.setState({split_size:t})},r.updateWindowDimensions=function(){var e=.3*window.innerWidth,t=.7*window.innerWidth;r.setState({min_split_width:e,max_split_width:t})},r.send_heartbeat=function(){"hidden"!==document.visibilityState&&r.props.is_logged_in&&r.props.on_mission_heartbeat()},r.toggle_steps_open=function(){return r.setState({steps_open:!r.state.steps_open})},r.drag_start_handler=function(){r.setState({is_dragging:!0})},r.drag_end_handler=function(){r.setState({is_dragging:!1})},r.size_change_handler=function(e){var t=e/window.innerWidth*100+"%";r.setState({split_size:t,user_split_size:t})},xn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),kn(t,[{key:"componentDidMount",value:function(){this.updateSplitSize(this.props.editor_type),this.updateWindowDimensions(),this.possibly_load_files(this.props),window.addEventListener("mousemove",this.send_heartbeat,{passive:!0}),window.addEventListener("keyup",this.send_heartbeat,{passive:!0}),window.addEventListener("wheel",this.send_heartbeat,{passive:!0}),window.addEventListener("resize",this.updateWindowDimensions,{passive:!0})}},{key:"componentWillReceiveProps",value:function(e){this.possibly_load_files(e,this.props),this.updateSplitSize(e.editor_type)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.send_heartbeat),window.removeEventListener("keyup",this.send_heartbeat),window.removeEventListener("wheel",this.send_heartbeat),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"possibly_load_files",value:function(e,t){var n=e.mission_info,r=n.id,o=n.overall_type;r&&r!==f.a.get(t,"mission_info.id")&&"mission"===o&&e.get_mission_files(r)}},{key:"render",value:function(){var e=this.state.is_dragging?"not_interactive":"is_interactive";return a.a.createElement("div",{className:"TheMission__root"},a.a.createElement(cn.a,{className:"TheMission__split_pane",minSize:this.state.min_split_width,maxSize:this.state.max_split_width,defaultSize:"50%",size:this.state.split_size,split:"vertical",onChange:this.size_change_handler,onDragStarted:this.drag_start_handler,onDragFinished:this.drag_end_handler},a.a.createElement("div",{className:i()(e,En)},a.a.createElement(Se,null)),a.a.createElement("div",{className:i()(e,En)},a.a.createElement(Te.a,null))),this.state.steps_open&&a.a.createElement(He,{onClose:this.toggle_steps_open}),a.a.createElement(Ze,{onOpenSteps:this.toggle_steps_open}),!this.props.dont_show_end&&a.a.createElement(sn,null),a.a.createElement(wn,null))}}]),t}();Tn.propTypes={dont_show_end:l.a.bool,is_logged_in:l.a.bool.isRequired,mission_info:l.a.shape({id:l.a.string.isRequired,overall_type:l.a.string.isRequired}).isRequired,editor_type:l.a.string.isRequired,editor_theme:l.a.string,autocomplete:l.a.bool,on_mission_heartbeat:l.a.func.isRequired,get_mission_files:l.a.func.isRequired},Tn.displayName="TheMission";t.default=Object(p.b)(Pn,Mn)(Tn)}}]);