(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1140:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"startup_helpscout",function(){return P}),n.d(r,"change_type",function(){return S}),n.d(r,"open_for_mission",function(){return R}),n.d(r,"open_for_general",function(){return C}),n.d(r,"open_for_dashboard",function(){return D}),n.d(r,"close_helpscout",function(){return A});var o=n(12),i=n.n(o),s=n(10),a={loaded:!1,show:!1,opening:!1,beacon_type:""},c="helpscout",l=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Object(s.make_simple_selectors)(a,c)),p=Object(s.make_reducer_n_actions)({public_handlers:{},private_handlers:{change_show:function(e,t){var n=t.payload;return e.merge({show:n})},script_loaded:function(e){return e.merge({loaded:!0})},set_type:function(e,t){var n=t.payload;return e.merge({beacon_type:n})},set_opening:function(e,t){var n=t.payload;return e.merge({opening:n})}},action_types_prefix:"helpscout/",initial_state:a,Immutable:i.a}),u=p.reducer,_=p.private_actions,f=p.actions,d=(p.ACTION_TYPES,u),h=n(85),m=n.n(h),b=n(98),y=n.n(b),v=n(2),g=n.n(v),w=n(4),O=n(18),k=n(22),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x={MISSIONS:"c128c1fd-f90e-43be-92c7-8bc4533ad48f",GENERAL:"2bd520af-c65b-40fb-9272-66eb05c2e755",DASHBOARD:"4022be22-ba10-4ba9-b898-f91e0d6b3937"},M={TOPIC:9155,SEQUENCE:9954,CODE:11291,PLAN:11292,CODE_OUTPUT:11293};window.Beacon=function(e,t,n){window.Beacon.readyQueue.push({method:e,options:t,data:n})},window.Beacon.readyQueue=[];var j=function(e,t){l.loaded(t())||P.scriptjs("https://beacon-v2.helpscout.net/",function(){e(_.script_loaded())})},P=function(){return function(e,t){j(e,t),S("GENERAL")(e,t)}};P.scriptjs=y.a;var S=function(e){return function(t,n){l.beacon_type(n())!==e&&(window.Beacon("destroy"),window.Beacon("init",x[e]),window.Beacon("config",{display:{style:"manual"}}),window.Beacon("on","close",function(){return t(_.change_show(!1))}),window.Beacon("on","open",function(){return t(_.set_opening(!1))}),t(_.set_type(e)))}};function T(e,t){return t||(t="n/a"),{id:e,value:t}}var q=["name","email","subject","text"],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return function(r,o){j(r,o),r(_.set_opening(!0)),S(e)(r,o),window.Beacon("reset"),window.Beacon("identify",E({user_id:w.b.user_id(o()),logrocket:m.a.sessionURL},g.a.get(t,"identify",{}))),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={name:w.b.user_name(e()),email:w.b.user_email(e())};q.forEach(function(e){g.a.get(t,["fields",e])&&(r[e]=t.fields[e])}),n.push(T(M.PLAN,w.b.plan_full_name(e()))),g.a.forEach(t.fields,function(e,t){var r=M[t.toUpperCase()];r&&n.push(T(r,g.a.toString(e)))});var o=g.a.uniqWith(n,function(e,t){return e.id===t.id});window.Beacon("prefill",E({},r,{fields:o}))}(o,t,n),!0===t.open_message?(window.Beacon("open"),window.Beacon("navigate","/ask/message/")):t.open_message?window.Beacon("article",t.open_message):window.Beacon("open"),r(_.change_show(!0))}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=O.c.current_step_output(n());e.identify={run_count:O.c.run_count(n()),run_success:r.has_result?r.success:null,output_hints:r.hints.join(" | ")};var o=[T(M.SEQUENCE,k.d.mission_info(n()).sequence),T(M.CODE,O.c.current_code(n())),T(M.CODE_OUTPUT,r.errors)];return N("MISSIONS",e,o)(t,n)}},C=function(e){return N("GENERAL",e)},D=function(e){return N("DASHBOARD",e)},A=function(){return function(e,t){window.Beacon("close"),e(_.change_show(!1))}},I=n(16);n.d(t,"a",function(){return L}),n.d(t,"b",function(){return l}),n.d(t,!1,function(){return c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return _});var L=Object.assign({},f,r);Object(I.a)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},c,d))},1173:function(e,t,n){"use strict";var r=n(14),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=n(6),p=n(3),u=n(2),_=n.n(u),f=n(8),d=n(20),h=n(203),m=n(33),b=(n(1500),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),b(t,[{key:"render",value:function(){return s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"Footer__root",id:this.props.id},s.a.createElement("a",{href:"https://dataquest.io",target:"_blank",className:"Footer__link"},s.a.createElement("div",{className:"Footer__logo"}),s.a.createElement("div",{className:"Footer__text"},this.props.text)))}}]),t}();y.propTypes={text:c.a.string.isRequired,className:c.a.string,id:c.a.string},y.defaultProps={text:"Powered By Dataquest"},y.displayName="Footer";var v=y,g=(n(1498),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w={"./MissionTakeaways.scss":{content:"MissionTakeaways__content",paper:"MissionTakeaways__paper",force_paper:"MissionTakeaways__force_paper",button:"MissionTakeaways__button",takeaways:"MissionTakeaways__takeaways",title:"MissionTakeaways__title",copyright:"MissionTakeaways__copyright",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}};function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=Object(p.createStructuredSelector)({}),E=800,x=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={force_paper:!1,pdf_maker_loaded:!1},r.handler_pdf_request=function(){r.props.on_paper?r.make_pdf_document():r.setState({force_paper:!0})},r.make_pdf_document=function(){var e=document.getElementById("pdf_takeaways"),t=0,n=null,o=_.a.flatMap(e.children,function(e){var t=[e],n=_.a.flatMap(e.children,function(e){var n=[e];return _.a.forEach(e.children,function(e){return t.push(e)}),n});return _.a.forEach(n,function(e){return t.push(e)}),t});_.a.forEach(o,function(e){e.offsetTop-t>E&&(n.className+=" html2pdf__page-break",t=n.offsetTop+t),n=e}),r.html2pdf(e,{filename:"mission-"+r.props.sequence+"-"+r.props.slug+"-takeaways.pdf",margin:1,html2canvas:{dpi:300,letterRendering:!0},jsPDF:{unit:"in"}})},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),g(t,[{key:"componentDidMount",value:function(){var e=this;this._setState=this.setState,n.e(24).then(n.t.bind(null,1589,7)).then(function(t){null!=e._setState&&(e.html2pdf=t.default,e._setState({pdf_maker_loaded:!0}))})}},{key:"componentDidUpdate",value:function(e,t){this.state.force_paper&&(this.make_pdf_document(),this.setState({force_paper:!1}))}},{key:"componentWillUnmount",value:function(){this._setState=null}},{key:"render_pdf",value:function(){var e="https://"+window.location.host+Object(m.a)(this.props),t="by Dataquest Labs, Inc. - All rights reserved Â© "+(new Date).getFullYear();return s.a.createElement("div",{id:"pdf_takeaways",className:"MissionTakeaways__takeaways"},s.a.createElement("div",{className:"MissionTakeaways__title"},s.a.createElement("h1",null,this.props.title,": Takeaways"),s.a.createElement("a",{href:e,className:"MissionTakeaways__share"},s.a.createElement(d.a,{name:"share"}))),s.a.createElement("div",{className:"MissionTakeaways__copyright"},t),s.a.createElement(h.a,{className:"MissionTakeaways__text",body:this.props.text}),s.a.createElement(v,{className:"MissionTakeaways__footer",text:"Takeaways "+t}))}},{key:"render",value:function(){var e=this.props.on_paper?"paper":"content";return this.state.force_paper&&(e="force_paper"),s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+o()(e,w)},s.a.createElement(f.a,{color:"gray_to_green",hollow:!0,short:!0,icon_on_left:!0,icon:"download",text:"Download as PDF",title:this.state.pdf_maker_loaded?"":"loading pdf maker...",className:"MissionTakeaways__button",disabled:!this.state.pdf_maker_loaded,onClick:this.handler_pdf_request}),this.render_pdf())}}]),t}();x.propTypes={className:c.a.string,on_paper:c.a.bool,title:c.a.string.isRequired,sequence:c.a.string.isRequired,slug:c.a.string.isRequired,text:c.a.string.isRequired},x.defaultProps={},x.displayName="MissionTakeaways";t.a=Object(l.b)(k,{})(x)},1210:function(e,t,n){"use strict";var r=n(14),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=(n(1494),n(20)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={"./SidePanelTitle.scss":{icon:"SidePanelTitle__icon",light:"SidePanelTitle__light",dark:"SidePanelTitle__dark"}};var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),u(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.className,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["icon","title","className"]);return s.a.createElement("div",p({},i,{className:(r?r+" ":"")+o()(this.props.theme,_)}),t&&s.a.createElement(l.a,{name:t,className:"SidePanelTitle__icon"}),n)}}]),t}();f.propTypes={title:c.a.string.isRequired,icon:c.a.string,className:c.a.string,theme:c.a.string},f.defaultProps={theme:"light"},f.displayName="SidePanelTitle",t.a=f},1429:function(e,t,n){e.exports=n.p+"assets/runner47fbb25bd1bcaeeb0de72d9a5df6ed5f.png"},1430:function(e,t,n){e.exports=n.p+"assets/book78a27d0620b646cbd6b3651605530838.png"},1431:function(e,t,n){e.exports=n.p+"assets/handse19fdbd31d15699afdcd2b4b0cf6861b.png"},1433:function(e,t,n){e.exports={content:"TipPopup__content",tooltip:"TipPopup__tooltip",arrow:"TipPopup__arrow",top:"TipPopup__top",bottom:"TipPopup__bottom","x-mark":"TipPopup__x-mark","children-container":"TipPopup__children-container"}},1435:function(e,t,n){e.exports={root:"MissionOnboardingTips__root"}},1475:function(e,t,n){e.exports={root:"PanelPopup__root",body:"PanelPopup__body"}},1476:function(e,t,n){e.exports=n.p+"assets/premiumd505e488b48bd25230aa023f8ffdc939.svg"},1478:function(e,t,n){e.exports={root:"MissionComplete__root",side:"MissionComplete__side",side_marketing:"MissionComplete__side_marketing",progress_block:"MissionComplete__progress_block",loading:"MissionComplete__loading",image:"MissionComplete__image",icon:"MissionComplete__icon",link:"MissionComplete__link"}},1480:function(e,t,n){e.exports={root:"PanelIndicator__root",active:"PanelIndicator__active",inactive:"PanelIndicator__inactive"}},1482:function(e,t,n){e.exports={root:"MissionEnd__root",panel:"MissionEnd__panel",footer:"MissionEnd__footer",footer_back:"MissionEnd__footer_back",footer_forward:"MissionEnd__footer_forward"}},1484:function(e,t,n){e.exports={root:"MissionFooter__root",right_side:"MissionFooter__right_side",title_side:"MissionFooter__title_side",more:"MissionFooter__more",title:"MissionFooter__title",center:"MissionFooter__center",nav_button:"MissionFooter__nav_button"}},1486:function(e,t,n){e.exports={current:"MissionStepItem__current",root:"MissionStepItem__root",done:"MissionStepItem__done",number:"MissionStepItem__number"}},1488:function(e,t,n){e.exports={side:"MissionSteps__side",root:"MissionSteps__root",shield:"MissionSteps__shield",header:"MissionSteps__header",back:"MissionSteps__back",back_text:"MissionSteps__back_text",back_icon:"MissionSteps__back_icon",icon:"MissionSteps__icon",lesson:"MissionSteps__lesson",steps:"MissionSteps__steps"}},1490:function(e,t,n){e.exports={close:"DqDropMenu__close",open:"DqDropMenu__open",top:"DqDropMenu__top",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}},1492:function(e,t,n){e.exports={side_help_panel:"MissionAnswer__side_help_panel"}},1494:function(e,t,n){e.exports={dark:"SidePanelTitle__dark",light:"SidePanelTitle__light",icon:"SidePanelTitle__icon"}},1496:function(e,t,n){e.exports={root:"ScrollAccordion__root",bottom_headers:"ScrollAccordion__bottom_headers",top_headers:"ScrollAccordion__top_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}},1498:function(e,t,n){e.exports={takeaways:"MissionTakeaways__takeaways",copyright:"MissionTakeaways__copyright",content:"MissionTakeaways__content",force_paper:"MissionTakeaways__force_paper",paper:"MissionTakeaways__paper",button:"MissionTakeaways__button",title:"MissionTakeaways__title",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}},1500:function(e,t,n){e.exports={text:"Footer__text",root:"Footer__root",link:"Footer__link",logo:"Footer__logo"}},1502:function(e,t,n){e.exports={instructions:"MissionLearn__instructions",section:"MissionLearn__section",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}},1504:function(e,t,n){e.exports={dark:"MissionInformation__dark",light:"MissionInformation__light",body:"MissionInformation__body"}},1506:function(e,t,n){e.exports={root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}},1588:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"get_end_info",function(){return Yt});var o=n(14),i=n.n(o),s=n(0),a=n.n(s),c=n(1),l=n.n(c),p=n(6),u=n(3),_=n(2),f=n.n(_),d=(n(1506),n(1504),n(1502),n(203)),h=n(1173),m=(n(1496),n(219)),b=n(97),y=n(1210),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={"./ScrollAccordion.scss":{root:"ScrollAccordion__root",top_headers:"ScrollAccordion__top_headers",bottom_headers:"ScrollAccordion__bottom_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}};function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=1,M=function(e){function t(){var e,n,r;O(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._clicked=function(){r.props.onSelected(r.props.title)},k(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"render",value:function(){return a.a.createElement(y.a,{onClick:this._clicked,id:this.props.id,title:this.props.title,icon:this.props.icon,theme:this.props.theme,className:i()(this.props.in_text?"in_text":"in_header",w)})}}]),t}();M.propTypes={title:l.a.string.isRequired,onSelected:l.a.func.isRequired,icon:l.a.string,in_text:l.a.bool,id:l.a.string,theme:l.a.string},M.displayName="SectionTitle";var j=function(e){function t(){var e,n,r;O(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={headers:{}},r.openSection=function(e){if(null!=r._sections[e]){var t=r._sections[e],n=t.ref.offsetTop,o=t.order,i=(r._sections[e].ref.firstChild.clientHeight+x+x)*o;clearTimeout(r._animate_id),r._animate_id=Object(m.a)(r._scrollarea,n-i+4)}},r.am_scrolling=function(){if(null!=r._scrollarea){var e=r._scrollarea,t=e.offsetHeight,n=e.scrollTop,o=e.clientWidth;r._top_headers.style.width=o+"px",r._bottom_headers.style.width=o+"px";var i=!1,s=f.a.mapValues(r._sections,function(e,o){var s=e.ref;return s.offsetTop<n+r._top_headers.clientHeight?(i=i||"above"!==r.state.headers[o],s.firstChild.style.opacity=0,"above"):s.offsetTop+s.firstChild.clientHeight>n+t-r._bottom_headers.clientHeight?(i=i||"below"!==r.state.headers[o],s.firstChild.style.opacity=0,"below"):(i=i||"shown"!==r.state.headers[o],s.firstChild.style.opacity=1,"shown")});i&&r.setState({headers:s})}},r.render_a_header=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=t.props.title;return r.state.headers[n]!==(e?"above":"below")?null:a.a.createElement(M,v({},t.props,{key:n,onSelected:r.openSection,id:t.props.id}))}},r._ref_for_child=function(e,t){return function(n){null===n?delete r._sections[t]:r._sections[t]={ref:n,order:e}}},r.render_child=function(e,t){var n=v({},e.props);return"shown"!==r.state.headers[e.props.title]&&delete n.id,a.a.createElement("div",{key:e.props.title,className:"ScrollAccordion__section",ref:r._ref_for_child(t,e.props.title)},a.a.createElement(M,v({},n,{in_text:!0,onSelected:r.openSection})),a.a.createElement(b.a,{onResize:r.am_scrolling}),e.props.children)},r.set_scrollarea_ref=function(e){r._scrollarea=e},k(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"componentWillMount",value:function(){this._sections={}}},{key:"componentDidMount",value:function(){this._scrollarea.addEventListener("scroll",this.am_scrolling,{passive:!0}),this.am_scrolling()}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this._scrollarea.scrollTop=0,this.am_scrolling())}},{key:"componentDidUpdate",value:function(){this.am_scrolling()}},{key:"componentWillUnmount",value:function(){this._scrollarea.removeEventListener("scroll",this.am_scrolling),this._scrollarea=null}},{key:"render",value:function(){var e=this,t=s.Children.toArray(this.props.children).filter(function(e){return e.type===P});return a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"ScrollAccordion__root"},a.a.createElement("div",{className:"ScrollAccordion__top_headers",ref:function(t){e._top_headers=t}},t.map(this.render_a_header())),a.a.createElement("div",{className:"ScrollAccordion__body",ref:this.set_scrollarea_ref},t.map(this.render_child)),a.a.createElement("div",{className:"ScrollAccordion__bottom_headers",ref:function(t){e._bottom_headers=t}},t.map(this.render_a_header(!1))))}}]),t}();j.propTypes={id:l.a.string.isRequired,children:l.a.node.isRequired,className:l.a.string},j.defaultProps={},j.displayName="ScrollAccordion";var P=function(e){function t(){return O(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a.a.PureComponent),t}();P.propTypes={id:l.a.string,title:l.a.string.isRequired,children:l.a.node.isRequired},j.Section=P;var S=j,T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),T(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.missionMarkup,r=e.className,o=n.processCleanupHTML(t);return o=n.processLinks(o),o=n.processWithMarkDeep(o),o=n.processWithKaTex(o),a.a.createElement("div",{className:r,dangerouslySetInnerHTML:{__html:o}})}}]),t}();q.propTypes={text:l.a.string.isRequired,className:l.a.string.isRequired,missionMarkup:l.a.any},q.displayName="MissionHelp";var N=q,R=(n(1492),n(61)),C=n(18),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=f.a.pick(C.c,["tries_before_answer","run_count","current_step_info","current_step_output"]),I=Object(u.createStructuredSelector)(A),L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),D(t,[{key:"render",value:function(){var e=this.props,t=e.run_count,n=e.tries_before_answer,r=e.className;if(n<=t||this.props.current_step_output.success)return a.a.createElement(R.a,{className:r,value:this.props.current_step_info.answer,mode:this.props.current_step_info.editor_language,readOnly:!0,onDark:"dark"===this.props.theme});var o=n-t,i=1===o?"time":"times";return a.a.createElement("div",{className:r},"You'll need to run code ",o," more ",i," before you can see the answer.")}}]),t}();L.propTypes={tries_before_answer:l.a.number.isRequired,run_count:l.a.number.isRequired,current_step_output:l.a.shape({success:l.a.bool.isRequired}).isRequired,current_step_info:l.a.shape({answer:l.a.string.isRequired,editor_language:l.a.string.isRequired}).isRequired,className:l.a.string,theme:l.a.string},L.defaultProps={theme:"dark"},L.displayName="MissionAnswer";var F=Object(p.b)(I,{})(L),B=(n(1490),n(20)),W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U={"./DqDropMenu.scss":{open:"DqDropMenu__open",top:"DqDropMenu__top",close:"DqDropMenu__close",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}};function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=1e3,G=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={open:!1},r.toggle_state=function(){r.state.open?r.close_state():r.open_state()},r.open_state=function(){r.props.open_close_listener("open"),r.setState({open:!0})},r.close_state=function(){r.props.open_close_listener("close"),r.setState({open:!1})},r.toggle_off=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.close_state,Y)},r.toggle_on=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.open_state,Y)},H(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),z(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._timer)}},{key:"render_menu_options",value:function(e){return a.a.createElement("div",{className:"DqDropMenu__options",onClick:this.close_state},e.map(function(e){return a.a.createElement("div",{key:e.text,onClick:e.onClick,className:"DqDropMenu__option",title:e.title},e.text)}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.options,r=(e.open_close_listener,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","options","open_close_listener"]));return a.a.createElement("div",W({onMouseLeave:this.toggle_off,onMouseEnter:this.toggle_on},r,{className:i()(this.state.open?"open":"close",U)}),a.a.createElement("div",{className:"DqDropMenu__top",onClick:this.toggle_state},a.a.createElement("div",{className:"DqDropMenu__text"},t),a.a.createElement("div",{className:"DqDropMenu__icon"},a.a.createElement(B.a,{name:"down"}))),this.render_menu_options(n))}}]),t}();G.propTypes={title:l.a.string.isRequired,options:l.a.arrayOf(l.a.shape({text:l.a.string.isRequired,onClick:l.a.func.isRequired,title:l.a.string})),open_close_listener:l.a.func.isRequired},G.defaultProps={open_close_listener:function(){}},G.displayName="DqDropMenu";var Q=G,J=n(115),K=n(1140),V=n(22),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$={"./MissionLearn.scss":{section:"MissionLearn__section",instructions:"MissionLearn__instructions",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}};function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=Z({},f.a.pick(C.c,["current_step_index","current_step_info","show_help","show_answer"]),{mission_info:V.d.mission_info}),ne=function(e){var t=e.type,n=e.include_payload,r=void 0!==n&&n;return function(e){return r?{type:t,payload:e}:{type:t}}},re=Z({},C.b,{open_for_mission:K.a.open_for_mission,get_help_listener:ne({type:"MissionLearn/get_help",include_payload:!0}),intercom_listener:ne({type:"MissionLearn/intercom",include_payload:!0})}),oe=Object(u.createStructuredSelector)(te),ie="The Answer",se=100,ae=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={get_help_options:[]},r.hot_keys={"alt+a":{priority:1,handler:function(){return r.show_the_answer()}}},r.show_the_answer=function(){return 0!==r.props.current_step_info.answer.length&&(r.props.set_show_answer(!0),setTimeout(function(){return r._accordion&&r._accordion.openSection(ie)},se),!1)},ee(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),X(t,[{key:"componentWillMount",value:function(){this.make_help_options(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.current_step_info.answer.length>0==this.props.current_step_info.answer.length>0&&e.current_step_info.help.length>0==this.props.current_step_info.help.length>0||this.make_help_options(e)}},{key:"make_help_options",value:function(e){var t=this,n=[];e.current_step_info.help.length>0&&n.push({text:"Get a hint",onClick:function(){e.set_show_help(!0),setTimeout(function(){return t._accordion&&t._accordion.openSection("Hint")},se)}}),e.current_step_info.answer.length>0&&n.push({text:"See the answer",title:"["+Object(J.hotkey_display)("alt+a")+"] to See the answer",onClick:this.show_the_answer}),n.push({text:"Discuss this lesson",onClick:e.onOpenDiscuss}),n.push({text:"Message Us",onClick:function(){e.intercom_listener("show"),e.open_for_mission()}}),this.setState({get_help_options:n})}},{key:"render_learn",value:function(e){return 0===e.body.length?null:a.a.createElement(S.Section,{title:"Learn",id:"onboarding-tip-learn",theme:this.props.theme},a.a.createElement(d.a,{body:e.body,processPreCode:!0,className:"MissionLearn__section",theme:this.props.theme}))}},{key:"render_instructions",value:function(e){return"text"===e.type||0===e.instructions.length?null:a.a.createElement(S.Section,{title:"instructions",id:"onboarding-tip-instructions",theme:this.props.theme},a.a.createElement(d.a,{className:"MissionLearn__instructions",body:e.instructions,theme:this.props.theme}),a.a.createElement("div",{className:"MissionLearn__section"},a.a.createElement(Q,{title:"Get Help",options:this.state.get_help_options,open_close_listener:this.props.get_help_listener,theme:this.props.theme})))}},{key:"render_help",value:function(){return this.props.show_help?a.a.createElement(S.Section,{title:"Hint",theme:this.props.theme},a.a.createElement(N,{className:"MissionLearn__section",text:this.props.current_step_info.help,missionMarkup:d.a})):null}},{key:"render_answer",value:function(){return this.props.show_answer?a.a.createElement(S.Section,{title:ie,theme:this.props.theme},a.a.createElement(F,{className:"MissionLearn__solution",theme:this.props.theme})):null}},{key:"render",value:function(){var e=this,t=this.props.current_step_info;return"takeaways"===this.props.current_step_info.type?a.a.createElement("div",{className:"MissionLearn__takeaways"},a.a.createElement(h.a,{on_paper:!0,title:this.props.mission_info.title,sequence:this.props.mission_info.sequence,slug:this.props.mission_info.slug,text:this.props.current_step_info.body})):a.a.createElement(S,{id:t.sequence,ref:function(t){e._accordion=t},className:i()(this.props.theme,$)},this.render_learn(t),this.render_instructions(t),this.render_help(),this.render_answer())}}]),t}();ae.propTypes={onOpenDiscuss:l.a.func.isRequired,current_step_index:l.a.number.isRequired,current_step_info:l.a.shape({sequence:l.a.string.isRequired,title:l.a.string.isRequired,body:l.a.string.isRequired,help:l.a.string.isRequired,instructions:l.a.string.isRequired,type:l.a.string.isRequired,answer:l.a.string.isRequired}).isRequired,show_help:l.a.bool.isRequired,show_answer:l.a.bool.isRequired,set_show_help:l.a.func.isRequired,set_show_answer:l.a.func.isRequired,mission_info:l.a.shape({title:l.a.string.isRequired,sequence:l.a.string.isRequired,slug:l.a.string.isRequired}).isRequired,get_help_listener:l.a.func.isRequired,intercom_listener:l.a.func.isRequired,open_for_mission:l.a.func.isRequired,theme:l.a.string},ae.defaultProps={theme:"light"},ae.displayName="MissionLearn";var ce=Object(p.b)(oe,re)(Object(J.hotkeys)(ae)),le=n(222),pe=n(39),ue=n(35),_e=n.n(ue),fe={loader:function(){return Promise.all([n.e(25),n.e(29)]).then(n.bind(null,1584))},loading:function(e){return a.a.createElement(pe.a,e)}},de=_e()(fe),he=_e()({loader:function(){return n.e(28).then(n.bind(null,1582))},loading:function(e){return a.a.createElement(pe.a,e)}}),me=n(156),be=n(83),ye=n(4),ve=n(23),ge=n(68),we=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oe={"./MissionInformation.scss":{light:"MissionInformation__light",dark:"MissionInformation__dark",body:"MissionInformation__body"}};function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ee={is_moderator:ye.b.is_moderator,current_step_index:C.c.current_step_index,active_tab:V.d.active_tab,theme:ge.b.text_theme},xe={fetch_directory:ve.a.fetch_directory,open_tab:V.b.open_tab},Me=Object(u.createStructuredSelector)(Ee),je=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={tabs:[]},r.on_tab_select=function(e){return r.props.open_tab({select:e})},r.help_open_discuss=function(){return r.props.open_tab({select:"FAQ",source:"get help"})},ke(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),we(t,[{key:"componentWillMount",value:function(){var e=[{text:"Learn",icon:"book"},{text:"FAQ",icon:"questions"},{text:"Mission Reference",icon:"search"}];this.props.is_moderator&&e.push({text:"Admin"}),this.setState({tabs:e}),this.props.fetch_directory(),de.preload()}},{key:"componentWillReceiveProps",value:function(e){e.current_step_index!==this.props.current_step_index&&"Learn"!==this.props.active_tab&&this.props.open_tab({select:"Learn"})}},{key:"render_body",value:function(){switch(this.props.active_tab){case"FAQ":return a.a.createElement(le.a,null);case"Mission Reference":return a.a.createElement(de,{theme:this.props.theme});case"Admin":return a.a.createElement(he,null);default:return a.a.createElement(ce,{onOpenDiscuss:this.help_open_discuss,theme:this.props.theme})}}},{key:"render",value:function(){var e=this;return a.a.createElement(be.a,{part_name:"info",className:i()(this.props.theme,Oe)},a.a.createElement(me.a,null,this.state.tabs.map(function(t){return a.a.createElement(be.a,{key:t.text,part_name:t.text},a.a.createElement(me.a.Tab,{key:t.text,title:t.text,icon:t.icon,onSelect:e.on_tab_select,selected:e.props.active_tab===t.text}))})),a.a.createElement("div",{className:"MissionInformation__body"},this.render_body()))}}]),t}();je.propTypes={is_moderator:l.a.bool.isRequired,current_step_index:l.a.number.isRequired,fetch_directory:l.a.func.isRequired,theme:l.a.string,active_tab:l.a.string.isRequired,open_tab:l.a.func.isRequired},je.defaultProps={theme:"light"},je.displayName="MissionInformation";var Pe=Object(p.b)(Me,xe)(je),Se=n(223),Te=(n(1488),n(45)),qe=(n(1486),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ne={"./MissionStepItem.scss":{root:"MissionStepItem__root",current:"MissionStepItem__current",number:"MissionStepItem__number",done:"MissionStepItem__done"}};function Re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ce=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Re(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._click=function(){return r.props.onSelected(r.props.index)},Re(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),qe(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._click,id:"step-"+this.props.index,className:i()(this.props.current?"current":"root",Ne)},this.props.completed?a.a.createElement(B.a,{name:"pass",className:"MissionStepItem__done"}):a.a.createElement("span",{className:"MissionStepItem__number"},this.props.index+1,"."),this.props.title)}}]),t}();Ce.propTypes={current:l.a.bool.isRequired,completed:l.a.bool.isRequired,title:l.a.string.isRequired,index:l.a.number.isRequired,onSelected:l.a.func.isRequired},Ce.displayName="MissionStepItem";var De=Ce,Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Fe=Ie({},f.a.pick(C.c,["current_step_index","step_list"]),{mission_info:V.d.mission_info}),Be=C.b,We=Object(u.createStructuredSelector)(Fe),ze=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Le(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._directly_to_step=function(e){r.props.directly_to_step(e),r.props.onClose()},r.renderStep=function(e,t){return a.a.createElement(De,Ie({key:t+" "+e.title},e,{current:t===r.props.current_step_index,index:t,onSelected:r._directly_to_step}))},Le(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Ae(t,[{key:"render",value:function(){var e=Math.max(this.props.current_step_index-2,0);return a.a.createElement("div",{className:"MissionSteps__root"},a.a.createElement("div",{className:"MissionSteps__shield",onClick:this.props.onClose}),a.a.createElement("div",{className:"MissionSteps__side"},a.a.createElement("div",{className:"MissionSteps__header"},a.a.createElement("div",{className:"MissionSteps__back",onClick:this.props.onClose},a.a.createElement("div",{className:"MissionSteps__back_icon"},a.a.createElement(B.a,{name:"left",className:"MissionSteps__icon"})),a.a.createElement("div",{className:"MissionSteps__back_text"},"Close")),a.a.createElement("h2",null,this.props.mission_info.title),a.a.createElement("div",null,this.props.mission_info.description)),a.a.createElement("div",{className:"MissionSteps__lesson"},"Steps"),a.a.createElement(m.b,{className:"MissionSteps__steps",scroll_to_id:"step-"+e},this.props.step_list.map(this.renderStep),a.a.createElement(Te.a,{color:"danger",text:"reset progress",new_style:!0,hollow:!0,borderless:!0,confirmTitle:"Reset mission progress?",confirmText:'You will lose all of your progress on the "'+this.props.mission_info.title+'" mission!',confirmButtonText:"Reset",dangerMode:!0,onClick:this.props.reset_all_progress}))))}}]),t}();ze.propTypes={current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired,completed:l.a.bool.isRequired})),mission_info:l.a.shape({title:l.a.string.isRequired,description:l.a.string.isRequired}).isRequired,reset_all_progress:l.a.func.isRequired,directly_to_step:l.a.func.isRequired,onClose:l.a.func.isRequired},ze.displayName="MissionSteps";var Ue=Object(p.b)(We,Be)(ze),He=(n(1484),n(8)),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Qe={current_step_index:C.c.current_step_index,step_list:C.c.step_list},Je=C.b,Ke=Object(u.createStructuredSelector)(Qe),Ve=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ge(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.hot_keys={"alt+n":{priority:1,handler:function(){return r.props.next_step(),!1}},"alt+b":{priority:1,handler:function(){return r.props.back_step(),!1}}},Ge(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ye(t,[{key:"render_next",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list,r="Next",o="["+Object(J.hotkey_display)("alt+n")+"] Next Screen";return n.length-1===t&&(r="Finish",o="["+Object(J.hotkey_display)("alt+n")+"] Goto Mission End"),a.a.createElement(He.a,{short:!0,onDark:!0,hollow:!0,color:"white",className:"MissionFooter__nav_button",text:r,title:o,onClick:this.props.next_step})}},{key:"render",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list;if(0===n.length)return a.a.createElement("div",{className:"MissionFooter__root"});var r=n[t].title;return a.a.createElement(be.a,{className:"MissionFooter__root",part_name:"footer"},a.a.createElement("div",{className:"MissionFooter__title_side",onClick:this.props.onOpenSteps},a.a.createElement(B.a,{name:"bars",className:"MissionFooter__more"}),a.a.createElement("div",{className:"MissionFooter__title"},t+1,". ",r)),a.a.createElement("div",{className:"MissionFooter__center"},a.a.createElement(He.a,{text:"back",short:!0,onDark:!0,color:"white",hollow:!0,className:"MissionFooter__nav_button",title:"["+Object(J.hotkey_display)("alt+b")+"] Back a Screen",disabled:0===t,onClick:this.props.back_step}),a.a.createElement("div",null,t+1," / ",n.length),this.render_next()),a.a.createElement("div",{className:"MissionFooter__right_side"}))}}]),t}();Ve.propTypes={onOpenSteps:l.a.func.isRequired,current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired})).isRequired,next_step:l.a.func.isRequired,back_step:l.a.func.isRequired},Ve.displayName="MissionFooter";var Xe=Object(p.b)(Ke,Je)(Object(J.hotkeys)(Ve)),Ze=(n(1482),n(1480),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),$e={"./PanelIndicator.scss":{root:"PanelIndicator__root",inactive:"PanelIndicator__inactive",active:"PanelIndicator__active"}};function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rt=function(e){function t(){var e,n,r;et(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=tt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._onClick=function(){return r.props.onSelect(r.props.index)},tt(r,n)}return nt(t,a.a.PureComponent),Ze(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._onClick,className:i()(this.props.active?"active":"inactive",$e)})}}]),t}();rt.propTypes={index:l.a.number.isRequired,active:l.a.bool.isRequired,onSelect:l.a.func.isRequired},rt.displayName="Indicator";var ot=function(e){function t(){return et(this,t),tt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return nt(t,a.a.PureComponent),Ze(t,[{key:"render",value:function(){var e=this;return this.props.count<=1?a.a.createElement("div",{className:"PanelIndicator__root"}):a.a.createElement("div",{className:"PanelIndicator__root"},f.a.times(this.props.count,function(t){return a.a.createElement(rt,{index:t,key:t,onSelect:e.props.onSelect,active:t===e.props.active_index})}))}}]),t}();ot.propTypes={count:l.a.number.isRequired,active_index:l.a.number.isRequired,onSelect:l.a.func.isRequired},ot.displayName="PanelIndicator";var it=ot,st=(n(1478),n(51)),at=n(139),ct=n(138),lt=n(141),pt=n(13),ut=n(100),_t=n(30),ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dt=[{text:"Unlock hundreds of hours of data science and engineering content"},{text:"Get help from our experts during office hours"},{text:"Connect and collaborate with your fellow learners"},{text:"Work on guided projects to build your portfolio"}],ht={cutoutPercentage:86,animation:{duration:1e3}},mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),ft(t,[{key:"render_right_side",value:function(){return this.props.on_free_plan?a.a.createElement(pt.a,{centered:!0,className:"MissionComplete__side_marketing"},a.a.createElement("h2",null,"Want to learn more?",a.a.createElement("br",null),"Go further with Dataquest Premium!"),a.a.createElement("img",{className:"MissionComplete__image",src:n(1476)}),a.a.createElement(at.a,{features:dt}),a.a.createElement("div",{className:"spacer"}),a.a.createElement(ut.a,{text:"Learn More",className:"MissionComplete__link",to:"/subscribe"}),a.a.createElement("div",{className:"spacer"})):null}},{key:"render_progress",value:function(){var e=this.props.course;return 0===e.progress?a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement(_t.a,{message:"Updating your progress",className:"MissionComplete__loading"})):a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement("p",null,"You are ",a.a.createElement("b",null,Object(st.a)(e.progress))," through the ",a.a.createElement("br",null),e.title," course"),a.a.createElement("div",{className:"spacer"}),a.a.createElement(ct.a,{light:!0,course_icon:!0,className:"MissionComplete__icon",progress:e.progress,icon_name:Object(lt.a)(e.slug),options:ht}),a.a.createElement("div",{className:"spacer"}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionComplete__root"},a.a.createElement(pt.a,{light:!0,centered:!0,className:"MissionComplete__side"},a.a.createElement("h1",null,a.a.createElement("b",null,"Congratulations!")),a.a.createElement("h2",{style:{marginTop:0}},a.a.createElement("b",null,"You've finished the mission")),this.render_progress()),this.render_right_side())}}]),t}();mt.propTypes={on_free_plan:l.a.bool.isRequired,course:l.a.shape({title:l.a.string.isRequired,slug:l.a.string.isRequired,progress:l.a.number.isRequired}).isRequired},mt.displayName="MissionComplete";var bt=mt,yt=n(17),vt=n(52),gt=n(33),wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var kt={is_subscribed:ye.b.is_subscribed,mission_next:V.d.mission_next,user_id:ye.b.user_id,mission_info:V.d.mission_info},Et={push_route:yt.c},xt=Object(u.createStructuredSelector)(kt),Mt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ot(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.skip_plus=function(){return r.props.is_subscribed&&"plus"===r.props.mission_next.upgrade_suggestion},r.gotoNext=function(){var e=r.props,t=e.mission_next,n=e.push_route;return t.allowed?(n(Object(gt.a)(t)),Promise.resolve()):r.skip_plus()?(n(Object(gt.a)(t.alternate)),Promise.resolve()):r.props.dq_alert({title:"We're going to need to skip ahead",type:"warning",text:r.get_alert_text(),cancelButtonText:"Preview Mission",confirmButtonText:"Skip Ahead",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){r.send_paywall_event("Skip Ahead"),n(Object(gt.a)(t.alternate))}).catch(function(){r.send_paywall_event("Preview Mission"),n(Object(gt.a)(t))})},r.send_paywall_event=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={user_id:r.props.user_id,mission_id:r.props.mission_info.id,element:e};window.analytics.track("next-mission-paywall",t)},Ot(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),wt(t,[{key:"get_html_link",value:function(e){return'<a href="'+Object(gt.a)(e)+'">'+e.title+"</a>"}},{key:"get_alert_text",value:function(){var e=this.props.mission_next;return"You need our "+e.upgrade_suggestion+' plan to access Mission: "'+e.title+'".\n\nOr you can skip ahead to Mission: "'+e.alternate.title+'" with your current plan.'}},{key:"render",value:function(){var e=this.skip_plus()?this.props.mission_next.alternate.title:this.props.mission_next.title;return a.a.createElement(He.a,{color:"green",text:"Next mission",title:"Next mission: "+e,icon:"right",onClick:this.gotoNext})}}]),t}();Mt.propTypes={is_subscribed:l.a.bool.isRequired,mission_next:l.a.shape({allowed:l.a.bool.isRequired,sequence:l.a.string.isRequired,title:l.a.string,upgrade_suggestion:l.a.string.isRequired,alternate:l.a.shape({title:l.a.string,sequence:l.a.string.isRequired}).isRequired}).isRequired,user_id:l.a.string.isRequired,mission_info:l.a.shape({id:l.a.string}).isRequired,push_route:l.a.func.isRequired,dq_alert:l.a.func.isRequired},Mt.defaultProps={dq_alert:vt.a},Mt.displayName="NextMissionButton";var jt=Object(p.b)(xt,Et)(Mt),Pt=(n(1475),n(84)),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),St(t,[{key:"render",value:function(){return a.a.createElement(Pt.a,{className:"PanelPopup__root"},a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"PanelPopup__body"},this.props.children))}}]),t}();Tt.propTypes={children:l.a.node,className:l.a.string},Tt.displayName="PanelPopup";var qt=Tt,Nt=n(12),Rt=n.n(Nt),Ct=n(10),Dt={in_course:{title:"",slug:"",progress:0}},At=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Object(Ct.make_simple_selectors)(Dt,"mission_end_info")),It={reset:function(){return Rt()(Dt)}},Lt=Object(Ct.make_reducer_n_actions)({public_handlers:It,private_handlers:{set_info:function(e,t){var n=t.payload;return e.merge({in_course:n})}},action_types_prefix:"mission_end_info/",initial_state:Dt,Immutable:Rt.a}),Ft=Lt.reducer,Bt=Lt.private_actions,Wt=Lt.actions,zt=(Lt.ACTION_TYPES,Ft),Ut=n(9),Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt=function(e){return function(t,n){t(Wt.reset());var r="{\n    mission(sequence: "+e+") {\n      in_course {\n        title: name\n        slug\n      }\n    }\n  }";return Object(Ut.c)(r).then(function(e){var t=e.data.mission.in_course;return Object(Ut.c)(function(e){return'{\n    progress {\n      course(slug: "'+e+'") {\n        progress\n      }\n    }\n  }'}(t.slug)).then(function(e){var n=e.data;return Ht({},t,n.progress.course)})}).then(function(e){return t(Bt.set_info(e))}).catch(console.error)}},Gt=n(16),Qt=Object.assign({},Wt,r),Jt=(Object(Gt.a)({mission_end_info:zt}),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $t=Kt({},At,{mission_sequence:function(e){return V.d.mission_info(e).sequence},open_end_of_mission:C.c.open_end_of_mission,plan_name:ye.b.plan_name}),en=Kt({},Qt,{back_step:C.b.back_step}),tn=Object(u.createStructuredSelector)($t),nn=function(e){function t(){var e,n,r;Vt(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Xt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={active_panel_index:0,panels:[]},r._change_panel=function(e){r.setState({active_panel_index:e})},r._back=function(){0!==r.state.active_panel_index?r.setState({active_panel_index:r.state.active_panel_index-1}):r.props.back_step()},r._next=function(){r.setState({active_panel_index:r.state.active_panel_index+1})},Xt(r,n)}return Zt(t,a.a.PureComponent),Jt(t,[{key:"componentWillMount",value:function(){this.setup_panels(),this.props.get_end_info(this.props.mission_sequence)}},{key:"componentWillReceiveProps",value:function(e){this.setup_panels(e)}},{key:"setup_panels",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var e=["MissionComplete"];f.a.isEqual(this.state.panel,e)||this.setState({panels:e})}},{key:"render_panel",value:function(){return this.state.panels[this.state.active_panel_index],a.a.createElement(bt,{on_free_plan:"free"===this.props.plan_name,course:this.props.in_course})}},{key:"render_next",value:function(){return this.state.panels.length-1<=this.state.active_panel_index?a.a.createElement(jt,null):a.a.createElement(He.a,{color:"gray",text:"Next",icon:"right",onClick:this._next})}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionEnd__root"},a.a.createElement("div",{className:"MissionEnd__panel"},this.render_panel()),a.a.createElement("div",{className:"MissionEnd__footer"},a.a.createElement("div",{className:"MissionEnd__footer_back"},a.a.createElement(He.a,{color:"gray",onDark:!0,text:"Back",icon:"left",onClick:this._back})),a.a.createElement(it,{count:this.state.panels.length,active_index:this.state.active_panel_index,onSelect:this._change_panel}),a.a.createElement("div",{className:"MissionEnd__footer_forward"},this.render_next())))}}]),t}();nn.propTypes={in_course:l.a.object.isRequired,get_end_info:l.a.func.isRequired,mission_sequence:l.a.string.isRequired,back_step:l.a.func.isRequired,open_end_of_mission:l.a.bool.isRequired,plan_name:l.a.string.isRequired},nn.displayName="MissionEnd";var rn=function(e){function t(){return Vt(this,t),Xt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zt(t,a.a.PureComponent),Jt(t,[{key:"render",value:function(){return this.props.open_end_of_mission?a.a.createElement(qt,null,a.a.createElement(nn,this.props)):null}}]),t}();rn.propTypes={open_end_of_mission:l.a.bool.isRequired},rn.displayName="MissionEndInPopup";var on=Object(p.b)(tn,en)(rn),sn=n(1473),an=n.n(sn),cn=(n(1435),n(221)),ln=(n(1433),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),pn={"./TipPopup.scss":{root:"TipPopup__root",tooltip:"TipPopup__tooltip",content:"TipPopup__content",arrow:"TipPopup__arrow",top:"TipPopup__top",bottom:"TipPopup__bottom","x-mark":"TipPopup__x-mark","children-container":"TipPopup__children-container"}};var un=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),ln(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.style,className:i()("tooltip "+this.props.arrow_side,pn)},a.a.createElement("div",{className:"TipPopup__arrow"}),a.a.createElement("div",{className:"TipPopup__content"},a.a.createElement("button",{className:"TipPopup__x-mark",onClick:this.props.onNext},"â¨¯"),a.a.createElement("div",{className:"TipPopup__children-container"},this.props.children),a.a.createElement(He.a,{text:this.props.button_text,color:"white",hollow:!0,onDark:!0,onClick:this.props.onNext})))}}]),t}();un.propTypes={style:l.a.object,onNext:l.a.func.isRequired,button_text:l.a.string.isRequired,arrow_side:l.a.oneOf(["top","bottom"]).isRequired,children:l.a.node},un.displayName="TipPopup";var _n=un,fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function hn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var mn=dn({},cn.b,{show_tips:function(e){return!!ye.b.is_new_user(e)&&"snippet_runner"===C.c.current_step_info(e).type}}),bn=dn({},cn.a),yn=Object(u.createStructuredSelector)(mn),vn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=hn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={acquire_target_attempt:0},r.get_center_styles=function(e){var t=r.props.getElementById(e.dom_id);if(null==t)return r.wait_for_targets(),null;var n=t.getBoundingClientRect();return{left:(n.right-n.left)/2+n.left+"px",top:(n.bottom-n.top)/2+n.top+"px",position:"absolute"}},hn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),fn(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._load_timer),delete this._still_mounted}},{key:"wait_for_targets",value:function(){var e=this;this.state.acquire_target_attempt>4||(this._still_mounted=!0,window.setTimeout(function(){e._still_mounted&&e.setState({acquire_target_attempt:e.state.acquire_target_attempt+1})},1))}},{key:"render",value:function(){var e=this;if(!this.props.show_tips)return null;if(this.props.current_tip_index>=this.props.tips.length)return null;var t=this.props.tips[this.props.current_tip_index];if(null==t)return null;var n=this.get_center_styles(t);return null==n?null:a.a.createElement("div",{className:"MissionOnboardingTips__root",onClick:this.props.cancel_tip},a.a.createElement(_n,dn({style:n},t,{onNext:function(t){e.props.next_tip({tip_count:e.props.tips.length}),t.stopPropagation()}})))}}]),t}();vn.propTypes={show_tips:l.a.bool.isRequired,current_tip_index:l.a.number.isRequired,next_tip:l.a.func.isRequired,cancel_tip:l.a.func.isRequired,tips:l.a.arrayOf(l.a.shape({dom_id:l.a.string.isRequired,arrow_side:l.a.oneOf(["top","bottom"]).isRequired,button_text:l.a.string.isRequired,children:l.a.node.isRequired})),getElementById:l.a.func.isRequired},vn.defaultProps={getElementById:function(e){return document.getElementById(e)},tips:[{dom_id:"onboarding-tip-learn",arrow_side:"top",button_text:"Got it",children:a.a.createElement("div",null,a.a.createElement("h3",null,"Welcome to your first code screen!"),a.a.createElement("img",{src:n(1431)}),a.a.createElement("p",null,"Youâll be writing real code and solving data science problems in no time!"),a.a.createElement("p",null,"To start, learn concepts by reading the text in the âlearnâ section"))},{dom_id:"onboarding-tip-instructions",arrow_side:"bottom",button_text:"Cool!",children:a.a.createElement("div",null,a.a.createElement("img",{src:n(1430)}),a.a.createElement("p",null,"Next, read the instructions under this header, which will tell you what code to write."))},{dom_id:"onboarding-tip-run",arrow_side:"bottom",button_text:"I'm Ready!",children:a.a.createElement("div",null,a.a.createElement("img",{src:n(1429)}),a.a.createElement("p",null,"Then, just write your code in the box above, and click âRunâ to see if itâs correct."),a.a.createElement("p",null,"Youâll be on your way to learning about data in no time."))}]},vn.displayName="MissionOnboardingTips";var gn=Object(p.b)(yn,bn)(vn),wn=n(208);n.d(t,"selectors",function(){return xn}),n.d(t,"actions",function(){return Mn}),n.d(t,"TheMission",function(){return Sn});var On=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kn={"./TheMission.scss":{root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}};function En(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var xn=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({mission_info:V.d.mission_info,is_logged_in:ye.b.is_logged_in,editor_type:function(e){return C.c.current_step_info(e).type}},f.a.pick(ge.b,["autocomplete","editor_theme","text_theme"]),{settings_loading:ge.b.is_loading}),Mn={setup_mission:V.b.setup_mission,on_mission_heartbeat:V.b.on_mission_heartbeat,get_mission_files:wn.a.get_mission_files},jn=Object(u.createStructuredSelector)(xn),Pn=["snippet_runner","command_line","widget","jupyter","file_editor"],Sn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=En(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={steps_open:!1,min_split_width:200,max_split_width:1e3,split_size:null,user_split_size:"50%",is_dragging:!1},r.updateSplitSize=function(e){var t=Pn.indexOf(e)>-1?r.state.user_split_size:"100%";r.setState({split_size:t})},r.updateWindowDimensions=function(){var e=.3*window.innerWidth,t=.7*window.innerWidth;r.setState({min_split_width:e,max_split_width:t})},r.send_heartbeat=function(){"hidden"!==document.visibilityState&&r.props.is_logged_in&&r.props.on_mission_heartbeat()},r.toggle_steps_open=function(){return r.setState({steps_open:!r.state.steps_open})},r.drag_start_handler=function(){r.setState({is_dragging:!0})},r.drag_end_handler=function(){r.setState({is_dragging:!1})},r.size_change_handler=function(e){var t=e/window.innerWidth*100+"%";r.setState({split_size:t,user_split_size:t})},En(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),On(t,[{key:"componentDidMount",value:function(){this.updateSplitSize(this.props.editor_type),this.updateWindowDimensions(),this.possibly_load_files(this.props),window.addEventListener("mousemove",this.send_heartbeat,{passive:!0}),window.addEventListener("keyup",this.send_heartbeat,{passive:!0}),window.addEventListener("wheel",this.send_heartbeat,{passive:!0}),window.addEventListener("resize",this.updateWindowDimensions,{passive:!0})}},{key:"componentWillReceiveProps",value:function(e){this.possibly_load_files(e,this.props),this.updateSplitSize(e.editor_type)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.send_heartbeat),window.removeEventListener("keyup",this.send_heartbeat),window.removeEventListener("wheel",this.send_heartbeat),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"possibly_load_files",value:function(e,t){var n=e.mission_info,r=n.id,o=n.overall_type;r&&r!==f.a.get(t,"mission_info.id")&&"mission"===o&&e.get_mission_files(r)}},{key:"render",value:function(){var e=this.state.is_dragging?"not_interactive":"is_interactive";return a.a.createElement("div",{className:"TheMission__root"},a.a.createElement(an.a,{className:"TheMission__split_pane",minSize:this.state.min_split_width,maxSize:this.state.max_split_width,defaultSize:"50%",size:this.state.split_size,split:"vertical",onChange:this.size_change_handler,onDragStarted:this.drag_start_handler,onDragFinished:this.drag_end_handler},a.a.createElement("div",{className:i()(e,kn)},a.a.createElement(Pe,null)),a.a.createElement("div",{className:i()(e,kn)},a.a.createElement(Se.a,null))),this.state.steps_open&&a.a.createElement(Ue,{onClose:this.toggle_steps_open}),a.a.createElement(Xe,{onOpenSteps:this.toggle_steps_open}),!this.props.dont_show_end&&a.a.createElement(on,null),a.a.createElement(gn,null))}}]),t}();Sn.propTypes={dont_show_end:l.a.bool,is_logged_in:l.a.bool.isRequired,mission_info:l.a.shape({id:l.a.string.isRequired,overall_type:l.a.string.isRequired}).isRequired,editor_type:l.a.string.isRequired,editor_theme:l.a.string,autocomplete:l.a.bool,on_mission_heartbeat:l.a.func.isRequired,get_mission_files:l.a.func.isRequired},Sn.displayName="TheMission";t.default=Object(p.b)(jn,Mn)(Sn)}}]);