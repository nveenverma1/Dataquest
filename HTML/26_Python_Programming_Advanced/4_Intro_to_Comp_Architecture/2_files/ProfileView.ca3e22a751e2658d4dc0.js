(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1341:function(e,t,r){e.exports={root:"CertificatesList__root","linkedin-icon":"CertificatesList__linkedin-icon",cert_line:"CertificatesList__cert_line",view_cert:"CertificatesList__view_cert",title:"CertificatesList__title",linkedin:"CertificatesList__linkedin"}},1343:function(e,t,r){e.exports={root:"ProgressOverTime__root"}},1345:function(e,t,r){e.exports={error:"ProfileInfoEdit__error",root:"ProfileInfoEdit__root",back:"ProfileInfoEdit__back",public:"ProfileInfoEdit__public",input_error:"ProfileInfoEdit__input_error",input_group:"ProfileInfoEdit__input_group",public_meaning:"ProfileInfoEdit__public_meaning",actions:"ProfileInfoEdit__actions"}},1347:function(e,t,r){e.exports={root:"UserWebsites__root"}},1349:function(e,t,r){e.exports={root:"ProfileInfoDisplay__root",avatar:"ProfileInfoDisplay__avatar",avatar_placeholder:"ProfileInfoDisplay__avatar_placeholder",content:"ProfileInfoDisplay__content",name:"ProfileInfoDisplay__name"}},1351:function(e,t,r){e.exports={root:"ProfileInfo__root",edit:"ProfileInfo__edit"}},1353:function(e,t,r){e.exports={body:"SidePanel__body",root:"SidePanel__root",root_minimized:"SidePanel__root_minimized",minimized_body:"SidePanel__minimized_body"}},1355:function(e,t,r){e.exports={active:"SidePanelTabs__active",minimize_tab:"SidePanelTabs__minimize_tab",tab:"SidePanelTabs__tab",root:"SidePanelTabs__root",root_minimized:"SidePanelTabs__root_minimized",spacer:"SidePanelTabs__spacer"}},1357:function(e,t,r){e.exports={layout:"ProfileView__layout",left_side:"ProfileView__left_side"}},1587:function(e,t,r){"use strict";r.r(t);var i={};r.r(i),r.d(i,"fetch_progresses",function(){return Ee});var n={};r.r(n),r.d(n,"get_certificates",function(){return Qe});var a={};r.r(a),r.d(a,"get_profile",function(){return wt}),r.d(a,"save_profile",function(){return Pt});var o=r(0),s=r.n(o),l=r(1),c=r.n(l),u=r(6),p=r(3),_=r(2),f=r.n(_),d=(r(1357),r(14)),m=r.n(d),b=(r(1355),r(194)),h=r(20),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),v={"./SidePanelTabs.scss":{root:"SidePanelTabs__root",root_minimized:"SidePanelTabs__root_minimized",spacer:"SidePanelTabs__spacer",tab:"SidePanelTabs__tab",active:"SidePanelTabs__active",minimize_tab:"SidePanelTabs__minimize_tab"}};function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=i=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i._onTabChange=function(e){var t=e.index;return i.props.onTabChange(t)},i._onPlus=function(){return i.props.onTabChange(i.props.active_index)},i.renderTab=function(e,t){var r=i.props.active_index===t?"active":"tab";return s.a.createElement(b.a,{onClick:i._onTabChange,index:t,key:t,className:m()(r,v)},e)},y(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),g(t,[{key:"render",value:function(){var e=this.props.allow_minimize&&this.props.minimize,t=e?"root_minimized":"root";return s.a.createElement("div",{className:"meta "+m()(t,v)},f.a.map(this.props.tabs,this.renderTab),!e||s.a.createElement("div",{className:"SidePanelTabs__minimize_tab",title:"Maximize",onClick:this._onPlus},s.a.createElement(h.a,{name:"ellipsis-h"})),s.a.createElement("div",{className:"SidePanelTabs__spacer"}),!this.props.allow_minimize||this.props.minimize||s.a.createElement("div",{className:"SidePanelTabs__minimize_tab",title:"Minimize",onClick:this.props.onMinimize},s.a.createElement(h.a,{name:"caret-right"})))}}]),t}();w.propTypes={tabs:c.a.array,active_index:c.a.number,minimize:c.a.bool,allow_minimize:c.a.bool,onTabChange:c.a.func.isRequired,onMinimize:c.a.func},w.defaultProps={tabs:[],active_index:0,minimize:!1,allow_minimize:!1},w.displayName="SidePanelTabs";var O=w,P=(r(1353),r(12)),E=r.n(P),k=r(10),j={is_minimized:!1},R=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e})({},Object(k.make_simple_selectors)(j,"side_panel_info")),q={reset:function(){return E()(j)},set_starting_state:function(e,t){var r=t.payload;return e.set("is_minimized",r)},change_state:function(e,t){var r=t.payload;return e.set("is_minimized",r)}},S=Object(k.make_reducer_n_actions)({public_handlers:q,private_handlers:{},action_types_prefix:"side_panel_info/",initial_state:j,Immutable:E.a}),C=S.reducer,T=(S.private_actions,S.actions),x=(S.ACTION_TYPES,C),z=r(16),I=T,N=(Object(z.a)({side_panel_info:x}),function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}()),L={"./SidePanel.scss":{root:"SidePanel__root",root_minimized:"SidePanel__root_minimized",minimized_body:"SidePanel__minimized_body",body:"SidePanel__body"}};var A=R,W=I,D=Object(p.createStructuredSelector)(A),M=700,U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.change_state=function(e){e?r.setState({now_max:!1}):r.timer=window.setTimeout(function(){return r.setState({now_max:!0})},M),r.props.change_state(e)},r.onTabChange=function(e){r.change_state(!1),r.setState({active:e})},r.onMinimize=function(){r.change_state(!0),r.setState({active:0})},r.state={active:0,is_minimized:e.start_minimized||!1,now_max:!e.start_minimized||!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),N(t,[{key:"componentWillMount",value:function(){this.props.set_starting_state(this.props.start_minimized||!1)}},{key:"componentWillReceiveProps",value:function(e){e.is_minimized!==this.props.is_minimized&&this.setState({is_minimized:e.is_minimized})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props.tabs.map(function(e){return e.title}),t=this.state,r=t.is_minimized,i=t.now_max,n=this.state.active,a=this.props.allow_minimize&&r,o=a?"root_minimized":"root",l=a?{maxWidth:this.props.minimized_width}:{},c=f.a.get(this.props.tabs,[n,"children"],null);return s.a.createElement("div",{style:l,className:m()(o,L)},s.a.createElement(O,{tabs:e,active_index:n,onTabChange:this.onTabChange,onMinimize:this.onMinimize,minimize:r,allow_minimize:this.props.allow_minimize}),a?s.a.createElement("div",{className:"SidePanel__minimized_body"},this.props.minimize_extra_child):s.a.createElement("div",{className:"SidePanel__body"},i&&c))}}]),t}();U.propTypes={tabs:c.a.arrayOf(c.a.shape({title:c.a.any,children:c.a.node})).isRequired,allow_minimize:c.a.bool,start_minimized:c.a.bool,minimize_extra_child:c.a.node,minimized_width:c.a.string,is_minimized:c.a.bool.isRequired,set_starting_state:c.a.func.isRequired,change_state:c.a.func.isRequired},U.defaultProps={allow_minimize:!1,start_minimized:!1},U.displayName="SidePanel";var Y=Object(u.b)(D,W)(U),V=(r(1351),r(1349),r(111)),B=r.n(V),G=(r(1347),function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}());var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),G(t,[{key:"render_icon_url",value:function(e){var t=e.url,r=e.title,i=e.icon;return 0===t.length?null:s.a.createElement("a",{href:t,target:"_blank",title:r,key:r},s.a.createElement(h.a,{name:i}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"UserWebsites__root"},f.a.map(this.props.sites,this.render_icon_url))}}]),t}();H.propTypes={sites:c.a.arrayOf(c.a.shape({url:c.a.string.isRequired,title:c.a.string.isRequired,icon:c.a.string.isRequired})).isRequired},H.displayName="UserWebsites";var J=H,F=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();var K=Object(p.createSelector)(function(e){return e.github_url},function(e){return e.linkedin_url},function(e){return e.website_url},function(e,t,r){return[{url:e,title:"Github",icon:"github"},{url:t,title:"LinkedIn",icon:"linkedin"},{url:r,title:"Your Website",icon:"home"}]}),Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),F(t,[{key:"render_avatar",value:function(){return this.props.image_url?s.a.createElement("img",{src:this.props.image_url}):s.a.createElement("div",{className:"ProfileInfoDisplay__avatar_placeholder"},s.a.createElement(h.a,{name:"profile"}))}},{key:"get_location",value:function(){return this.props.location||"Location Unknown, Presumed To Be On Earth"}},{key:"render_last_seen",value:function(){return"now"===this.props.last_seen?"online now":s.a.createElement(B.a,{datetime:this.props.last_seen})}},{key:"render",value:function(){return s.a.createElement("div",{className:"ProfileInfoDisplay__root"},s.a.createElement("div",{className:"ProfileInfoDisplay__avatar"},this.render_avatar()),s.a.createElement("div",{className:"ProfileInfoDisplay__content"},s.a.createElement("h2",{className:"ProfileInfoDisplay__name"},this.props.fullname),s.a.createElement("div",null,this.get_location()),s.a.createElement("div",null,"Last seen ",this.render_last_seen()," | Started learning ",s.a.createElement(B.a,{datetime:this.props.date_joined,live:!1})),s.a.createElement(J,{sites:K(this.props)}),s.a.createElement("p",null,this.props.bio)))}}]),t}();Q.propTypes={image_url:c.a.string,fullname:c.a.string.isRequired,date_joined:c.a.string.isRequired,last_seen:c.a.string.isRequired,location:c.a.string.isRequired,github_url:c.a.string.isRequired,linkedin_url:c.a.string.isRequired,website_url:c.a.string.isRequired,bio:c.a.string.isRequired},Q.displayName="ProfileInfoDisplay";var X=Q,Z=r(8),$=r(30),ee=(r(1345),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),te=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),re={"./ProfileInfoEdit.scss":{root:"ProfileInfoEdit__root",back:"ProfileInfoEdit__back",public:"ProfileInfoEdit__public",input_group:"ProfileInfoEdit__input_group",input_error:"ProfileInfoEdit__input_error",error:"ProfileInfoEdit__error",public_meaning:"ProfileInfoEdit__public_meaning",actions:"ProfileInfoEdit__actions"}};var ie=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._update_fullname=function(e){return r.setState({fullname:e.target.value})},r._update_email=function(e){return r.setState({email:e.target.value})},r._update_location=function(e){return r.setState({location:e.target.value})},r._update_bio=function(e){return r.setState({bio:e.target.value})},r._update_github_url=function(e){return r.setState({github_url:e.target.value})},r._update_linkedin_url=function(e){return r.setState({linkedin_url:e.target.value})},r._update_website_url=function(e){return r.setState({website_url:e.target.value})},r._update_public=function(e){return r.setState({public:!r.state.public})},r._save=function(){r.props.save_changes(r.state)},r.state=f.a.pick(e,["fullname","email","location","github_url","linkedin_url","website_url","bio","public"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),te(t,[{key:"render_field",value:function(e){var t=e.Control,r=e.key,i=e.icon,n=e.label,a=function(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}(e,["Control","key","icon","label"]),o=f.a.get(this.props.save_errors[r],[0],!1),l=o?"input_error":"input_group";return s.a.createElement("div",{className:m()(l,re)},s.a.createElement("label",null,n," ",i&&s.a.createElement(h.a,{name:i})),s.a.createElement(t,ee({},a,{value:this.state[r],onChange:this["_update_"+r],disabled:this.props.save_pending})),o&&s.a.createElement("span",{className:"ProfileInfoEdit__error"},o))}},{key:"render_actions",value:function(){return this.props.save_pending?s.a.createElement($.a,{message:"Saving Profile"}):s.a.createElement("div",{className:"ProfileInfoEdit__actions"},s.a.createElement(Z.a,{color:"green",onClick:this._save,text:"Save changes"}),s.a.createElement(Z.a,{color:"gray",hollow:!0,borderless:!0,short:!0,onClick:this.props.cancel_changes,text:"cancel"}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"ProfileInfoEdit__root"},s.a.createElement(Z.a,{className:"ProfileInfoEdit__back",color:"gray",hollow:!0,short:!0,onClick:this.props.cancel_changes,text:"back",disabled:this.props.save_pending}),s.a.createElement("h2",null,"Edit your Profile"),this.render_field({Control:"input",type:"text",maxLength:"60",key:"fullname",label:"Your Name"}),this.render_field({Control:"input",type:"text",maxLength:"60",key:"email",label:"Your email"}),this.render_field({Control:"input",type:"text",maxLength:"60",key:"location",label:"Location"}),this.render_field({Control:"textarea",maxLength:"250",key:"bio",label:"Bio"}),this.render_field({Control:"input",type:"text",maxLength:"60",key:"github_url",label:"GitHub",icon:"github"}),this.render_field({Control:"input",type:"text",maxLength:"60",key:"linkedin_url",label:"LinkedIn",icon:"linkedin"}),this.render_field({Control:"input",type:"text",maxLength:"60",key:"website_url",label:"Your Website",icon:"home"}),s.a.createElement("label",{className:"ProfileInfoEdit__public"},s.a.createElement("input",{type:"checkbox",checked:this.state.public,onChange:this._update_public,disabled:this.props.save_pending}),s.a.createElement("span",null,"Public"),s.a.createElement("div",{className:"small ProfileInfoEdit__public_meaning"},"Unchecking the “Public” box will make your profile visible only to you, and your fellow team members (if applicable).")),this.render_actions())}}]),t}();ie.propTypes={location:c.a.string.isRequired,github_url:c.a.string.isRequired,linkedin_url:c.a.string.isRequired,website_url:c.a.string.isRequired,bio:c.a.string.isRequired,public:c.a.bool.isRequired,save_errors:c.a.objectOf(c.a.arrayOf(c.a.string)).isRequired,save_pending:c.a.bool.isRequired,save_changes:c.a.func.isRequired,cancel_changes:c.a.func.isRequired},ie.displayName="ProfileInfoEdit";var ne=ie,ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oe=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var le=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=i=se(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.state={in_edit:!1},i.edit_profile=function(){return i.setState({in_edit:!0})},i.cancel_changes=function(){i.setState({in_edit:!1}),i.props.clear_errors()},se(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),oe(t,[{key:"componentWillReceiveProps",value:function(e){!e.is_loading&&this.props.is_loading&&this.setState({in_edit:!f.a.isEmpty(e.save_errors)})}},{key:"get_profile_props",value:function(){return f.a.pick(this.props,["fullname","email","location","github_url","linkedin_url","website_url","bio"])}},{key:"render",value:function(){return this.state.in_edit?s.a.createElement("div",null,s.a.createElement(ne,ae({},this.get_profile_props(),{public:this.props.public,save_errors:this.props.save_errors,save_changes:this.props.save_profile,cancel_changes:this.cancel_changes,save_pending:this.props.is_loading}))):s.a.createElement("div",{className:"ProfileInfo__root"},this.props.can_edit&&s.a.createElement(Z.a,{text:"Edit",icon:"edit",className:"ProfileInfo__edit",onClick:this.edit_profile,hollow:!0,color:"gray",short:!0}),s.a.createElement(X,ae({image_url:this.props.image_url},this.get_profile_props(),{last_seen:this.props.last_seen,date_joined:this.props.date_joined})))}}]),t}();le.propTypes={can_edit:c.a.bool.isRequired,image_url:c.a.string.isRequired,fullname:c.a.string.isRequired,email:c.a.string.isRequired,location:c.a.string.isRequired,date_joined:c.a.string.isRequired,last_seen:c.a.string.isRequired,github_url:c.a.string.isRequired,linkedin_url:c.a.string.isRequired,website_url:c.a.string.isRequired,bio:c.a.string.isRequired,public:c.a.bool.isRequired,is_loading:c.a.bool.isRequired,save_errors:c.a.objectOf(c.a.arrayOf(c.a.string)).isRequired,save_profile:c.a.func.isRequired,clear_errors:c.a.func.isRequired},le.displayName="ProfileInfo";var ce=le,ue=(r(1343),r(51)),pe=r(1204),_e=r(225),fe={paths:[],progresses:{}},de=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e})({},Object(k.make_simple_selectors)(fe,"progress_over_time_info")),me={reset:function(){return E()(fe)}},be=function(e){return f.a.padStart(e,2,"0")},he={set_paths:function(e,t){var r=t.payload,i=f.a.chain(r).filter({pending:!1}).map(function(e){return{id:f.a.toString(e.sequence),title:e.name,progress:e.progress}}).value();return e.set("paths",i)},set_progress_for_path:function(e,t){var r=t.payload,i=r.path_id,n=r.progress;return n=f.a.chain(n).map(function(e){var t=e.date,r=e.percentage;return t=new Date(t),{date:be(t.getMonth()+1)+"/"+be(t.getDate()+1),percentage:r}}).take(180).reverse().value(),e.setIn(["progresses",i],n)}},ge=Object(k.make_reducer_n_actions)({public_handlers:me,private_handlers:he,action_types_prefix:"progress_over_time_info/",initial_state:fe,Immutable:E.a}),ve=ge.reducer,ye=ge.private_actions,we=ge.actions,Oe=(ge.ACTION_TYPES,ve),Pe=r(9),Ee=function(e){var t=e.user_id;return function(e,r){var i="/api/v1/accounts/public/users/"+t+"/tracks/";return Object(Pe.b)(i).then(function(i){e(ye.set_paths(i));var n=f.a.chain(i).filter({pending:!1}).map(function(i){var n=i.id,a=f.a.toString(n);return function(e){var t=e.user_id,r=e.path_id,i=e.dispatch,n=(e.getState,'query {\n    progress {\n      progress_over_time(user_id:"'+t+'", path_sequence:'+r+") {\n        date\n        percentage\n      }\n    }\n  }");return Object(Pe.c)(n).then(function(e){return i(ye.set_progress_for_path({path_id:r,progress:e.data.progress.progress_over_time}))}).catch(console.error)}({user_id:t,path_id:a,dispatch:e,getState:r})}).value();return Promise.all(n)}).catch(console.error)}},ke=Object.assign({},we,i),je=(Object(z.a)({progress_over_time_info:Oe}),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Re=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Se={backgroundColor:"hsla(160, 60%, 50%, 0.2)",borderColor:"hsl(160, 60%, 50%)",pointBackgroundColor:"hsl(160, 60%, 50%)",pointBorderWidth:0},Ce={legend:{display:!1},tooltips:{enabled:!1},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{min:0,max:1,stepSize:.25,callback:ue.a}}]}},Te=de,xe=ke,ze=Object(p.createStructuredSelector)(Te),Ie=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=i=qe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.render_chart=function(e,t){if(e.length<2)return null;var r={labels:i.get_labels(e),datasets:[je({},Se,{data:f.a.map(e,"percentage")})]};return s.a.createElement(pe.b,{data:r,options:Ce,width:330,height:210})},i.render_progress=function(e,t){var r=f.a.find(i.props.paths,{id:t});return s.a.createElement("div",{key:t},s.a.createElement("div",null,r.title," ",s.a.createElement(_e.a,{progress:r.progress})),i.render_chart(e,t))},qe(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),Re(t,[{key:"componentWillMount",value:function(){this.props.user_id&&this.props.fetch_progresses({user_id:this.props.user_id})}},{key:"componentWillReceiveProps",value:function(e){e.user_id&&!this.props.user_id&&this.props.fetch_progresses({user_id:e.user_id})}},{key:"get_labels",value:function(e){for(var t=e.length,r=[],i=0;i<t;i+=Math.round(t/4))r.push(i);return 4===r.length&&r.push(t-1),f.a.map(e,function(e,t){var i=e.date;return f.a.includes(r,t)?i:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"ProgressOverTime__root"},f.a.map(this.props.progresses,this.render_progress))}}]),t}();Ie.propTypes={user_id:c.a.string.isRequired,progresses:c.a.objectOf(c.a.arrayOf(c.a.shape({date:c.a.string.isRequired,percentage:c.a.number.isRequired}))).isRequired,paths:c.a.arrayOf(c.a.shape({id:c.a.string.isRequired,title:c.a.string.isRequired,progress:c.a.number.isRequired})),fetch_progresses:c.a.func.isRequired},Ie.displayName="ProgressOverTime";var Ne=Object(u.b)(ze,xe)(Ie),Le=r(39),Ae=r(35),We=r.n(Ae),De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Me=We()({loader:function(){return Promise.all([r.e(26),r.e(27)]).then(r.bind(null,1583))},loading:function(e){return s.a.createElement(Le.a,De({message:"Loading score code"},e))}}),Ue=(r(1341),{certificates:[]}),Ye=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e})({},Object(k.make_simple_selectors)(Ue,"certificates_info")),Ve={reset:function(){return E()(Ue)}};var Be={set_certificates:function(e,t){var r=t.payload;return e.set("certificates",f.a.map(r,function(e){return{title:e.name+" "+e.unit_type,view_url:e.view_url,linkedin_link:function(e){return f.a.chain(e).replace("\n").trim().value()}(e.linkedin_link)}}))}},Ge=Object(k.make_reducer_n_actions)({public_handlers:Ve,private_handlers:Be,action_types_prefix:"certificates_info/",initial_state:Ue,Immutable:E.a}),He=Ge.reducer,Je=Ge.private_actions,Fe=Ge.actions,Ke=(Ge.ACTION_TYPES,He),Qe=function(e){var t=e.user_id;return function(e,r){var i="/api/v1/accounts/public/users/"+t+"/certificates/";return Object(Pe.b)(i).then(function(t){e(Je.set_certificates(t))}).catch(console.error)}},Xe=Object.assign({},Fe,n),Ze=(Object(z.a)({certificates_info:Ke}),function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}());function $e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var et=Ye,tt=Xe,rt=Object(p.createStructuredSelector)(et),it=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=i=$e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.render_linkedin_button=function(e){return i.props.can_edit?s.a.createElement("a",{className:"CertificatesList__linkedin",target:"_blank",href:e},s.a.createElement("div",{className:"CertificatesList__linkedin-icon"},s.a.createElement(h.a,{name:"linkedin-button"})),s.a.createElement("h3",null,"Add to LinkedIn")):null},i.render_cert=function(e){return s.a.createElement("div",{key:e.title,className:"CertificatesList__cert_line"},s.a.createElement("a",{target:"_blank",title:"View certificate in new tab",href:e.view_url,className:"meta-light small CertificatesList__view_cert"},s.a.createElement(h.a,{name:"pass"})," ",s.a.createElement("span",{className:"CertificatesList__title"},e.title)),i.render_linkedin_button(e.linkedin_link))},$e(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),Ze(t,[{key:"componentWillMount",value:function(){this.props.user_id&&this.props.get_certificates({user_id:this.props.user_id})}},{key:"componentWillReceiveProps",value:function(e){e.user_id&&!this.props.user_id&&this.props.get_certificates({user_id:e.user_id})}},{key:"render",value:function(){return s.a.createElement("div",{className:"CertificatesList__root"},s.a.createElement("h3",null,"Certificates:"),this.props.certificates.length>0||s.a.createElement("p",null,"Complete a course to earn your first certificate."),f.a.map(this.props.certificates,this.render_cert))}}]),t}();it.propTypes={user_id:c.a.string.isRequired,can_edit:c.a.bool.isRequired,certificates:c.a.arrayOf(c.a.shape({title:c.a.string.isRequired,view_url:c.a.string.isRequired,linkedin_link:c.a.string.isRequired})).isRequired,get_certificates:c.a.func.isRequired},it.displayName="CertificatesList";var nt=Object(u.b)(rt,tt)(it),at=r(15),ot=r(40),st=r(17),lt=r(4),ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ut={fullname:"",email:"",image_url:"",location:"",date_joined:"",last_seen:"",github_url:"",linkedin_url:"",website_url:"",bio:"",user_id:"",profile_id:"",public:!1,can_edit:!1,can_download_source_code:!1,is_loading:!0,save_errors:{}},pt=Object(k.make_simple_selectors)(ut,"profile_info"),_t=ct({},pt),ft={reset:function(){return E()(ut)},clear_errors:function(e){return e.set("save_errors",{})}},dt={update_profile:function(e){return e},saving_profile:function(e){return e.set("is_loading",!0)},set_save_errors:function(e,t){var r=t.payload;return e.merge({save_errors:r,is_loading:!1})},set_profile:function(e,t){var r=t.payload;return e.merge(ct({},f.a.pick(r.profile,["image_url","location","github_url","linkedin_url","website_url","bio","last_seen"]),{date_joined:f.a.defaultTo(r.date_joined,""),fullname:r.first_name+" "+r.last_name,email:r.email||"",user_id:f.a.toString(r.id),profile_id:f.a.toString(r.profile.id),public:r.profile.public||!1,can_edit:r.profile.permissions.can_edit||!1,can_download_source_code:r.permissions.can_download_source_code||!1,save_errors:{},is_loading:!1}))}},mt=Object(k.make_reducer_n_actions)({public_handlers:ft,private_handlers:dt,action_types_prefix:"profile_info/",initial_state:ut,Immutable:E.a}),bt=mt.reducer,ht=mt.private_actions,gt=mt.actions,vt=(mt.ACTION_TYPES,bt),yt=r(26);var wt=function(e){var t=e.user_id,r=e.username,i=e.replace_url;return function(e,n){null==i&&(i=function(e){return window.location.replace(e)});var a=void 0;return a=t?"/api/v1/accounts/users/"+t+"/":"/api/v1/accounts/public/users/?username="+r,Object(Pe.b)(a).then(function(t){return e(ht.set_profile(t)),t}).catch(function(e){console.error(e),i(ot.c+"?target-url="+encodeURIComponent(yt.a.get_path_and_query()))})}},Ot=function(e){return 500===e.response.status?null:e.response.json()},Pt=function(e){return function(t,r){var i=_t.profile_id(r()),n=_t.user_id(r()),a="/api/v1/accounts/user_profiles/"+i+"/",o=function(e){return Array.isArray(e)?e:Array.from(e)}(f.a.trim(e.fullname).split(" ")),s=o[0],l=void 0===s?"":s,c=o.slice(1),u={post_obj:f.a.omit(e,["fullname","email"]),type:"PATCH"};return t(ht.saving_profile()),Object(Pe.b)(a,u).then(function(){return a="/api/v1/accounts/users/"+n+"/",u.post_obj={email:e.email,first_name:l,last_name:f.a.join(c," ")},Object(Pe.b)(a,u)}).then(function(){return t(ht.update_profile())}).then(function(){return wt({user_id:n})(t,r)}).then(function(){}).catch(Ot).then(function(e){null!=e&&t(ht.set_save_errors(e))}).catch(console.error)}},Et=Object.assign({},gt,a);Object(z.a)({profile_info:vt});r.d(t,"selectors",function(){return qt}),r.d(t,"actions",function(){return St}),r.d(t,"ProfileView",function(){return Tt});var kt=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function Rt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var qt=jt({username:lt.b.user_username,my_user_id:lt.b.user_id},_t),St=jt({replace_route:st.d},Et),Ct=Object(p.createStructuredSelector)(qt),Tt=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=i=Rt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.state={tabs:[]},Rt(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),kt(t,[{key:"componentWillMount",value:function(){this.fix_url_if_needed(this.props),this.update_tabs(this.props,!0),this.get_profile(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.update_tabs(e),e.match.params.username||!e.username?e.match.params.username!==this.props.match.params.username&&this.get_profile(e):this.fix_url_if_needed(e)}},{key:"get_profile",value:function(e){null==e.match.params.username||e.match.params.username===e.username?this.props.get_profile({user_id:e.my_user_id}):this.props.get_profile({username:e.match.params.username})}},{key:"update_tabs",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.user_id||e.user_id!==this.props.user_id){var t=[{title:"Achievements",children:s.a.createElement(nt,{user_id:e.user_id,can_edit:e.can_edit})}];e.can_download_source_code&&t.push({title:"Download Code",children:s.a.createElement(Me,{user_id:e.user_id})}),this.setState({tabs:t})}}},{key:"fix_url_if_needed",value:function(e){var t=e.match,r=e.username;if(!t.params.username){if(""===r)return void this.props.replace_route(ot.c+"?target-url="+encodeURIComponent(yt.a.get_path_and_query()));this.props.replace_route("/profile/"+r)}}},{key:"render_content",value:function(){return this.props.user_id?s.a.createElement("div",{className:"ProfileView__layout"},s.a.createElement("div",{className:"ProfileView__left_side"},s.a.createElement("div",{className:"scroller"},s.a.createElement(ce,f.a.pick(this.props,["fullname","email","image_url","location","date_joined","last_seen","github_url","linkedin_url","website_url","bio","public","is_loading","save_errors","save_profile","clear_errors","can_edit"])),s.a.createElement(Ne,{user_id:this.props.user_id}))),s.a.createElement(Y,{tabs:this.state.tabs})):null}},{key:"render",value:function(){var e=this.props.fullname+"'s learning profile",t="See how "+this.props.fullname+" is learning data science.";return s.a.createElement("div",{className:"view_root"},s.a.createElement(at.a,{title:e,description:t,canonical:"/profile/"+this.props.match.params.username}),this.render_content())}}]),t}();Tt.propTypes={username:c.a.string.isRequired,my_user_id:c.a.string.isRequired,fullname:c.a.string.isRequired,email:c.a.string.isRequired,image_url:c.a.string.isRequired,location:c.a.string.isRequired,date_joined:c.a.string.isRequired,last_seen:c.a.string.isRequired,github_url:c.a.string.isRequired,linkedin_url:c.a.string.isRequired,website_url:c.a.string.isRequired,bio:c.a.string.isRequired,user_id:c.a.string.isRequired,profile_id:c.a.string.isRequired,public:c.a.bool.isRequired,is_loading:c.a.bool.isRequired,save_errors:c.a.objectOf(c.a.arrayOf(c.a.string)).isRequired,save_profile:c.a.func.isRequired,clear_errors:c.a.func.isRequired,get_profile:c.a.func.isRequired,can_edit:c.a.bool.isRequired,can_download_source_code:c.a.bool.isRequired,match:c.a.shape({params:c.a.shape({username:c.a.string}).isRequired}).isRequired,replace_route:c.a.func.isRequired},Tt.displayName="ProfileView";t.default=Object(u.b)(Ct,St)(Tt)}}]);